(function(a,b){typeof module=="object"&&typeof module.exports=="object"?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)})(typeof window!="undefined"?window:this,function(window,noGlobal){function isArraylike(a){var b=a.length,c=jQuery.type(a);return c==="function"||jQuery.isWindow(a)?!1:a.nodeType===1&&b?!0:c==="array"||b===0||typeof b=="number"&&b>0&&b-1 in a}function winnow(a,b,c){if(jQuery.isFunction(b))return jQuery.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return jQuery.grep(a,function(a){return a===b!==c});if(typeof b=="string"){if(risSimple.test(b))return jQuery.filter(b,a,c);b=jQuery.filter(b,a)}return jQuery.grep(a,function(a){return indexOf.call(b,a)>=0!==c})}function sibling(a,b){while((a=a[b])&&a.nodeType!==1);return a}function createOptions(a){var b=optionsCache[a]={};return jQuery.each(a.match(rnotwhite)||[],function(a,c){b[c]=!0}),b}function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()}function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=jQuery.expando+Math.random()}function dataAttr(a,b,c){var d;if(c===undefined&&a.nodeType===1){d="data-"+b.replace(rmultiDash,"-$1").toLowerCase(),c=a.getAttribute(d);if(typeof c=="string"){try{c=c==="true"?!0:c==="false"?!1:c==="null"?null:+c+""===c?+c:rbrace.test(c)?jQuery.parseJSON(c):c}catch(e){}data_user.set(a,b,c)}else c=undefined}return c}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(a){}}function manipulationTarget(a,b){return jQuery.nodeName(a,"table")&&jQuery.nodeName(b.nodeType!==11?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function disableScript(a){return a.type=(a.getAttribute("type")!==null)+"/"+a.type,a}function restoreScript(a){var b=rscriptTypeMasked.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function setGlobalEval(a,b){var c=0,d=a.length;for(;c<d;c++)data_priv.set(a[c],"globalEval",!b||data_priv.get(b[c],"globalEval"))}function cloneCopyEvent(a,b){var c,d,e,f,g,h,i,j;if(b.nodeType!==1)return;if(data_priv.hasData(a)){f=data_priv.access(a),g=data_priv.set(b,f),j=f.events;if(j){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)jQuery.event.add(b,e,j[e][c])}}data_user.hasData(a)&&(h=data_user.access(a),i=jQuery.extend({},h),data_user.set(b,i))}function getAll(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return b===undefined||b&&jQuery.nodeName(a,b)?jQuery.merge([a],c):c}function fixInput(a,b){var c=b.nodeName.toLowerCase();if(c==="input"&&rcheckableType.test(a.type))b.checked=a.checked;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}function actualDisplay(a,b){var c=jQuery(b.createElement(a)).appendTo(b.body),d=window.getDefaultComputedStyle?window.getDefaultComputedStyle(c[0]).display:jQuery.css(c[0],"display");return c.detach(),d}function defaultDisplay(a){var b=document,c=elemdisplay[a];if(!c){c=actualDisplay(a,b);if(c==="none"||!c)iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=iframe[0].contentDocument,b.write(),b.close(),c=actualDisplay(a,b),iframe.detach();elemdisplay[a]=c}return c}function curCSS(a,b,c){var d,e,f,g,h=a.style;return c=c||getStyles(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(g===""&&!jQuery.contains(a.ownerDocument,a)&&(g=jQuery.style(a,b)),rnumnonpx.test(g)&&rmargin.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),g!==undefined?g+"":g}function addGetHookIf(a,b){return{get:function(){if(a()){delete this.get;return}return(this.get=b).apply(this,arguments)}}}function vendorPropName(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=cssPrefixes.length;while(e--){b=cssPrefixes[e]+c;if(b in a)return b}return d}function setPositiveNumber(a,b,c){var d=rnumsplit.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function augmentWidthOrHeight(a,b,c,d,e){var f=c===(d?"border":"content")?4:b==="width"?1:0,g=0;for(;f<4;f+=2)c==="margin"&&(g+=jQuery.css(a,c+cssExpand[f],!0,e)),d?(c==="content"&&(g-=jQuery.css(a,"padding"+cssExpand[f],!0,e)),c!=="margin"&&(g-=jQuery.css(a,"border"+cssExpand[f]+"Width",!0,e))):(g+=jQuery.css(a,"padding"+cssExpand[f],!0,e),c!=="padding"&&(g+=jQuery.css(a,"border"+cssExpand[f]+"Width",!0,e)));return g}function getWidthOrHeight(a,b,c){var d=!0,e=b==="width"?a.offsetWidth:a.offsetHeight,f=getStyles(a),g=jQuery.css(a,"boxSizing",!1,f)==="border-box";if(e<=0||e==null){e=curCSS(a,b,f);if(e<0||e==null)e=a.style[b];if(rnumnonpx.test(e))return e;d=g&&(support.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+augmentWidthOrHeight(a,b,c||(g?"border":"content"),d,f)+"px"}function showHide(a,b){var c,d,e,f=[],g=0,h=a.length;for(;g<h;g++){d=a[g];if(!d.style)continue;f[g]=data_priv.get(d,"olddisplay"),c=d.style.display,b?(!f[g]&&c==="none"&&(d.style.display=""),d.style.display===""&&isHidden(d)&&(f[g]=data_priv.access(d,"olddisplay",defaultDisplay(d.nodeName)))):f[g]||(e=isHidden(d),(c&&c!=="none"||!e)&&data_priv.set(d,"olddisplay",e?c:jQuery.css(d,"display")))}for(g=0;g<h;g++){d=a[g];if(!d.style)continue;if(!b||d.style.display==="none"||d.style.display==="")d.style.display=b?f[g]||"":"none"}return a}function Tween(a,b,c,d,e){return new Tween.prototype.init(a,b,c,d,e)}function createFxNow(){return setTimeout(function(){fxNow=undefined}),fxNow=jQuery.now()}function genFx(a,b){var c,d=0,e={height:a};b=b?1:0;for(;d<4;d+=2-b)c=cssExpand[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function createTween(a,b,c){var d,e=(tweeners[b]||[]).concat(tweeners["*"]),f=0,g=e.length;for(;f<g;f++)if(d=e[f].call(c,b,a))return d}function defaultPrefilter(a,b,c){var d,e,f,g,h,i,j,k=this,l={},m=a.style,n=a.nodeType&&isHidden(a),o=data_priv.get(a,"fxshow");c.queue||(h=jQuery._queueHooks(a,"fx"),h.unqueued==null&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,k.always(function(){k.always(function(){h.unqueued--,jQuery.queue(a,"fx").length||h.empty.fire()})})),a.nodeType===1&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],j=jQuery.css(a,"display"),j==="none"&&(j=defaultDisplay(a.nodeName)),j==="inline"&&jQuery.css(a,"float")==="none"&&(m.display="inline-block")),c.overflow&&(m.overflow="hidden",k.always(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b){e=b[d];if(rfxtypes.exec(e)){delete b[d],f=f||e==="toggle";if(e===(n?"hide":"show"))if(e==="show"&&o&&o[d]!==undefined)n=!0;else continue;l[d]=o&&o[d]||jQuery.style(a,d)}}if(!jQuery.isEmptyObject(l)){o?"hidden"in o&&(n=o.hidden):o=data_priv.access(a,"fxshow",{}),f&&(o.hidden=!n),n?jQuery(a).show():k.done(function(){jQuery(a).hide()}),k.done(function(){var b;data_priv.remove(a,"fxshow");for(b in l)jQuery.style(a,b,l[b])});for(d in l)g=createTween(n?o[d]:0,d,k),d in o||(o[d]=g.start,n&&(g.end=g.start,g.start=d==="width"||d==="height"?1:0))}}function propFilter(a,b){var c,d,e,f,g;for(c in a){d=jQuery.camelCase(c),e=b[d],f=a[c],jQuery.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=jQuery.cssHooks[d];if(g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}}function Animation(a,b,c){var d,e,f=0,g=animationPrefilters.length,h=jQuery.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;var b=fxNow||createFxNow(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;for(;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:jQuery.extend({},b),opts:jQuery.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:fxNow||createFxNow(),duration:c.duration,tweens:[],createTween:function(b,c){var d=jQuery.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;e=!0;for(;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;propFilter(k,j.opts.specialEasing);for(;f<g;f++){d=animationPrefilters[f].call(j,a,k,j.opts);if(d)return d}return jQuery.map(k,createTween,j),jQuery.isFunction(j.opts.start)&&j.opts.start.call(a,j),jQuery.fx.timer(jQuery.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function addToPrefiltersOrTransports(a){return function(b,c){typeof b!="string"&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(c))while(d=f[e++])d[0]==="+"?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function inspectPrefiltersOrTransports(a,b,c,d){function g(h){var i;return e[h]=!0,jQuery.each(a[h]||[],function(a,h){var j=h(b,c,d);if(typeof j=="string"&&!f&&!e[j])return b.dataTypes.unshift(j),g(j),!1;if(f)return!(i=j)}),i}var e={},f=a===transports;return g(b.dataTypes[0])||!e["*"]&&g("*")}function ajaxExtend(a,b){var c,d,e=jQuery.ajaxSettings.flatOptions||{};for(c in b)b[c]!==undefined&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&jQuery.extend(!0,a,d),a}function ajaxHandleResponses(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(i[0]==="*")i.shift(),d===undefined&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function ajaxConvert(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f){a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift();if(f)if(f==="*")f=i;else if(i!=="*"&&i!==f){g=j[i+" "+f]||j["* "+f];if(!g)for(e in j){h=e.split(" ");if(h[1]===f){g=j[i+" "+h[0]]||j["* "+h[0]];if(g){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}return{state:"success",data:b}}function buildParams(a,b,c,d){var e;if(jQuery.isArray(b))jQuery.each(b,function(b,e){c||rbracket.test(a)?d(a,e):buildParams(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&jQuery.type(b)==="object")for(e in b)buildParams(a+"["+e+"]",b[e],c,d);else d(a,b)}function getWindow(a){return jQuery.isWindow(a)?a:a.nodeType===9&&a.defaultView}var arr=[],slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,trim="".trim,support={},document=window.document,version="2.1.0",jQuery=function(a,b){return new jQuery.fn.init(a,b)},rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(a,b){return b.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(a){return a!=null?a<0?this[a+this.length]:this[a]:slice.call(this)},pushStack:function(a){var b=jQuery.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return jQuery.each(this,a,b)},map:function(a){return this.pushStack(jQuery.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;typeof g=="boolean"&&(j=g,g=arguments[h]||{},h++),typeof g!="object"&&!jQuery.isFunction(g)&&(g={}),h===i&&(g=this,h--);for(;h<i;h++)if((a=arguments[h])!=null)for(b in a){c=g[b],d=a[b];if(g===d)continue;j&&d&&(jQuery.isPlainObject(d)||(e=jQuery.isArray(d)))?(e?(e=!1,f=c&&jQuery.isArray(c)?c:[]):f=c&&jQuery.isPlainObject(c)?c:{},g[b]=jQuery.extend(j,f,d)):d!==undefined&&(g[b]=d)}return g},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return jQuery.type(a)==="function"},isArray:Array.isArray,isWindow:function(a){return a!=null&&a===a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isPlainObject:function(a){if(jQuery.type(a)!=="object"||a.nodeType||jQuery.isWindow(a))return!1;try{if(a.constructor&&!hasOwn.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return a==null?a+"":typeof a=="object"||typeof a=="function"?class2type[toString.call(a)]||"object":typeof a},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(code.indexOf("use strict")===1?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(a){return a.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=isArraylike(a);if(c)if(g)for(;e<f;e++){d=b.apply(a[e],c);if(d===!1)break}else for(e in a){d=b.apply(a[e],c);if(d===!1)break}else if(g)for(;e<f;e++){d=b.call(a[e],e,a[e]);if(d===!1)break}else for(e in a){d=b.call(a[e],e,a[e]);if(d===!1)break}return a},trim:function(a){return a==null?"":trim.call(a)},makeArray:function(a,b){var c=b||[];return a!=null&&(isArraylike(Object(a))?jQuery.merge(c,typeof a=="string"?[a]:a):push.call(c,a)),c},inArray:function(a,b,c){return b==null?-1:indexOf.call(b,a,c)},merge:function(a,b){var c=+b.length,d=0,e=a.length;for(;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length,h=!c;for(;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e=0,f=a.length,g=isArraylike(a),h=[];if(g)for(;e<f;e++)d=b(a[e],e,c),d!=null&&h.push(d);else for(e in a)d=b(a[e],e,c),d!=null&&h.push(d);return concat.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;return typeof b=="string"&&(c=a[b],b=a,a=c),jQuery.isFunction(a)?(d=slice.call(arguments,2),e=function(){return a.apply(b||this,d.concat(slice.call(arguments)))},e.guid=a.guid=a.guid||jQuery.guid++,e):undefined},now:Date.now,support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){class2type["[object "+b+"]"]=b.toLowerCase()});var Sizzle=function(a){function bd(a,b,d,e){var f,g,h,i,j,m,p,q,u,v;(b?b.ownerDocument||b:t)!==l&&k(b),b=b||l,d=d||[];if(!a||typeof a!="string")return d;if((i=b.nodeType)!==1&&i!==9)return[];if(n&&!e){if(f=Z.exec(a))if(h=f[1]){if(i===9){g=b.getElementById(h);if(!g||!g.parentNode)return d;if(g.id===h)return d.push(g),d}else if(b.ownerDocument&&(g=b.ownerDocument.getElementById(h))&&r(b,g)&&g.id===h)return d.push(g),d}else{if(f[2])return G.apply(d,b.getElementsByTagName(a)),d;if((h=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(h)),d}if(c.qsa&&(!o||!o.test(a))){q=p=s,u=b,v=i===9&&a;if(i===1&&b.nodeName.toLowerCase()!=="object"){m=bo(a),(p=b.getAttribute("id"))?q=p.replace(_,"\\$&"):b.setAttribute("id",q),q="[id='"+q+"'] ",j=m.length;while(j--)m[j]=q+bp(m[j]);u=$.test(a)&&bm(b.parentNode)||b,v=m.join(",")}if(v)try{return G.apply(d,u.querySelectorAll(v)),d}catch(w){}finally{p||b.removeAttribute("id")}}}return bx(a.replace(P,"$1"),b,d,e)}function be(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function bf(a){return a[s]=!0,a}function bg(a){var b=l.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function bh(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function bi(a,b){var c=b&&a,d=c&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||B)-(~a.sourceIndex||B);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function bj(a){return function(b){var c=b.nodeName.toLowerCase();return c==="input"&&b.type===a}}function bk(a){return function(b){var c=b.nodeName.toLowerCase();return(c==="input"||c==="button")&&b.type===a}}function bl(a){return bf(function(b){return b=+b,bf(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function bm(a){return a&&typeof a.getElementsByTagName!==A&&a}function bn(){}function bo(a,b){var c,e,f,g,h,i,j,k=x[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){if(!c||(e=Q.exec(h)))e&&(h=h.slice(e[0].length)||h),i.push(f=[]);c=!1;if(e=R.exec(h))c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length);for(g in d.filter)(e=V[g].exec(h))&&(!j[g]||(e=j[g](e)))&&(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?bd.error(a):x(a,i).slice(0)}function bp(a){var b=0,c=a.length,d="";for(;b<c;b++)d+=a[b].value;return d}function bq(a,b,c){var d=b.dir,e=c&&d==="parentNode",f=v++;return b.first?function(b,c,f){while(b=b[d])if(b.nodeType===1||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[u,f];if(g){while(b=b[d])if(b.nodeType===1||e)if(a(b,c,g))return!0}else while(b=b[d])if(b.nodeType===1||e){i=b[s]||(b[s]={});if((h=i[d])&&h[0]===u&&h[1]===f)return j[2]=h[2];i[d]=j;if(j[2]=a(b,c,g))return!0}}}function br(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function bs(a,b,c,d,e){var f,g=[],h=0,i=a.length,j=b!=null;for(;h<i;h++)if(f=a[h])if(!c||c(f,d,e))g.push(f),j&&b.push(h);return g}function bt(a,b,c,d,e,f){return d&&!d[s]&&(d=bt(d)),e&&!e[s]&&(e=bt(e,f)),bf(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||bw(b||"*",h.nodeType?[h]:h,[]),q=a&&(f||!b)?bs(p,m,a,h,i):p,r=c?e||(f?a:o||d)?[]:g:q;c&&c(q,r,h,i);if(d){j=bs(r,n),d(j,[],h,i),k=j.length;while(k--)if(l=j[k])r[n[k]]=!(q[n[k]]=l)}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=bs(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function bu(a){var b,c,e,f=a.length,g=d.relative[a[0].type],i=g||d.relative[" "],j=g?1:0,k=bq(function(a){return a===b},i,!0),l=bq(function(a){return I.call(b,a)>-1},i,!0),m=[function(a,c,d){return!g&&(d||c!==h)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];for(;j<f;j++)if(c=d.relative[a[j].type])m=[bq(br(m),c)];else{c=d.filter[a[j].type].apply(null,a[j].matches);if(c[s]){e=++j;for(;e<f;e++)if(d.relative[a[e].type])break;return bt(j>1&&br(m),j>1&&bp(a.slice(0,j-1).concat({value:a[j-2].type===" "?"*":""})).replace(P,"$1"),c,j<e&&bu(a.slice(j,e)),e<f&&bu(a=a.slice(e)),e<f&&bp(a))}m.push(c)}return br(m)}function bv(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,i,j,k){var m,n,o,p=0,q="0",r=f&&[],s=[],t=h,v=f||e&&d.find.TAG("*",k),w=u+=t==null?1:Math.random()||.1,x=v.length;k&&(h=g!==l&&g);for(;q!==x&&(m=v[q])!=null;q++){if(e&&m){n=0;while(o=a[n++])if(o(m,g,i)){j.push(m);break}k&&(u=w)}c&&((m=!o&&m)&&p--,f&&r.push(m))}p+=q;if(c&&q!==p){n=0;while(o=b[n++])o(r,s,g,i);if(f){if(p>0)while(q--)!r[q]&&!s[q]&&(s[q]=E.call(j));s=bs(s)}G.apply(j,s),k&&!f&&s.length>0&&p+b.length>1&&bd.uniqueSort(j)}return k&&(u=w,h=t),r};return c?bf(f):f}function bw(a,b,c){var d=0,e=b.length;for(;d<e;d++)bd(a,b[d],c);return c}function bx(a,b,e,f){var h,i,j,k,l,m=bo(a);if(!f&&m.length===1){i=m[0]=m[0].slice(0);if(i.length>2&&(j=i[0]).type==="ID"&&c.getById&&b.nodeType===9&&n&&d.relative[i[1].type]){b=(d.find.ID(j.matches[0].replace(ba,bb),b)||[])[0];if(!b)return e;a=a.slice(i.shift().value.length)}h=V.needsContext.test(a)?0:i.length;while(h--){j=i[h];if(d.relative[k=j.type])break;if(l=d.find[k])if(f=l(j.matches[0].replace(ba,bb),$.test(i[0].type)&&bm(b.parentNode)||b)){i.splice(h,1),a=f.length&&bp(i);if(!a)return G.apply(e,f),e;break}}}return g(a,m)(f,b,!n,e,$.test(a)&&bm(b.parentNode)||b),e}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s="sizzle"+ -(new Date),t=a.document,u=0,v=0,w=be(),x=be(),y=be(),z=function(a,b){return a===b&&(j=!0),0},A=typeof undefined,B=1<<31,C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=D.indexOf||function(a){var b=0,c=this.length;for(;b<c;b++)if(this[b]===a)return b;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M=L.replace("w","w#"),N="\\["+K+"*("+L+")"+K+"*(?:([*^$|!~]?=)"+K+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+M+")|)|)"+K+"*\\]",O=":("+L+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+N.replace(3,8)+")*)|.*)\\)|)",P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(O),U=new RegExp("^"+M+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L.replace("w","w*")+")"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),bb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,d&1023|56320)};try{G.apply(D=H.call(t.childNodes),t.childNodes),D[t.childNodes.length].nodeType}catch(bc){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}c=bd.support={},f=bd.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?b.nodeName!=="HTML":!1},k=bd.setDocument=function(a){var b,e=a?a.ownerDocument||a:t,g=e.defaultView;if(e===l||e.nodeType!==9||!e.documentElement)return l;l=e,m=e.documentElement,n=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){k()},!1):g.attachEvent&&g.attachEvent("onunload",function(){k()})),c.attributes=bg(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=bg(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(e.getElementsByClassName)&&bg(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",a.getElementsByClassName("i").length===2}),c.getById=bg(function(a){return m.appendChild(a).id=s,!e.getElementsByName||!e.getElementsByName(s).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==A&&n){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,bb);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,bb);return function(a){var c=typeof a.getAttributeNode!==A&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==A)return b.getElementsByTagName(a)}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(a==="*"){while(c=f[e++])c.nodeType===1&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==A&&n)return b.getElementsByClassName(a)},p=[],o=[];if(c.qsa=Y.test(e.querySelectorAll))bg(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&o.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||o.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll(":checked").length||o.push(":checked")}),bg(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&o.push("name"+K+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||o.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),o.push(",.*:")});return(c.matchesSelector=Y.test(q=m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&bg(function(a){c.disconnectedMatch=q.call(a,"div"),q.call(a,"[s!='']:x"),p.push("!=",O)}),o=o.length&&new RegExp(o.join("|")),p=p.length&&new RegExp(p.join("|")),b=Y.test(m.compareDocumentPosition),r=b||Y.test(m.contains)?function(a,b){var c=a.nodeType===9?a.documentElement:a,d=b&&b.parentNode;return a===d||!!d&&d.nodeType===1&&!!(c.contains?c.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16)}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},z=b?function(a,b){if(a===b)return j=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,d&1||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===t&&r(t,a)?-1:b===e||b.ownerDocument===t&&r(t,b)?1:i?I.call(i,a)-I.call(i,b):0:d&4?-1:1)}:function(a,b){if(a===b)return j=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],k=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:i?I.call(i,a)-I.call(i,b):0;if(f===g)return bi(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)k.unshift(c);while(h[d]===k[d])d++;return d?bi(h[d],k[d]):h[d]===t?-1:k[d]===t?1:0},e},bd.matches=function(a,b){return bd(a,null,null,b)},bd.matchesSelector=function(a,b){(a.ownerDocument||a)!==l&&k(a),b=b.replace(S,"='$1']");if(c.matchesSelector&&n&&(!p||!p.test(b))&&(!o||!o.test(b)))try{var d=q.call(a,b);if(d||c.disconnectedMatch||a.document&&a.document.nodeType!==11)return d}catch(e){}return bd(b,l,null,[a]).length>0},bd.contains=function(a,b){return(a.ownerDocument||a)!==l&&k(a),r(a,b)},bd.attr=function(a,b){(a.ownerDocument||a)!==l&&k(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!n):undefined;return f!==undefined?f:c.attributes||!n?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},bd.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},bd.uniqueSort=function(a){var b,d=[],e=0,f=0;j=!c.detectDuplicates,i=!c.sortStable&&a.slice(0),a.sort(z);if(j){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return i=null,a},e=bd.getText=function(a){var b,c="",d=0,f=a.nodeType;if(!f)while(b=a[d++])c+=e(b);else if(f===1||f===9||f===11){if(typeof a.textContent=="string")return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(f===3||f===4)return a.nodeValue;return c},d=bd.selectors={cacheLength:50,createPseudo:bf,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,bb),a[3]=(a[4]||a[5]||"").replace(ba,bb),a[2]==="~="&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),a[1].slice(0,3)==="nth"?(a[3]||bd.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(a[3]==="even"||a[3]==="odd")),a[5]=+(a[7]+a[8]||a[3]==="odd")):a[3]&&bd.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return V.CHILD.test(a[0])?null:(a[3]&&a[4]!==undefined?a[2]=a[4]:c&&T.test(c)&&(b=bo(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,bb).toLowerCase();return a==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=w[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&w(a,function(a){return b.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==A&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=bd.attr(d,a);return e==null?b==="!=":b?(e+="",b==="="?e===c:b==="!="?e!==c:b==="^="?c&&e.indexOf(c)===0:b==="*="?c&&e.indexOf(c)>-1:b==="$="?c&&e.slice(-c.length)===c:b==="~="?(" "+e+" ").indexOf(c)>-1:b==="|="?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f=a.slice(0,3)!=="nth",g=a.slice(-4)!=="last",h=b==="of-type";return d===1&&e===0?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),t=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:l.nodeType===1)return!1;o=p=a==="only"&&!o&&"nextSibling"}return!0}o=[g?q.firstChild:q.lastChild];if(g&&t){k=q[s]||(q[s]={}),j=k[a]||[],n=j[0]===u&&j[1],m=j[0]===u&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(l.nodeType===1&&++m&&l===b){k[a]=[u,n,m];break}}else if(t&&(j=(b[s]||(b[s]={}))[a])&&j[0]===u)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:l.nodeType===1)&&++m){t&&((l[s]||(l[s]={}))[a]=[u,m]);if(l===b)break}return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||bd.error("unsupported pseudo: "+a);return e[s]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?bf(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:bf(function(a){var b=[],c=[],d=g(a.replace(P,"$1"));return d[s]?bf(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)if(f=g[h])a[h]=!(b[h]=f)}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:bf(function(a){return function(b){return bd(a,b).length>0}}),contains:bf(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:bf(function(a){return U.test(a||"")||bd.error("unsupported lang: "+a),a=a.replace(ba,bb).toLowerCase(),function(b){var c;do if(c=n?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||c.indexOf(a+"-")===0;while((b=b.parentNode)&&b.nodeType===1);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===m},focus:function(a){return a===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&!!a.checked||b==="option"&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&a.type==="button"||b==="button"},text:function(a){var b;return a.nodeName.toLowerCase()==="input"&&a.type==="text"&&((b=a.getAttribute("type"))==null||b.toLowerCase()==="text")},first:bl(function(){return[0]}),last:bl(function(a,b){return[b-1]}),eq:bl(function(a,b,c){return[c<0?c+b:c]}),even:bl(function(a,b){var c=0;for(;c<b;c+=2)a.push(c);return a}),odd:bl(function(a,b){var c=1;for(;c<b;c+=2)a.push(c);return a}),lt:bl(function(a,b,c){var d=c<0?c+b:c;for(;--d>=0;)a.push(d);return a}),gt:bl(function(a,b,c){var d=c<0?c+b:c;for(;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=bj(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=bk(b);return bn.prototype=d.filters=d.pseudos,d.setFilters=new bn,g=bd.compile=function(a,b){var c,d=[],e=[],f=y[a+" "];if(!f){b||(b=bo(a)),c=b.length;while(c--)f=bu(b[c]),f[s]?d.push(f):e.push(f);f=y(a,bv(e,d))}return f},c.sortStable=s.split("").sort(z).join("")===s,c.detectDuplicates=!!j,k(),c.sortDetached=bg(function(a){return a.compareDocumentPosition(l.createElement("div"))&1}),bg(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild.getAttribute("href")==="#"})||bh("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,b.toLowerCase()==="type"?1:2)}),(!c.attributes||!bg(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),a.firstChild.getAttribute("value")===""}))&&bh("value",function(a,b,c){if(!c&&a.nodeName.toLowerCase()==="input")return a.defaultValue}),bg(function(a){return a.getAttribute("disabled")==null})||bh(J,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),bd}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),b.length===1&&d.nodeType===1?jQuery.find.matchesSelector(d,a)?[d]:[]:jQuery.find.matches(a,jQuery.grep(b,function(a){return a.nodeType===1}))},jQuery.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if(typeof a!="string")return this.pushStack(jQuery(a).filter(function(){for(b=0;b<c;b++)if(jQuery.contains(e[b],this))return!0}));for(b=0;b<c;b++)jQuery.find(a,e[b],d);return d=this.pushStack(c>1?jQuery.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(winnow(this,a||[],!1))},not:function(a){return this.pushStack(winnow(this,a||[],!0))},is:function(a){return!!winnow(this,typeof a=="string"&&rneedsContext.test(a)?jQuery(a):a||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(a,b){var c,d;if(!a)return this;if(typeof a=="string"){a[0]==="<"&&a[a.length-1]===">"&&a.length>=3?c=[null,a,null]:c=rquickExpr.exec(a);if(c&&(c[1]||!b)){if(c[1]){b=b instanceof jQuery?b[0]:b,jQuery.merge(this,jQuery.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:document,!0));if(rsingleTag.test(c[1])&&jQuery.isPlainObject(b))for(c in b)jQuery.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=document.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=document,this.selector=a,this}return!b||b.jquery?(b||rootjQuery).find(a):this.constructor(b).find(a)}return a.nodeType?(this.context=this[0]=a,this.length=1,this):jQuery.isFunction(a)?typeof rootjQuery.ready!="undefined"?rootjQuery.ready(a):a(jQuery):(a.selector!==undefined&&(this.selector=a.selector,this.context=a.context),jQuery.makeArray(a,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(a,b,c){var d=[],e=c!==undefined;while((a=a[b])&&a.nodeType!==9)if(a.nodeType===1){if(e&&jQuery(a).is(c))break;d.push(a)}return d},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}}),jQuery.fn.extend({has:function(a){var b=jQuery(a,this),c=b.length;return this.filter(function(){var a=0;for(;a<c;a++)if(jQuery.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g=rneedsContext.test(a)||typeof a!="string"?jQuery(a,b||this.context):0;for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:c.nodeType===1&&jQuery.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?jQuery.unique(f):f)},index:function(a){return a?typeof a=="string"?indexOf.call(jQuery(a),this[0]):indexOf.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(a,b))))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}}),jQuery.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return jQuery.dir(a,"parentNode")},parentsUntil:function(a,b,c){return jQuery.dir(a,"parentNode",c)},next:function(a){return sibling(a,"nextSibling")},prev:function(a){return sibling(a,"previousSibling")},nextAll:function(a){return jQuery.dir(a,"nextSibling")},prevAll:function(a){return jQuery.dir(a,"previousSibling")},nextUntil:function(a,b,c){return jQuery.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return jQuery.dir(a,"previousSibling",c)},siblings:function(a){return jQuery.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return jQuery.sibling(a.firstChild)},contents:function(a){return a.contentDocument||jQuery.merge([],a.childNodes)}},function(a,b){jQuery.fn[a]=function(c,d){var e=jQuery.map(this,b,c);return a.slice(-5)!=="Until"&&(d=c),d&&typeof d=="string"&&(e=jQuery.filter(d,e)),this.length>1&&(guaranteedUnique[a]||jQuery.unique(e),rparentsprev.test(a)&&e.reverse()),this.pushStack(e)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(a){a=typeof a=="string"?optionsCache[a]||createOptions(a):jQuery.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;for(;h&&g<f;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;(function g(b){jQuery.each(b,function(b,c){var d=jQuery.type(c);d==="function"?(!a.unique||!k.has(c))&&h.push(c):c&&c.length&&d!=="string"&&g(c)})})(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&jQuery.each(arguments,function(a,b){var c;while((c=jQuery.inArray(b,h,c))>-1)h.splice(c,1),d&&(c<=f&&f--,c<=g&&g--)}),this},has:function(a){return a?jQuery.inArray(a,h)>-1:!!h&&!!h.length},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=undefined,this},disabled:function(){return!h},lock:function(){return i=undefined,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return h&&(!c||i)&&(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},jQuery.extend({Deferred:function(a){var b=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return jQuery.Deferred(function(c){jQuery.each(b,function(b,f){var g=jQuery.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&jQuery.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return a!=null?jQuery.extend(a,d):d}},e={};return d.pipe=d.then,jQuery.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[a^1][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=slice.call(arguments),d=c.length,e=d!==1||a&&jQuery.isFunction(a.promise)?d:0,f=e===1?a:jQuery.Deferred(),g=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?slice.call(arguments):d,c===h?f.notifyWith(b,c):--e||f.resolveWith(b,c)}},h,i,j;if(d>1){h=new Array(d),i=new Array(d),j=new Array(d);for(;b<d;b++)c[b]&&jQuery.isFunction(c[b].promise)?c[b].promise().done(g(b,j,c)).fail(f.reject).progress(g(b,i,h)):--e}return e||f.resolveWith(j,c),f.promise()}});var readyList;jQuery.fn.ready=function(a){return jQuery.ready.promise().done(a),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(a){a?jQuery.readyWait++:jQuery.ready(!0)},ready:function(a){if(a===!0?--jQuery.readyWait:jQuery.isReady)return;jQuery.isReady=!0;if(a!==!0&&--jQuery.readyWait>0)return;readyList.resolveWith(document,[jQuery]),jQuery.fn.trigger&&jQuery(document).trigger("ready").off("ready")}}),jQuery.ready.promise=function(a){return readyList||(readyList=jQuery.Deferred(),document.readyState==="complete"?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(a)},jQuery.ready.promise();var access=jQuery.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=c==null;if(jQuery.type(c)==="object"){e=!0;for(h in c)jQuery.access(a,b,h,c[h],!0,f,g)}else if(d!==undefined){e=!0,jQuery.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(jQuery(a),c)}));if(b)for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}return e?a:j?b.call(a):i?b(a[0],c):f};jQuery.acceptData=function(a){return a.nodeType===1||a.nodeType===9||!+a.nodeType},Data.uid=1,Data.accepts=jQuery.acceptData,Data.prototype={key:function(a){if(!Data.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=Data.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,jQuery.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if(typeof b=="string")f[b]=c;else if(jQuery.isEmptyObject(f))jQuery.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return b===undefined?c:c[b]},access:function(a,b,c){var d;return b===undefined||b&&typeof b=="string"&&c===undefined?(d=this.get(a,b),d!==undefined?d:this.get(a,jQuery.camelCase(b))):(this.set(a,b,c),c!==undefined?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(b===undefined)this.cache[f]={};else{jQuery.isArray(b)?d=b.concat(b.map(jQuery.camelCase)):(e=jQuery.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(rnotwhite)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!jQuery.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var data_priv=new Data,data_user=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({hasData:function(a){return data_user.hasData(a)||data_priv.hasData(a)},data:function(a,b,c){return data_user.access(a,b,c)},removeData:function(a,b){data_user.remove(a,b)},_data:function(a,b,c){return data_priv.access(a,b,c)},_removeData:function(a,b){data_priv.remove(a,b)}}),jQuery.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(a===undefined){if(this.length){e=data_user.get(f);if(f.nodeType===1&&!data_priv.get(f,"hasDataAttrs")){c=g.length;while(c--)d=g[c].name,d.indexOf("data-")===0&&(d=jQuery.camelCase(d.slice(5)),dataAttr(f,d,e[d]));data_priv.set(f,"hasDataAttrs",!0)}}return e}return typeof a=="object"?this.each(function(){data_user.set(this,a)}):access(this,function(b){var c,d=jQuery.camelCase(a);if(f&&b===undefined){c=data_user.get(f,a);if(c!==undefined)return c;c=data_user.get(f,d);if(c!==undefined)return c;c=dataAttr(f,d,undefined);if(c!==undefined)return c;return}this.each(function(){var c=data_user.get(this,d);data_user.set(this,d,b),a.indexOf("-")!==-1&&c!==undefined&&data_user.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){data_user.remove(this,a)})}}),jQuery.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=data_priv.get(a,b),c&&(!d||jQuery.isArray(c)?d=data_priv.access(a,b,jQuery.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=jQuery.queue(a,b),d=c.length,e=c.shift(),f=jQuery._queueHooks(a,b),g=function(){jQuery.dequeue(a,b)};e==="inprogress"&&(e=c.shift(),d--),e&&(b==="fx"&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return data_priv.get(a,c)||data_priv.access(a,c,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(a,[b+"queue",c])})})}}),jQuery.fn.extend({queue:function(a,b){var c=2;return typeof a!="string"&&(b=a,a="fx",c--),arguments.length<c?jQuery.queue(this[0],a):b===undefined?this:this.each(function(){var c=jQuery.queue(this,a,b);jQuery._queueHooks(this,a),a==="fx"&&c[0]!=="inprogress"&&jQuery.dequeue(this,a)})},dequeue:function(a){return this.each(function(){jQuery.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=jQuery.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};typeof a!="string"&&(b=a,a=undefined),a=a||"fx";while(g--)c=data_priv.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(a,b){return a=b||a,jQuery.css(a,"display")==="none"||!jQuery.contains(a.ownerDocument,a)},rcheckableType=/^(?:checkbox|radio)$/i;(function(){var a=document.createDocumentFragment(),b=a.appendChild(document.createElement("div"));b.innerHTML="<input type='radio' checked='checked' name='t'/>",support.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue})();var strundefined=typeof undefined;support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=data_priv.get(a);if(!q)return;c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=jQuery.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof jQuery!==strundefined&&jQuery.event.triggered!==b.type?jQuery.event.dispatch.apply(a,arguments):undefined}),b=(b||"").match(rnotwhite)||[""],j=b.length;while(j--){h=rtypenamespace.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort();if(!n)continue;l=jQuery.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=jQuery.event.special[n]||{},k=jQuery.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&jQuery.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,(!l.setup||l.setup.call(a,d,o,g)===!1)&&a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),jQuery.event.global[n]=!0}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=data_priv.hasData(a)&&data_priv.get(a);if(!q||!(i=q.events))return;b=(b||"").match(rnotwhite)||[""],j=b.length;while(j--){h=rtypenamespace.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort();if(!n){for(n in i)jQuery.event.remove(a,n+b[j],c,d,!0);continue}l=jQuery.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],(e||p===k.origType)&&(!c||c.guid===k.guid)&&(!h||h.test(k.namespace))&&(!d||d===k.selector||d==="**"&&k.selector)&&(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&((!l.teardown||l.teardown.call(a,o,q.handle)===!1)&&jQuery.removeEvent(a,n,q.handle),delete i[n])}jQuery.isEmptyObject(i)&&(delete q.handle,data_priv.remove(a,"events"))},trigger:function(a,b,c,d){var e,f,g,h,i,j,k,l=[c||document],m=hasOwn.call(a,"type")?a.type:a,n=hasOwn.call(a,"namespace")?a.namespace.split("."):[];f=g=c=c||document;if(c.nodeType===3||c.nodeType===8)return;if(rfocusMorph.test(m+jQuery.event.triggered))return;m.indexOf(".")>=0&&(n=m.split("."),m=n.shift(),n.sort()),i=m.indexOf(":")<0&&"on"+m,a=a[jQuery.expando]?a:new jQuery.Event(m,typeof a=="object"&&a),a.isTrigger=d?2:3,a.namespace=n.join("."),a.namespace_re=a.namespace?new RegExp("(^|\\.)"+n.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=undefined,a.target||(a.target=c),b=b==null?[a]:jQuery.makeArray(b,[a]),k=jQuery.event.special[m]||{};if(!d&&k.trigger&&k.trigger.apply(c,b)===!1)return;if(!d&&!k.noBubble&&!jQuery.isWindow(c)){h=k.delegateType||m,rfocusMorph.test(h+m)||(f=f.parentNode);for(;f;f=f.parentNode)l.push(f),g=f;g===(c.ownerDocument||document)&&l.push(g.defaultView||g.parentWindow||window)}e=0;while((f=l[e++])&&!a.isPropagationStopped())a.type=e>1?h:k.bindType||m,j=(data_priv.get(f,"events")||{})[a.type]&&data_priv.get(f,"handle"),j&&j.apply(f,b),j=i&&f[i],j&&j.apply&&jQuery.acceptData(f)&&(a.result=j.apply(f,b),a.result===!1&&a.preventDefault());return a.type=m,!d&&!a.isDefaultPrevented()&&(!k._default||k._default.apply(l.pop(),b)===!1)&&jQuery.acceptData(c)&&i&&jQuery.isFunction(c[m])&&!jQuery.isWindow(c)&&(g=c[i],g&&(c[i]=null),jQuery.event.triggered=m,c[m](),jQuery.event.triggered=undefined,g&&(c[i]=g)),a.result},dispatch:function(a){a=jQuery.event.fix(a);var b,c,d,e,f,g=[],h=slice.call(arguments),i=(data_priv.get(this,"events")||{})[a.type]||[],j=jQuery.event.special[a.type]||{};h[0]=a,a.delegateTarget=this;if(j.preDispatch&&j.preDispatch.call(this,a)===!1)return;g=jQuery.event.handlers.call(this,a,i),b=0;while((e=g[b++])&&!a.isPropagationStopped()){a.currentTarget=e.elem,c=0;while((f=e.handlers[c++])&&!a.isImmediatePropagationStopped())if(!a.namespace_re||a.namespace_re.test(f.namespace))a.handleObj=f,a.data=f.data,d=((jQuery.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),d!==undefined&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation())}return j.postDispatch&&j.postDispatch.call(this,a),a.result},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||a.type!=="click"))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||a.type!=="click"){d=[];for(c=0;c<h;c++)f=b[c],e=f.selector+" ",d[e]===undefined&&(d[e]=f.needsContext?jQuery(e,this).index(i)>=0:jQuery.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return a.pageX==null&&b.clientX!=null&&(c=a.target.ownerDocument||document,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),!a.which&&f!==undefined&&(a.which=f&1?1:f&2?3:f&4?2:0),a}},fix:function(a){if(a[jQuery.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=rmouseEvent.test(e)?this.mouseHooks:rkeyEvent.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new jQuery.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=document),a.target.nodeType===3&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function(a){return jQuery.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==undefined&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=jQuery.extend(new jQuery.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?jQuery.event.trigger(e,null,b):jQuery.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},jQuery.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},jQuery.Event=function(a,b){if(this instanceof jQuery.Event)a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.defaultPrevented===undefined&&a.getPreventDefault&&a.getPreventDefault()?returnTrue:returnFalse):this.type=a,b&&jQuery.extend(this,b),this.timeStamp=a&&a.timeStamp||jQuery.now(),this[jQuery.expando]=!0;else return new jQuery.Event(a,b)},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=returnTrue,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=returnTrue,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){jQuery.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;if(!e||e!==d&&!jQuery.contains(d,e))a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b;return c}}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){jQuery.event.simulate(b,a.target,jQuery.event.fix(a),!0)};jQuery.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=data_priv.access(d,b);e||d.addEventListener(a,c,!0),data_priv.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=data_priv.access(d,b)-1;e?data_priv.access(d,b,e):(d.removeEventListener(a,c,!0),data_priv.remove(d,b))}}}),jQuery.fn.extend({on:function(a,b,c,d,e){var f,g;if(typeof a=="object"){typeof b!="string"&&(c=c||b,b=undefined);for(g in a)this.on(g,b,c,a[g],e);return this}c==null&&d==null?(d=b,c=b=undefined):d==null&&(typeof b=="string"?(d=c,c=undefined):(d=c,c=b,b=undefined));if(d===!1)d=returnFalse;else if(!d)return this;return e===1&&(f=d,d=function(a){return jQuery().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,jQuery(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if(typeof a=="object"){for(e in a)this.off(e,b,a[e]);return this}if(b===!1||typeof b=="function")c=b,b=undefined;return c===!1&&(c=returnFalse),this.each(function(){jQuery.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){jQuery.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return jQuery.event.trigger(a,b,c,!0)}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=jQuery.contains(a.ownerDocument,a);if(!support.noCloneChecked&&(a.nodeType===1||a.nodeType===11)&&!jQuery.isXMLDoc(a)){g=getAll(h),f=getAll(a);for(d=0,e=f.length;d<e;d++)fixInput(f[d],g[d])}if(b)if(c){f=f||getAll(a),g=g||getAll(h);for(d=0,e=f.length;d<e;d++)cloneCopyEvent(f[d],g[d])}else cloneCopyEvent(a,h);return g=getAll(h,"script"),g.length>0&&setGlobalEval(g,!i&&getAll(a,"script")),h},buildFragment:function(a,b,c,d){var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;for(;m<n;m++){e=a[m];if(e||e===0)if(jQuery.type(e)==="object")jQuery.merge(l,e.nodeType?[e]:e);else if(!rhtml.test(e))l.push(b.createTextNode(e));else{f=f||k.appendChild(b.createElement("div")),g=(rtagName.exec(e)||["",""])[1].toLowerCase(),h=wrapMap[g]||wrapMap._default,f.innerHTML=h[1]+e.replace(rxhtmlTag,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;jQuery.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}}k.textContent="",m=0;while(e=l[m++]){if(d&&jQuery.inArray(e,d)!==-1)continue;i=jQuery.contains(e.ownerDocument,e),f=getAll(k.appendChild(e),"script"),i&&setGlobalEval(f);if(c){j=0;while(e=f[j++])rscriptType.test(e.type||"")&&c.push(e)}}return k},cleanData:function(a){var b,c,d,e,f,g,h=jQuery.event.special,i=0;for(;(c=a[i])!==undefined;i++){if(jQuery.acceptData(c)){f=c[data_priv.expando];if(f&&(b=data_priv.cache[f])){d=Object.keys(b.events||{});if(d.length)for(g=0;(e=d[g])!==undefined;g++)h[e]?jQuery.event.remove(c,e):jQuery.removeEvent(c,e,b.handle);data_priv.cache[f]&&delete data_priv.cache[f]}}delete data_user.cache[c[data_user.expando]]}}}),jQuery.fn.extend({text:function(a){return access(this,function(a){return a===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9)this.textContent=a})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=manipulationTarget(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=manipulationTarget(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){var c,d=a?jQuery.filter(a,this):this,e=0;for(;(c=d[e])!=null;e++)!b&&c.nodeType===1&&jQuery.cleanData(getAll(c)),c.parentNode&&(b&&jQuery.contains(c.ownerDocument,c)&&setGlobalEval(getAll(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){var a,b=0;for(;(a=this[b])!=null;b++)a.nodeType===1&&(jQuery.cleanData(getAll(a,!1)),a.textContent="");return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return jQuery.clone(this,a,b)})},html:function(a){return access(this,function(a){var b=this[0]||{},c=0,d=this.length;if(a===undefined&&b.nodeType===1)return b.innerHTML;if(typeof a=="string"&&!rnoInnerhtml.test(a)&&!wrapMap[(rtagName.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(rxhtmlTag,"<$1></$2>");try{for(;c<d;c++)b=this[c]||{},b.nodeType===1&&(jQuery.cleanData(getAll(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,jQuery.cleanData(getAll(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=concat.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],n=jQuery.isFunction(m);if(n||j>1&&typeof m=="string"&&!support.checkClone&&rchecked.test(m))return this.each(function(c){var d=k.eq(c);n&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j){c=jQuery.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,c.childNodes.length===1&&(c=d);if(d){e=jQuery.map(getAll(c,"script"),disableScript),f=e.length;for(;i<j;i++)g=c,i!==l&&(g=jQuery.clone(g,!0,!0),f&&jQuery.merge(e,getAll(g,"script"))),b.call(this[i],g,i);if(f){h=e[e.length-1].ownerDocument,jQuery.map(e,restoreScript);for(i=0;i<f;i++)g=e[i],rscriptType.test(g.type||"")&&!data_priv.access(g,"globalEval")&&jQuery.contains(h,g)&&(g.src?jQuery._evalUrl&&jQuery._evalUrl(g.src):jQuery.globalEval(g.textContent.replace(rcleanScript,"")))}}}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){jQuery.fn[a]=function(a){var c,d=[],e=jQuery(a),f=e.length-1,g=0;for(;g<=f;g++)c=g===f?this:this.clone(!0),jQuery(e[g])[b](c),push.apply(d,c.get());return this.pushStack(d)}});var iframe,elemdisplay={},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};(function(){function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",d.appendChild(e);var c=window.getComputedStyle(f,null);a=c.top!=="1%",b=c.width==="4px",d.removeChild(e)}var a,b,c="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",d=document.documentElement,e=document.createElement("div"),f=document.createElement("div");f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle=f.style.backgroundClip==="content-box",e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",e.appendChild(f),window.getComputedStyle&&jQuery.extend(support,{pixelPosition:function(){return g(),a},boxSizingReliable:function(){return b==null&&g(),b},reliableMarginRight:function(){var a,b=f.appendChild(document.createElement("div"));return b.style.cssText=f.style.cssText=c,b.style.marginRight=b.style.width="0",f.style.width="1px",d.appendChild(e),a=!parseFloat(window.getComputedStyle(b,null).marginRight),d.removeChild(e),f.innerHTML="",a}})})(),jQuery.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=curCSS(a,"opacity");return c===""?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var e,f,g,h=jQuery.camelCase(b),i=a.style;b=jQuery.cssProps[h]||(jQuery.cssProps[h]=vendorPropName(i,h)),g=jQuery.cssHooks[b]||jQuery.cssHooks[h];if(c===undefined)return g&&"get"in g&&(e=g.get(a,!1,d))!==undefined?e:i[b];f=typeof c,f==="string"&&(e=rrelNum.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(jQuery.css(a,b)),f="number");if(c==null||c!==c)return;f==="number"&&!jQuery.cssNumber[h]&&(c+="px"),!support.clearCloneStyle&&c===""&&b.indexOf("background")===0&&(i[b]="inherit");if(!g||!("set"in g)||(c=g.set(a,c,d))!==undefined)i[b]="",i[b]=c},css:function(a,b,c,d){var e,f,g,h=jQuery.camelCase(b);return b=jQuery.cssProps[h]||(jQuery.cssProps[h]=vendorPropName(a.style,h)),g=jQuery.cssHooks[b]||jQuery.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),e===undefined&&(e=curCSS(a,b,d)),e==="normal"&&b in cssNormalTransform&&(e=cssNormalTransform[b]),c===""||c?(f=parseFloat(e),c===!0||jQuery.isNumeric(f)?f||0:e):e}}),jQuery.each(["height","width"],function(a,b){jQuery.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth===0&&rdisplayswap.test(jQuery.css(a,"display"))?jQuery.swap(a,cssShow,function(){return getWidthOrHeight(a,b,d)}):getWidthOrHeight(a,b,d)},set:function(a,c,d){var e=d&&getStyles(a);return setPositiveNumber(a,c,d?augmentWidthOrHeight(a,b,d,jQuery.css(a,"boxSizing",!1,e)==="border-box",e):0)}}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(a,b){if(b)return jQuery.swap(a,{display:"inline-block"},curCSS,[a,"marginRight"])}),jQuery.each({margin:"",padding:"",border:"Width"},function(a,b){jQuery.cssHooks[a+b]={expand:function(c){var d=0,e={},f=typeof c=="string"?c.split(" "):[c];for(;d<4;d++)e[a+cssExpand[d]+b]=f[d]||f[d-2]||f[0];return e}},rmargin.test(a)||(jQuery.cssHooks[a+b].set=setPositiveNumber)}),jQuery.fn.extend({css:function(a,b){return access(this,function(a,b,c){var d,e,f={},g=0;if(jQuery.isArray(b)){d=getStyles(a),e=b.length;for(;g<e;g++)f[b[g]]=jQuery.css(a,b[g],!1,d);return f}return c!==undefined?jQuery.style(a,b,c):jQuery.css(a,b)},a,b,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(a){return typeof a=="boolean"?a?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(jQuery.cssNumber[c]?"":"px")},cur:function(){var a=Tween.propHooks[this.prop];return a&&a.get?a.get(this):Tween.propHooks._default.get(this)},run:function(a){var b,c=Tween.propHooks[this.prop];return this.options.duration?this.pos=b=jQuery.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(a){var b;return a.elem[a.prop]==null||!!a.elem.style&&a.elem.style[a.prop]!=null?(b=jQuery.css(a.elem,a.prop,""),!b||b==="auto"?0:b):a.elem[a.prop]},set:function(a){jQuery.fx.step[a.prop]?jQuery.fx.step[a.prop](a):a.elem.style&&(a.elem.style[jQuery.cssProps[a.prop]]!=null||jQuery.cssHooks[a.prop])?jQuery.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},jQuery.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=rfxnum.exec(b),f=e&&e[3]||(jQuery.cssNumber[a]?"":"px"),g=(jQuery.cssNumber[a]||f!=="px"&&+d)&&rfxnum.exec(jQuery.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,jQuery.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&h!==1&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(a,b){jQuery.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");var c,d=0,e=a.length;for(;d<e;d++)c=a[d],tweeners[c]=tweeners[c]||[],tweeners[c].unshift(b)},prefilter:function(a,b){b?animationPrefilters.unshift(a):animationPrefilters.push(a)}}),jQuery.speed=function(a,b,c){var d=a&&typeof a=="object"?jQuery.extend({},a):{complete:c||!c&&b||jQuery.isFunction(a)&&a,duration:a,easing:c&&b||b&&!jQuery.isFunction(b)&&b};d.duration=jQuery.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in jQuery.fx.speeds?jQuery.fx.speeds[d.duration]:jQuery.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(){jQuery.isFunction(d.old)&&d.old.call(this),d.queue&&jQuery.dequeue(this,d.queue)},d},jQuery.fn.extend({fadeTo:function(a,b,c,d){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=jQuery.isEmptyObject(a),f=jQuery.speed(b,c,d),g=function(){var b=Animation(this,jQuery.extend({},a),f);(e||data_priv.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return typeof a!="string"&&(c=b,b=a,a=undefined),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=a!=null&&a+"queueHooks",f=jQuery.timers,g=data_priv.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&rrun.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem===this&&(a==null||f[e].queue===a)&&(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&jQuery.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=data_priv.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=jQuery.timers,g=d?d.length:0;c.finish=!0,jQuery.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0);for(b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),jQuery.each(["toggle","show","hide"],function(a,b){var c=jQuery.fn[b];jQuery.fn[b]=function(a,d,e){return a==null||typeof a=="boolean"?c.apply(this,arguments):this.animate(genFx(b,!0),a,d,e)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){jQuery.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),jQuery.timers=[],jQuery.fx.tick=function(){var a,b=0,c=jQuery.timers;fxNow=jQuery.now();for(;b<c.length;b++)a=c[b],!a()&&c[b]===a&&c.splice(b--,1);c.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(a){jQuery.timers.push(a),a()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(a,b){return a=jQuery.fx?jQuery.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=document.createElement("input"),b=document.createElement("select"),c=b.appendChild(document.createElement("option"));a.type="checkbox",support.checkOn=a.value!=="",support.optSelected=c.selected,b.disabled=!0,support.optDisabled=!c.disabled,a=document.createElement("input"),a.value="t",a.type="radio",support.radioValue=a.value==="t"}();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(a,b){return access(this,jQuery.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){jQuery.removeAttr(this,a)})}}),jQuery.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(!a||f===3||f===8||f===2)return;if(typeof a.getAttribute===strundefined)return jQuery.prop(a,b,c);if(f!==1||!jQuery.isXMLDoc(a))b=b.toLowerCase(),d=jQuery.attrHooks[b]||(jQuery.expr.match.bool.test(b)?boolHook:nodeHook);if(c===undefined)return d&&"get"in d&&(e=d.get(a,b))!==null?e:(e=jQuery.find.attr(a,b),e==null?undefined:e);if(c===null)jQuery.removeAttr(a,b);else return d&&"set"in d&&(e=d.set(a,c,b))!==undefined?e:(a.setAttribute(b,c+""),c)},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(rnotwhite);if(f&&a.nodeType===1)while(c=f[e++])d=jQuery.propFix[c]||c,jQuery.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!support.radioValue&&b==="radio"&&jQuery.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),boolHook={set:function(a,b,c){return b===!1?jQuery.removeAttr(a,c):a.setAttribute(c,c),c}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(a,b){var c=attrHandle[b]||jQuery.find.attr;attrHandle[b]=function(a,b,d){var e,f;return d||(f=attrHandle[b],attrHandle[b]=e,e=c(a,b,d)!=null?b.toLowerCase():null,attrHandle[b]=f),e}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(a,b){return access(this,jQuery.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[jQuery.propFix[a]||a]})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(!a||g===3||g===8||g===2)return;return f=g!==1||!jQuery.isXMLDoc(a),f&&(b=jQuery.propFix[b]||b,e=jQuery.propHooks[b]),c!==undefined?e&&"set"in e&&(d=e.set(a,c,b))!==undefined?d:a[b]=c:e&&"get"in e&&(d=e.get(a,b))!==null?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||rfocusable.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),support.optSelected||(jQuery.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=typeof a=="string"&&a,i=0,j=this.length;if(jQuery.isFunction(a))return this.each(function(b){jQuery(this).addClass(a.call(this,b,this.className))});if(h){b=(a||"").match(rnotwhite)||[];for(;i<j;i++){c=this[i],d=c.nodeType===1&&(c.className?(" "+c.className+" ").replace(rclass," "):" ");if(d){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=jQuery.trim(d),c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=arguments.length===0||typeof a=="string"&&a,i=0,j=this.length;if(jQuery.isFunction(a))return this.each(function(b){jQuery(this).removeClass(a.call(this,b,this.className))});if(h){b=(a||"").match(rnotwhite)||[];for(;i<j;i++){c=this[i],d=c.nodeType===1&&(c.className?(" "+c.className+" ").replace(rclass," "):"");if(d){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?jQuery.trim(d):"",c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return typeof b=="boolean"&&c==="string"?b?this.addClass(a):this.removeClass(a):jQuery.isFunction(a)?this.each(function(c){jQuery(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var b,d=0,e=jQuery(this),f=a.match(rnotwhite)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else if(c===strundefined||c==="boolean")this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||a===!1?"":data_priv.get(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(rclass," ").indexOf(b)>=0)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(a){var b,c,d,e=this[0];if(!arguments.length){if(e)return b=jQuery.valHooks[e.type]||jQuery.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&(c=b.get(e,"value"))!==undefined?c:(c=e.value,typeof c=="string"?c.replace(rreturn,""):c==null?"":c);return}return d=jQuery.isFunction(a),this.each(function(c){var e;if(this.nodeType!==1)return;d?e=a.call(this,c,jQuery(this).val()):e=a,e==null?e="":typeof e=="number"?e+="":jQuery.isArray(e)&&(e=jQuery.map(e,function(a){return a==null?"":a+""})),b=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!b||!("set"in b)||b.set(this,e,"value")===undefined)this.value=e})}}),jQuery.extend({valHooks:{select:{get:function(a){var b,c,d=a.options,e=a.selectedIndex,f=a.type==="select-one"||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;for(;i<h;i++){c=d[i];if((c.selected||i===e)&&(support.optDisabled?!c.disabled:c.getAttribute("disabled")===null)&&(!c.parentNode.disabled||!jQuery.nodeName(c.parentNode,"optgroup"))){b=jQuery(c).val();if(f)return b;g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=jQuery.makeArray(b),g=e.length;while(g--){d=e[g];if(d.selected=jQuery.inArray(jQuery(d).val(),f)>=0)c=!0}return c||(a.selectedIndex=-1),f}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(a,b){if(jQuery.isArray(b))return a.checked=jQuery.inArray(jQuery(a).val(),b)>=0}},support.checkOn||(jQuery.valHooks[this].get=function(a){return a.getAttribute("value")===null?"on":a.value})}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){jQuery.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),jQuery.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length===1?this.off(a,"**"):this.off(b,a||"**",c)}});var nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(a){return JSON.parse(a+"")},jQuery.parseXML=function(a){var b,c;if(!a||typeof a!="string")return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=undefined}return(!b||b.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+a),b};var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?ajaxExtend(ajaxExtend(a,jQuery.ajaxSettings),b):ajaxExtend(jQuery.ajaxSettings,a)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(a,b){function w(a,b,f,h){var j,q,r,t,v,w=b;if(s===2)return;s=2,g&&clearTimeout(g),c=undefined,e=h||"",u.readyState=a>0?4:0,j=a>=200&&a<300||a===304,f&&(t=ajaxHandleResponses(k,u,f)),t=ajaxConvert(k,t,u,j);if(j)k.ifModified&&(v=u.getResponseHeader("Last-Modified"),v&&(jQuery.lastModified[d]=v),v=u.getResponseHeader("etag"),v&&(jQuery.etag[d]=v)),a===204||k.type==="HEAD"?w="nocontent":a===304?w="notmodified":(w=t.state,q=t.data,r=t.error,j=!r);else{r=w;if(a||!w)w="error",a<0&&(a=0)}u.status=a,u.statusText=(b||w)+"",j?n.resolveWith(l,[q,w,u]):n.rejectWith(l,[u,w,r]),u.statusCode(p),p=undefined,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[u,k,j?q:r]),o.fireWith(l,[u,w]),i&&(m.trigger("ajaxComplete",[u,k]),--jQuery.active||jQuery.event.trigger("ajaxStop"))}typeof a=="object"&&(b=a,a=undefined),b=b||{};var c,d,e,f,g,h,i,j,k=jQuery.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?jQuery(l):jQuery.event,n=jQuery.Deferred(),o=jQuery.Callbacks("once memory"),p=k.statusCode||{},q={},r={},s=0,t="canceled",u={readyState:0,getResponseHeader:function(a){var b;if(s===2){if(!f){f={};while(b=rheaders.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return b==null?null:b},getAllResponseHeaders:function(){return s===2?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return s||(a=r[c]=r[c]||a,q[a]=b),this},overrideMimeType:function(a){return s||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(s<2)for(b in a)p[b]=[p[b],a[b]];else u.always(a[u.status]);return this},abort:function(a){var b=a||t;return c&&c.abort(b),w(0,b),this}};n.promise(u).complete=o.add,u.success=u.done,u.error=u.fail,k.url=((a||k.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=jQuery.trim(k.dataType||"*").toLowerCase().match(rnotwhite)||[""],k.crossDomain==null&&(h=rurl.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===ajaxLocParts[1]&&h[2]===ajaxLocParts[2]&&(h[3]||(h[1]==="http:"?"80":"443"))===(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443")))),k.data&&k.processData&&typeof k.data!="string"&&(k.data=jQuery.param(k.data,k.traditional)),inspectPrefiltersOrTransports(prefilters,k,b,u);if(s===2)return u;i=k.global,i&&jQuery.active++===0&&jQuery.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!rnoContent.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(rquery.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=rts.test(d)?d.replace(rts,"$1_="+nonce++):d+(rquery.test(d)?"&":"?")+"_="+nonce++)),k.ifModified&&(jQuery.lastModified[d]&&u.setRequestHeader("If-Modified-Since",jQuery.lastModified[d]),jQuery.etag[d]&&u.setRequestHeader("If-None-Match",jQuery.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&u.setRequestHeader("Content-Type",k.contentType),u.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(k.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)u.setRequestHeader(j,k.headers[j]);if(!k.beforeSend||k.beforeSend.call(l,u,k)!==!1&&s!==2){t="abort";for(j in{success:1,error:1,complete:1})u[j](k[j]);c=inspectPrefiltersOrTransports(transports,k,b,u);if(!c)w(-1,"No Transport");else{u.readyState=1,i&&m.trigger("ajaxSend",[u,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){u.abort("timeout")},k.timeout));try{s=1,c.send(q,w)}catch(v){if(s<2)w(-1,v);else throw v}}return u}return u.abort()},getJSON:function(a,b,c){return jQuery.get(a,b,c,"json")},getScript:function(a,b){return jQuery.get(a,undefined,b,"script")}}),jQuery.each(["get","post"],function(a,b){jQuery[b]=function(a,c,d,e){return jQuery.isFunction(c)&&(e=e||d,d=c,c=undefined),jQuery.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){jQuery.fn[b]=function(a){return this.on(b,a)}}),jQuery._evalUrl=function(a){return jQuery.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(a){var b;return jQuery.isFunction(a)?this.each(function(b){jQuery(this).wrapAll(a.call(this,b))}):(this[0]&&(b=jQuery(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return jQuery.isFunction(a)?this.each(function(b){jQuery(this).wrapInner(a.call(this,b))}):this.each(function(){var b=jQuery(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=jQuery.isFunction(a);return this.each(function(c){jQuery(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},jQuery.expr.filters.visible=function(a){return!jQuery.expr.filters.hidden(a)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(a,b){var c,d=[],e=function(a,b){b=jQuery.isFunction(b)?b():b==null?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===undefined&&(b=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional);if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){e(this.name,this.value)});else for(c in a)buildParams(c,a[c],b,e);return d.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=jQuery.prop(this,"elements");return a?jQuery.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(a)&&(this.checked||!rcheckableType.test(a))}).map(function(a,b){var c=jQuery(this).val();return c==null?null:jQuery.isArray(c)?jQuery.map(c,function(a){return{name:b.name,value:a.replace(rCRLF,"\r\n")}}):{name:b.name,value:c.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();window.ActiveXObject&&jQuery(window).on("unload",function(){for(var a in xhrCallbacks)xhrCallbacks[a]()}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(a){var b;if(support.cors||xhrSupported&&!a.crossDomain)return{send:function(c,d){var e,f=a.xhr(),g=++xhrId;f.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),!a.crossDomain&&!c["X-Requested-With"]&&(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete xhrCallbacks[g],b=f.onload=f.onerror=null,a==="abort"?f.abort():a==="error"?d(f.status,f.statusText):d(xhrSuccessStatus[f.status]||f.status,f.statusText,typeof f.responseText=="string"?{text:f.responseText}:undefined,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=xhrCallbacks[g]=b("abort"),f.send(a.hasContent&&a.data||null)},abort:function(){b&&b()}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return jQuery.globalEval(a),a}}}),jQuery.ajaxPrefilter("script",function(a){a.cache===undefined&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),jQuery.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=jQuery("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e(a.type==="error"?404:200,a.type)}),document.head.appendChild(b[0])},abort:function(){c&&c()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[a]=!0,a}}),jQuery.ajaxPrefilter("json jsonp",function(a,b,c){var d,e,f,g=a.jsonp!==!1&&(rjsonp.test(a.url)?"url":typeof a.data=="string"&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(a.data)&&"data");if(g||a.dataTypes[0]==="jsonp")return d=a.jsonpCallback=jQuery.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,g?a[g]=a[g].replace(rjsonp,"$1"+d):a.jsonp!==!1&&(a.url+=(rquery.test(a.url)?"&":"?")+a.jsonp+"="+d),a.converters["script json"]=function(){return f||jQuery.error(d+" was not called"),f[0]},a.dataTypes[0]="json",e=window[d],window[d]=function(){f=arguments},c.always(function(){window[d]=e,a[d]&&(a.jsonpCallback=b.jsonpCallback,oldCallbacks.push(d)),f&&jQuery.isFunction(e)&&e(f[0]),f=e=undefined}),"script"}),jQuery.parseHTML=function(a,b,c){if(!a||typeof a!="string")return null;typeof b=="boolean"&&(c=b,b=!1),b=b||document;var d=rsingleTag.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=jQuery.buildFragment([a],b,e),e&&e.length&&jQuery(e).remove(),jQuery.merge([],d.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(a,b,c){if(typeof a!="string"&&_load)return _load.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h),a=a.slice(0,h)),jQuery.isFunction(b)?(c=b,b=undefined):b&&typeof b=="object"&&(e="POST"),g.length>0&&jQuery.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?jQuery("<div>").append(jQuery.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},jQuery.expr.filters.animated=function(a){return jQuery.grep(jQuery.timers,function(b){return a===b.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=jQuery.css(a,"position"),l=jQuery(a),m={};k==="static"&&(a.style.position="relative"),h=l.offset(),f=jQuery.css(a,"top"),i=jQuery.css(a,"left"),j=(k==="absolute"||k==="fixed")&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),jQuery.isFunction(b)&&(b=b.call(a,c,h)),b.top!=null&&(m.top=b.top-h.top+g),b.left!=null&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},jQuery.fn.extend({offset:function(a){if(arguments.length)return a===undefined?this:this.each(function(b){jQuery.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(!f)return;return b=f.documentElement,jQuery.contains(b,d)?(typeof d.getBoundingClientRect!==strundefined&&(e=d.getBoundingClientRect()),c=getWindow(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(!this[0])return;var a,b,c=this[0],d={top:0,left:0};return jQuery.css(c,"position")==="fixed"?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),jQuery.nodeName(a[0],"html")||(d=a.offset()),d.top+=jQuery.css(a[0],"borderTopWidth",!0),d.left+=jQuery.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-jQuery.css(c,"marginTop",!0),left:b.left-d.left-jQuery.css(c,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||docElem;while(a&&!jQuery.nodeName(a,"html")&&jQuery.css(a,"position")==="static")a=a.offsetParent;return a||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;jQuery.fn[a]=function(d){return access(this,function(a,d,e){var f=getWindow(a);if(e===undefined)return f?f[b]:a[d];f?f.scrollTo(c?window.pageXOffset:e,c?e:window.pageYOffset):a[d]=e},a,d,arguments.length,null)}}),jQuery.each(["top","left"],function(a,b){jQuery.cssHooks[b]=addGetHookIf(support.pixelPosition,function(a,c){if(c)return c=curCSS(a,b),rnumnonpx.test(c)?jQuery(a).position()[b]+"px":c})}),jQuery.each({Height:"height",Width:"width"},function(a,b){jQuery.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){jQuery.fn[d]=function(d,e){var f=arguments.length&&(c||typeof d!="boolean"),g=c||(d===!0||e===!0?"margin":"border");return access(this,function(b,c,d){var e;return jQuery.isWindow(b)?b.document.documentElement["client"+a]:b.nodeType===9?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):d===undefined?jQuery.css(b,c,g):jQuery.style(b,c,d,g)},b,f?d:undefined,f,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,typeof define=="function"&&define.amd&&
define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(a){return window.$===jQuery&&(window.$=_$),a&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery});var requirejs,require,define,__inflate;(function(a){function i(a,b){var c=b&&b.split("/"),e=d.map,f=e&&e["*"]||{},g,h,i,j,k,l,m;if(a&&a.charAt(0)==="."&&b){c=c.slice(0,c.length-1),a=c.concat(a.split("/"));for(k=0;m=a[k];k++)if(m===".")a.splice(k,1),k-=1;else if(m==="..")if(k!==1||a[2]!==".."&&a[0]!=="..")k>0&&(a.splice(k-1,2),k-=2);else return!0;a=a.join("/")}if((c||f)&&e){g=a.split("/");for(k=g.length;k>0;k-=1){h=g.slice(0,k).join("/");if(c)for(l=c.length;l>0;l-=1){i=e[c.slice(0,l).join("/")];if(i){i=i[h];if(i){j=i;break}}}j=j||f[h];if(j){g.splice(0,k,j),a=g.join("/");break}}}return a}function j(b,c){return function(){return h.apply(a,f.call(arguments,0).concat([b,c]))}}function k(a){return function(b){return i(b,a)}}function l(a){return function(c){b[a]=c}}function m(d){if(c.hasOwnProperty(d)){var f=c[d];delete c[d],e[d]=!0,g.apply(a,f)}if(!b.hasOwnProperty(d))throw new Error("No "+d);return b[d]}function n(a,b){var c,d,e=a.indexOf("!");return e!==-1?(c=i(a.slice(0,e),b),a=a.slice(e+1),d=m(c),d&&d.normalize?a=d.normalize(a,k(b)):a=i(a,b)):a=i(a,b),{f:c?c+"!"+a:a,n:a,p:d}}function o(a){return function(){return d&&d.config&&d.config[a]||{}}}var b={},c={},d={},e={},f=[].slice,g,h;g=function(d,f,g,h){var i=[],k,p,q,r,s,t;h=h||d,typeof g=="string"&&(g=__inflate(d,g));if(typeof g=="function"){f=!f.length&&g.length?["require","exports","module"]:f;for(t=0;t<f.length;t++){s=n(f[t],h),q=s.f;if(q==="require")i[t]=j(d);else if(q==="exports")i[t]=b[d]={},k=!0;else if(q==="module")p=i[t]={id:d,uri:"",exports:b[d],config:o(d)};else if(b.hasOwnProperty(q)||c.hasOwnProperty(q))i[t]=m(q);else if(s.p)s.p.load(s.n,j(h,!0),l(q),{}),i[t]=b[q];else if(!e[q])throw new Error(d+" missing "+q)}r=g.apply(b[d],i);if(d)if(p&&p.exports!==a&&p.exports!==b[d])b[d]=p.exports;else if(r!==a||!k)b[d]=r}else d&&(b[d]=g)},requirejs=require=h=function(b,c,e,f){return typeof b=="string"?m(n(b,c).f):(b.splice||(d=b,c.splice?(b=c,c=e,e=null):b=a),c=c||function(){},f?g(a,b,c,e):setTimeout(function(){g(a,b,c,e)},15),h)},h.config=function(a){return d=a,h},define=function(a,b,d){b.splice||(d=b,b=[]),c[a]=[a,b,d]},define.amd={jQuery:!0}})(),__inflate=function(name,src){var r;return eval(["r = function(a,b,c){","\n};\n//@ sourceURL="+name+"\n"].join(src)),r},define.unordered=!0,function(a){typeof define=="function"&&define.amd?define(["jquery"],a):typeof exports=="object"?module.exports=a:a(jQuery)}(function(a){function i(b){var c=b||window.event,g=d.call(arguments,1),h=0,i=0,l=0,m=0,n=0,o=0;b=a.event.fix(c),b.type="mousewheel","detail"in c&&(l=c.detail*-1),"wheelDelta"in c&&(l=c.wheelDelta),"wheelDeltaY"in c&&(l=c.wheelDeltaY),"wheelDeltaX"in c&&(i=c.wheelDeltaX*-1),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(i=l*-1,l=0),h=l===0?i:l,"deltaY"in c&&(l=c.deltaY*-1,h=l),"deltaX"in c&&(i=c.deltaX,l===0&&(h=i*-1));if(l===0&&i===0)return;if(c.deltaMode===1){var p=a.data(this,"mousewheel-line-height");h*=p,l*=p,i*=p}else if(c.deltaMode===2){var q=a.data(this,"mousewheel-page-height");h*=q,l*=q,i*=q}m=Math.max(Math.abs(l),Math.abs(i));if(!f||m<f)f=m,k(c,m)&&(f/=40);k(c,m)&&(h/=40,i/=40,l/=40),h=Math[h>=1?"floor":"ceil"](h/f),i=Math[i>=1?"floor":"ceil"](i/f),l=Math[l>=1?"floor":"ceil"](l/f);var r=this.getBoundingClientRect();return n=b.clientX-r.left,o=b.clientY-r.top,b.deltaX=i,b.deltaY=l,b.deltaFactor=f,b.offsetX=n,b.offsetY=o,b.deltaMode=0,g.unshift(b,h,i,l),e&&clearTimeout(e),e=setTimeout(j,200),(a.event.dispatch||a.event.handle).apply(this,g)}function j(){f=null}function k(a,b){return h.settings.adjustOldDeltas&&a.type==="mousewheel"&&b%120===0}var b=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],c="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice,e,f;if(a.event.fixHooks)for(var g=b.length;g;)a.event.fixHooks[b[--g]]=a.event.mouseHooks;var h=a.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var b=c.length;b;)this.addEventListener(c[--b],i,!1);else this.onmousewheel=i;a.data(this,"mousewheel-line-height",h.getLineHeight(this)),a.data(this,"mousewheel-page-height",h.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],i,!1);else this.onmousewheel=null},getLineHeight:function(b){return parseInt(a(b)["offsetParent"in a.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),function(a,b){function m(a,b,c){return[parseInt(a[0],10)*(k.test(a[0])?b/100:1),parseInt(a[1],10)*(k.test(a[1])?c/100:1)]}function n(b,c){return parseInt(a.css(b,c),10)||0}function o(b){var c=b[0];return c.nodeType===9?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var c,d=Math.max,e=Math.abs,f=Math.round,g=/left|center|right/,h=/top|center|bottom/,i=/[\+\-]\d+%?/,j=/^\w+/,k=/%$/,l=a.fn.position;a.position={scrollbarWidth:function(){if(c!==b)return c;var d,e,f=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=f.children()[0];return a("body").append(f),d=g.offsetWidth,f.css("overflow","scroll"),e=g.offsetWidth,d===e&&(e=f[0].clientWidth),f.remove(),c=d-e},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),e=c==="scroll"||c==="auto"&&b.width<b.element[0].scrollWidth,f=d==="scroll"||d==="auto"&&b.height<b.element[0].scrollHeight;return{width:e?a.position.scrollbarWidth():0,height:f?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return l.apply(this,arguments);b=a.extend({},b);var c,k,p,q,r,s,t=a(b.of),u=a.position.getWithinInfo(b.within),v=a.position.getScrollInfo(u),w=(b.collision||"flip").split(" "),x={};return s=o(t),t[0].preventDefault&&(b.at="left top"),k=s.width,p=s.height,q=s.offset,r=a.extend({},q),a.each(["my","at"],function(){var a=(b[this]||"").split(" "),c,d;a.length===1&&(a=g.test(a[0])?a.concat(["center"]):h.test(a[0])?["center"].concat(a):["center","center"]),a[0]=g.test(a[0])?a[0]:"center",a[1]=h.test(a[1])?a[1]:"center",c=i.exec(a[0]),d=i.exec(a[1]),x[this]=[c?c[0]:0,d?d[0]:0],b[this]=[j.exec(a[0])[0],j.exec(a[1])[0]]}),w.length===1&&(w[1]=w[0]),b.at[0]==="right"?r.left+=k:b.at[0]==="center"&&(r.left+=k/2),b.at[1]==="bottom"?r.top+=p:b.at[1]==="center"&&(r.top+=p/2),c=m(x.at,k,p),r.left+=c[0],r.top+=c[1],this.each(function(){var g,h,i=a(this),j=i.outerWidth(),l=i.outerHeight(),o=n(this,"marginLeft"),s=n(this,"marginTop"),y=j+o+n(this,"marginRight")+v.width,z=l+s+n(this,"marginBottom")+v.height,A=a.extend({},r),B=m(x.my,i.outerWidth(),i.outerHeight());b.my[0]==="right"?A.left-=j:b.my[0]==="center"&&(A.left-=j/2),b.my[1]==="bottom"?A.top-=l:b.my[1]==="center"&&(A.top-=l/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=f(A.left),A.top=f(A.top)),g={marginLeft:o,marginTop:s},a.each(["left","top"],function(d,e){a.ui.position[w[d]]&&a.ui.position[w[d]][e](A,{targetWidth:k,targetHeight:p,elemWidth:j,elemHeight:l,collisionPosition:g,collisionWidth:y,collisionHeight:z,offset:[c[0]+B[0],c[1]+B[1]],my:b.my,at:b.at,within:u,elem:i})}),b.using&&(h=function(a){var c=q.left-A.left,f=c+k-j,g=q.top-A.top,h=g+p-l,m={target:{element:t,left:q.left,top:q.top,width:k,height:p},element:{element:i,left:A.left,top:A.top,width:j,height:l},horizontal:f<0?"left":c>0?"right":"center",vertical:h<0?"top":g>0?"bottom":"middle"};k<j&&e(c+f)<k&&(m.horizontal="center"),p<l&&e(g+h)<p&&(m.vertical="middle"),d(e(c),e(f))>d(e(g),e(h))?m.important="horizontal":m.important="vertical",b.using.call(this,a,m)}),i.offset(a.extend(A,{using:h}))})},a.ui.position={fit:{left:function(a,b){var c=b.within,e=c.isWindow?c.scrollLeft:c.offset.left,f=c.width,g=a.left-b.collisionPosition.marginLeft,h=e-g,i=g+b.collisionWidth-f-e,j;b.collisionWidth>f?h>0&&i<=0?(j=a.left+h+b.collisionWidth-f-e,a.left+=h-j):i>0&&h<=0?a.left=e:h>i?a.left=e+f-b.collisionWidth:a.left=e:h>0?a.left+=h:i>0?a.left-=i:a.left=d(a.left-g,a.left)},top:function(a,b){var c=b.within,e=c.isWindow?c.scrollTop:c.offset.top,f=b.within.height,g=a.top-b.collisionPosition.marginTop,h=e-g,i=g+b.collisionHeight-f-e,j;b.collisionHeight>f?h>0&&i<=0?(j=a.top+h+b.collisionHeight-f-e,a.top+=h-j):i>0&&h<=0?a.top=e:h>i?a.top=e+f-b.collisionHeight:a.top=e:h>0?a.top+=h:i>0?a.top-=i:a.top=d(a.top-g,a.top)}},flip:{left:function(a,b){b.elem.removeClass("ui-flipped-left ui-flipped-right");var c=b.within,d=c.offset.left+c.scrollLeft,f=c.width,g=c.isWindow?c.scrollLeft:c.offset.left,h=a.left-b.collisionPosition.marginLeft,i=h-g,j=h+b.collisionWidth-f-g,k=b.my[0]==="left"?-b.elemWidth:b.my[0]==="right"?b.elemWidth:0,l=b.at[0]==="left"?b.targetWidth:b.at[0]==="right"?-b.targetWidth:0,m=-2*b.offset[0],n,o;if(i<0){n=a.left+k+l+m+b.collisionWidth-f-d;if(n<0||n<e(i))a.left+=k+l+m,b.elem.addClass("ui-flipped-right")}else if(j>0){o=a.left-b.collisionPosition.marginLeft+k+l+m-g;if(o>0||e(o)<j)a.left+=k+l+m,b.elem.addClass("ui-flipped-left")}},top:function(a,b){b.elem.removeClass("ui-flipped-top ui-flipped-bottom");var c=b.within,d=c.offset.top+c.scrollTop,f=c.height,g=c.isWindow?c.scrollTop:c.offset.top,h=a.top-b.collisionPosition.marginTop,i=h-g,j=h+b.collisionHeight-f-g,k=b.my[1]==="top",l=k?-b.elemHeight:b.my[1]==="bottom"?b.elemHeight:0,m=b.at[1]==="top"?b.targetHeight:b.at[1]==="bottom"?-b.targetHeight:0,n=-2*b.offset[1],o,p;i<0?(p=a.top+l+m+n+b.collisionHeight-f-d,a.top+l+m+n>i&&(p<0||p<e(i))&&(b.elem.addClass("ui-flipped-bottom"),a.top+=l+m+n)):j>0&&(o=a.top-b.collisionPosition.marginTop+l+m+n-g,a.top+l+m+n>j&&(o>0||e(o)<j)&&(b.elem.addClass("ui-flipped-top"),a.top+=l+m+n))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&e<11,b.innerHTML="",c.removeChild(b)}(),a.uiBackCompat!==!1&&function(a){var c=a.fn.position;a.fn.position=function(d){if(!d||!d.offset)return c.call(this,d);var e=d.offset.split(" "),f=d.at.split(" ");return e.length===1&&(e[1]=e[0]),/^\d/.test(e[0])&&(e[0]="+"+e[0]),/^\d/.test(e[1])&&(e[1]="+"+e[1]),f.length===1&&(/left|center|right/.test(f[0])?f[1]="center":(f[1]=f[0],f[0]="center")),c.call(this,a.extend(d,{at:f[0]+e[0]+" "+f[1]+e[1],offset:b}))}}(jQuery)}(jQuery),jQuery.whenAll=function(a){if(a&&a.length){var b=jQuery.Deferred(),c=a.length,d=!1,e=[],f,g;return g=function(a){e[a]=[].slice.call(arguments,1),--c||b[d?"reject":"resolve"].apply(b,e)},f=function(){d=!0},e.length=a.length,a.forEach(function(a,b){a.fail(f).always(g.bind(null,b))}),b}return jQuery.Deferred().resolve()},function(a){window.XDomainRequest&&a.ajaxTransport(function(b){if(b.crossDomain&&b.async){b.timeout&&(b.xdrTimeout=b.timeout,delete b.timeout);var c;return{send:function(d,e){function g(b,d,f,g){c.onload=c.onerror=c.ontimeout=a.noop,c=undefined,e(b,d,f,g)}var f;d.Authorization&&(f=d.Authorization.split(" ")[1],b.url=b.url.replace(/\?|(.)$/,"$1?oauth_token="+f+"&")),c=new window.XDomainRequest,c.open(b.type,b.url),c.onload=function(){g(200,"OK",{text:c.responseText},"Content-Type: "+c.contentType)},c.onerror=function(){g(404,"Not Found")},b.xdrTimeout&&(c.ontimeout=function(){g(0,"timeout")},c.timeout=b.xdrTimeout),c.send(b.hasContent&&b.data||null)},abort:function(){c&&(c.onerror=a.noop(),c.abort())}}}})}(jQuery),Array.prototype.every||(Array.prototype.every=function(a){"use strict";if(this===void 0||this===null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(typeof a!="function")throw new TypeError;var d=arguments[1];for(var e=0;e<c;e++)if(e in b&&!a.call(d,b[e],e,b))return!1;return!0}),Array.prototype.filter||(Array.prototype.filter=function(a){"use strict";if(this===void 0||this===null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(typeof a!="function")throw new TypeError;var d=[],e=arguments[1];for(var f=0;f<c;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}),Array.prototype.forEach||(Array.prototype.forEach=function(a){"use strict";if(this===void 0||this===null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(typeof a!="function")throw new TypeError;var d=arguments[1];for(var e=0;e<c;e++)e in b&&a.call(d,b[e],e,b)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(this===void 0||this===null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(c===0)return-1;var d=0;arguments.length>0&&(d=Number(arguments[1]),d!==d?d=0:d!==0&&d!==Infinity&&d!==-Infinity&&(d=(d>0||-1)*Math.floor(Math.abs(d))));if(d>=c)return-1;var e=d>=0?d:Math.max(c-Math.abs(d),0);for(;e<c;e++)if(e in b&&b[e]===a)return e;return-1}),Array.isArray=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"},Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){"use strict";if(this===void 0||this===null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(c===0)return-1;var d=c;arguments.length>1&&(d=Number(arguments[1]),d!==d?d=0:d!==0&&d!==Infinity&&d!==-Infinity&&(d=(d>0||-1)*Math.floor(Math.abs(d))));var e=d>=0?Math.min(d,c-1):c-Math.abs(d);for(;e>=0;e--)if(e in b&&b[e]===a)return e;return-1}),Array.prototype.map||(Array.prototype.map=function(a){"use strict";if(this===void 0||this===null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(typeof a!="function")throw new TypeError;var d=new Array(c),e=arguments[1];for(var f=0;f<c;f++)f in b&&(d[f]=a.call(e,b[f],f,b));return d}),Array.prototype.reduce||(Array.prototype.reduce=function(a){"use strict";if(this===void 0||this===null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(typeof a!="function")throw new TypeError;if(c==0&&arguments.length==1)throw new TypeError;var d=0,e;if(arguments.length>=2)e=arguments[1];else do{if(d in b){e=b[d++];break}if(++d>=c)throw new TypeError}while(!0);while(d<c)d in b&&(e=a.call(undefined,e,b[d],d,b)),d++;return e}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){"use strict";if(this===void 0||this===null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(typeof a!="function")throw new TypeError;if(c===0&&arguments.length===1)throw new TypeError;var d=c-1,e;if(arguments.length>=2)e=arguments[1];else do{if(d in this){e=this[d--];break}if(--d<0)throw new TypeError}while(!0);while(d>=0)d in b&&(e=a.call(undefined,e,b[d],d,b)),d--;return e}),Array.prototype.some||(Array.prototype.some=function(a){"use strict";if(this===void 0||this===null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(typeof a!="function")throw new TypeError;var d=arguments[1];for(var e=0;e<c;e++)if(e in b&&a.call(d,b[e],e,b))return!0;return!1}),Date.now||(Date.now=function(){return+(new Date)}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){var a=function(b,c){return c=c||2,(b+="",b.length===c)?b:a("0"+b,c)};return function(){var b=this.getUTCFullYear();b=(b<0?"-":b>9999?"+":"")+("00000"+Math.abs(b)).slice(0<=b&&b<=9999?-4:-6);var c=[b,a(this.getUTCMonth()+1),a(this.getUTCDate())].join("-"),d=[a(this.getUTCHours()),a(this.getUTCMinutes()),a(this.getUTCSeconds())].join(":")+"."+a(this.getUTCMilliseconds(),3);return[c,d].join("T")+"Z"}}()),Date.prototype.toJSON||(Date.prototype.toJSON=Date.prototype.toJSON),Function.prototype.bind||(Function.prototype.bind=function(a){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice,c=b.call(arguments,1),d=this,e=function(){},f=function(){if(e.prototype&&this instanceof e){var f=d.apply(new e,c.concat(b.call(arguments)));return Object(f)===f?f:d}return d.apply(a,c.concat(b.call(arguments)))};return e.prototype=d.prototype,f.prototype=new e,f}),function(){"use strict";var a=function(a){if(a!==Object(a))throw new TypeError("Object.getPrototypeOf called on non-object")};Object.getPrototypeOf||(typeof "test".__proto__=="object"?Object.getPrototypeOf=function(b){return a(b),b.__proto__}:Object.getPrototypeOf=function(b){return a(b),b.constructor.prototype})}(),Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if(typeof e!="object"&&typeof e!="function"||e===null)throw new TypeError("Object.keys called on non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;h<d;h++)a.call(e,c[h])&&f.push(c[h]);return f}}()),String.prototype.trim||(String.prototype.trim=function(){var a=/^\s+/,b=/\s+$/;return function(){return this.replace(a,"").replace(b,"")}}()),function(){var a=!1,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(c){function j(){if(!a&&this.initialize)return this.initialize.apply(this,arguments)}var d=this.prototype,e,f,g,h;a=!0;var i=new this;a=!1,Object.prototype.toString.call(c)!=="[object Array]"?h=[c]:h=c;for(f=0,g=h.length;f<g;++f){c=h[f];for(e in c)i[e]=typeof c[e]=="function"&&typeof d[e]=="function"&&b.test(c[e])?function(a,b){return function(){var c=this._super;this._super=d[a];var e=b.apply(this,arguments);return this._super=c,e}}(e,c[e]):c[e]}return j.prototype=i,j.prototype.constructor=j,j.extend=arguments.callee,j}}(),function(a,b,c){function d(a,b,d,f){if(a[b])return;var g=e(b);c.some(function(c){return f&&(c=e(c)),a[b]=a[c+g],a[b]}),a[b]=a[b]||d}function e(a){return a&&(a=a[0].toUpperCase()+a.substr(1)),a}d(a,"requestAnimationFrame",function(b){return a.setTimeout(b,16)}),d(a,"cancelAnimationFrame",function(b){a.clearTimeout(b)})}(window,navigator,["webkit","moz","o","ms"]),jQuery.extend(jQuery.expr[":"],{data:function(a,b,c){return!!$.data(a,c[3])},focusable:function(a){var b=a.nodeName.toLowerCase(),c=$.attr(a,"tabindex");return(/input|select|textarea|button|object/.test(b)?!a.disabled:b==="a"||b==="area"?a.href||!isNaN(c):!isNaN(c))&&!$(a)[b==="area"?"parents":"closest"](":hidden").length},tabbable:function(a){var b=$.attr(a,"tabindex");return(isNaN(b)||b>=0)&&$(a).is(":focusable")}}),
define("application",["require","exports","module","_","lib/ad-manager","lib/api/api-bridge","lib/api-wrapper","models/audio-ad","backbone","vendor/color/color","config","lib/connect","views/buttons/cookie-policy","config/widget-params","config/error-messages","lib/event-bus","vendor/event-logger/event-logger","models/exception","config/experiments","vendor/experiments/experiments","vendor/fastclick","lib/flash-widget","lib/global-xhr-handlers","lib/keyboard-shortcuts","lib/lingua","lib/loader","lib/persistent-store","models/playlist","collections/playlist-sounds","lib/play-manager","lib/views/progress","router","config/routes","lib/support","lib/tracking","lib/url","models/user","lib/view"],function(a,b,c){function O(){var a;a=L.extend({template:function(){return""}}),u.attach(document.body),g.initialize(w),f.start(),p.on("widget:ready",P).on("error:geo_blocked",Q).on("error:no_stream_info",Q).on("error:audio_support",R).on("audio:play",S).on("audio:play-intent",S).on("exception",T).on("broadcast:audio:play",V).on("sound:deeplink",W),k.set("me",Z()).set("router",(new F).setRoutes(G)).set("appView",(new a({el:$(N)})).render()).set("widgetParams",Y()),y.initializeFromUserSettings(),e.setAudioAd(h),D.setAdManager(e),e.on("ad:play",S),$(window).on("error",U),$(document).on("keydown",x.handleKeyDown).on("keyup",x.handleKeyUp),ba(),X().done(I.init),$.whenAll([_(),bb()]).always(function(){i.history.start({hashChange:!1,pushState:!0,root:k.get("app_root")})})}function P(){k.set("widgetReady",!0)}function Q(){D.hasNextSound()?D.playNext():r.raise({message:o.SOUND_GEO_BLOCKED,fatal:!0})}function R(){r.raise({message:o.INSTALL_FLASH,fatal:!0})}function S(){p.broadcast({excludeThis:!0},"audio:play")}function T(a){a.fatal?k.get("router").apply("error",{resource_id:a.resource_id}):(window.console.warn("Exception: %s",a.get("message")),window.console.warn(a))}function U(a){var b=a.originalEvent;return r.raise({message:b.message,error:b,fatal:!1}),!0}function V(){k.get("widgetParams").single_active&&(D.pause(),e.pause())}function W(a,b){var c=b&&b.getCurrentSound(),d;c&&!c.isPrivate()&&c===D.getCurrentSound()&&(D.source instanceof C&&(d=B.instances.get(D.source.resource_id)),a.href=(d||b).getDeeplinkURL(),D.pause(c))}function X(){var a=$.Deferred();return k.get("widgetParams").tracking==="delayed"?($(document).one("click",a.resolve),p.on("audio:play",a.resolve)):a.resolve(),a}function Y(){var a,b,c;return a=d.extend({},n,i.history.getOptions()),b=d.pick(a,d.keys(n)),b.visual?b.color=n.color:(c=j(b.color).hex(),b.color=c?c.substr(1):n.color),b}function Z(){var a=new K;return a.on("change",function(){M.set("me",d.extend({lastFetchTime:a.lastFetchTime},a.attributes))}),a}function _(a){if(!l.isLoggedIn())return p.one("broadcast:connect:login",_),$.Deferred().reject();var b=k.get("me"),c=M.get("me"),d=arguments[1],e;return b.baseUrl="me",a===undefined&&(a=2),d||(d=$.Deferred().done(function(){K.instances.add(b),p.trigger("connect:hasUserData")})),c?(e=c.lastFetchTime||Date.now(),delete c.lastFetchTime,b.lastFetchTime=e,b.set(c),d.resolve()):b.fetch().done(d.resolve).fail(function(b){b.status===401?(l.logout(),d.reject(b)):a?_(a-1,d):d.reject(b)}),d}function ba(){var a=new E,b=new m;a.render(),b.render(),$(N).append(a.el).append(b.el)}function bb(){var a=$.Deferred();return t.initialize(s).fetchAssignments().done(function(b){t.setExperimentsFromQueryParams(J.getQueryParams()),q.setExperiments(b),a.resolve()}).fail(function(){a.reject()}),a}var d=a("_"),e=a("lib/ad-manager"),f=a("lib/api/api-bridge"),g=a("lib/api-wrapper"),h=a("models/audio-ad"),i=a("backbone"),j=a("vendor/color/color"),k=a("config"),l=a("lib/connect"),m=a("views/buttons/cookie-policy"),n=a("config/widget-params"),o=a("config/error-messages"),p=a("lib/event-bus"),q=a("vendor/event-logger/event-logger"),r=a("models/exception"),s=a("config/experiments"),t=a("vendor/experiments/experiments"),u=a("vendor/fastclick"),v=a("lib/flash-widget"),w=a("lib/global-xhr-handlers"),x=a("lib/keyboard-shortcuts"),y=a("lib/lingua"),z=a("lib/loader"),A=a("lib/persistent-store"),B=a("models/playlist"),C=a("collections/playlist-sounds"),D=a("lib/play-manager"),E=a("lib/views/progress"),F=a("router"),G=a("config/routes"),H=a("lib/support"),I=a("lib/tracking"),J=a("lib/url"),K=a("models/user"),L=a("lib/view"),M=new A("auth"),N="#widget";c.exports={start:function(a,b){!H.newWidget||!1?v.start():(b&&z.setPackageMap(b),O(),H.audio||p.trigger("error:audio_support"))}}}),
define("_",["require","exports","module","vendor/underscore"],function(a,b,c){var d=a("vendor/underscore");c.exports=d,d.mixin({proxy:function(a,b){[].slice.call(arguments,2).forEach(function(c){if(typeof a[c]!="function")throw new Error("Proxy source has no method named "+c);b[c]=a[c].bind(a)})},toAttributesString:function(a){var b=[],c,e;return d.each(a,function(a,f){c=f+'="',e=[],d.isObject(a)?d.each(a,function(a,b){e.push(b+":"+a)}):e.push(a),b.push(c+e.join(";")+'"')}),b.join(" ")}})}),
define("lib/ad-manager",["require","exports","module","_","lib/browser","lib/promoted","lib/backbone","lib/circuit-breaker","config","lib/event-bus","tracking-events"],function(a,b,c){function t(){var a=p||[],b;while(b=a.pop())b.state()!=="resolved"&&b.abort()}function u(){return o||(o=new h({giveUp:1})),o}function v(a,b,c,d){a.sound&&b.state()!=="rejected"?w.call(this,a,b,c,d):b.resolve()}function w(a,b,c,e){var f=a.sound;f.hold(),f.on("finish",this._onAdFinish,this).on("pause",this._onAdPause,this).on("play",this._onAdPlay,this).one("play",this._onAdPlayStart,this),this._currentAd=a,this._upcomingSound=c,this._upcomingSound.hold(),b.done(x.bind(this)),f.play(d.extend({checkpointInterval:m},e))}function x(){var a=this.getCurrentSound();a.off("finish",this._onAdFinish).off("pause",this._onAdPause).off("play",this._onAdPlay),a.isPlaying()&&a.pause(),a.release(),this._currentAd=null,this._upcomingSound.release(),this._upcomingSound=null}function y(a){var b=s.getCurrentAd(),c=s.getCurrentSound(),e=b.get("audio"),g=b.get("companion_display"),h={monetization_type:b.getMonetizationType(),monetized_object:c.getMonetizableTrack().getUrn()},i;switch(a){case"companion_display:impression":f.trackEvent("impression",g),i=d.extend({ad_urn:g.ad_urn,external_media:g.ad_visual,impression_name:"companion_display",impression_object:c.getUrn(),promoted_by:null},h),j.trigger(k.IMPRESSION,i);break;case"audio_ad:impression":f.trackEvent("impression",e),i=d.extend({ad_urn:e.ad_urn,external_media:null,impression_name:"audio_ad_impression",impression_object:c.getUrn(),promoted_by:null},h),j.trigger(k.IMPRESSION,i);break;case"companion_display:clickthrough":f.trackEvent("adClick",g),i=d.extend({ad_urn:g.ad_urn,external_media:g.ad_visual,click_name:"clickthrough::companion_display",click_object:c.getUrn(),click_target:g.landing_page,promoted_by:null},h),j.trigger(k.CLICKED,i);break;case"audio_ad:skip":f.trackEvent("skip",e),i=d.extend({ad_urn:e.ad_urn,click_name:"ad::skip",click_object:c.getUrn(),click_target:null,external_media:g.ad_visual},h),j.trigger(k.SKIPPED,i);break;case"audio_ad:finish":f.trackEvent("finish",e),i=d.extend({ad_urn:e.ad_urn,click_name:"ad::finish",click_object:c.getUrn(),click_target:null,external_media:g.ad_visual},h),j.trigger(k.FINISH,i);break;case"audio_ad:playStart":f.trackEvent("play",e);break;default:}}var d=a("_"),e=a("lib/browser"),f=a("lib/promoted"),g=a("lib/backbone"),h=a("lib/circuit-breaker"),i=a("config"),j=a("lib/event-bus"),k=a("tracking-events").ADS,l=1e3,m=3e3,n,o,p,q={AD_PLAY:"ad:play",AD_PAUSE:"ad:pause",AD_SKIP:"ad:skip",AD_FINISH:"ad:finish"},r=["visual-single-sound","single-sound"],s=c.exports=d.extend({},g.Events,{_adDeferred:null,_currentAd:null,_upcomingSound:null,setAudioAd:function(a){n=a},prefetchAudioAd:function(a){d.delay(function(){var b=new n({id:a.id}),c=u();b.configureMonetizableTrack(a),!b.isPopulated()&&c.enabled&&b.fetch().fail(c.failed).done(c.succeeded)},l)},getCurrentSound:function(){return this._currentAd&&this._currentAd.sound},getUpcomingSound:function(){return this._upcomingSound},getCurrentAd:function(){return this._currentAd},skip:function(a){var b=this._adDeferred,c=this._currentAd;return t(),b?(this.getCurrentSound()&&(c.sound.pause(),this.trigger(q.AD_SKIP,c),this.metrics("audio_ad:skip",a)),b.resolve()):$.Deferred().resolve()},toggle:function(a){var b=this.getCurrentSound(),c;c=!b.isPlaying(),c?b.play(a):b.pause(a)},pause:function(){var a=this.getCurrentSound();a&&a.pause()},whenAdFinished:function(a,b){var c=this._adDeferred,d=new n({id:a.id}),f=u(),g=p||[];return d.configureMonetizableTrack(a),c&&c.state()==="pending"?this.skip():d.sound&&d.sound.currentTime()>0?$.Deferred().resolve():(c=this._adDeferred=$.Deferred(),!d.isPopulated()&&f.enabled?(g.push(d.fetch({async:!e.isMobile}).fail(function(){f.failed(),c.reject(),t()}).done(function(){f.succeeded(),v.call(this,d,c,a,b),t()}.bind(this))),c):(v.call(this,d,c,a,b),c))},adsEnabled:function(){return!i.get("adsDisabled")&&i.get("widgetParams").show_artwork&&d.contains(r,i.get("router").layoutName)},_onAdFinish:function(){var a=this.getCurrentAd(),b=this._adDeferred;this.trigger(q.AD_FINISH,a),this.metrics("audio_ad:finish"),b.resolve()},_onAdPause:function(){var a=this.getCurrentAd();this.trigger(q.AD_PAUSE,a)},_onAdPlay:function(){var a=this.getCurrentAd();this.trigger(q.AD_PLAY,a)},_onAdPlayStart:function(){this.metrics("audio_ad:playStart")},_isUserWithinGracePeriod:function(){return!1},metrics:function(a,b){s.getCurrentAd()&&s.getCurrentSound()&&y(a,b||{})}})}),
define("lib/api/api-bridge",["require","exports","module","_","config","lib/event-bus","lib/play-manager","lib/api/setters","lib/api/getters","lib/api/events","lib/api/events-map"],function(a,b,c){function u(){if(r)return;r=!0,window.addEventListener?window.addEventListener("message",E,!1):window.attachEvent("onmessage",E),d.each(l.audio,function(a,b){f.on(a,function(a){var c=a.sound;c&&c.isNowPlaying()&&A(b,F(c))})}),d.each(l.ui,function(a,b){f.on(a,function(a,c){A(b,c)})}),z(j.READY)}function v(){e.get("router").layoutName==="error"&&(u(),z(j.ERROR))}function w(){return g.getCurrentSound()}function x(a){var b,c=w();switch(a){case i.GET_VOLUME:b=c?c.getVolume():q;break;case i.GET_POSITION:b=c?c.currentTime():q;break;case i.GET_DURATION:b=c?c.duration():q;break;case i.GET_CURRENT_SOUND:b=c?c.toJSON():q;break;case i.GET_CURRENT_SOUND_INDEX:b=g.cursor;break;case i.GET_SOUNDS:b=g.getSounds();break;case i.IS_PAUSED:b=c?c.isPaused():!1}return b}function y(a,b){var c=w();if(c)switch(a){case h.SET_VOLUME:c.setVolume(b);break;case h.SEEK_TO:c.seek(b);break;case h.PLAY:g.play(c);break;case h.PAUSE:g.pause(c);break;case h.TOGGLE:g.toggle(c)}switch(a){case h.NEXT:g.playNext();break;case h.PREV:g.playPrev();break;case h.SKIP:g.play(g.get(b))}}function z(a,b){var c=G(),f;if(!c)return!1;f=JSON.stringify({widgetId:e.get("widget_id"),method:a,value:d.isUndefined(b)?null:b}),c.postMessage(f,"*")}function A(a,b,c){(c||d.indexOf(s,a)>-1)&&z(a,b)}function B(a){return d.indexOf(d.values(j),a)>-1}function C(a){B(a)&&s.push(a)}function D(a){B(a)&&(s=d.without(s,a))}function E(a){var b,c,e;try{b=JSON.parse(a.data)}catch(f){return}c=b.method;if(!c)return;d.indexOf(m,c)>-1?z(c,x(c)):d.indexOf(n,c)>-1?y(c,b.value):d.indexOf(o,c)>-1&&(e=b.value,e&&(c===k.ADD_LISTENER?C(e):D(e)))}function F(a){var b=a.currentTime();return{loadedProgress:a.loadProgress(),currentPosition:b,relativePosition:a.progress()}}function G(){if(d.isUndefined(p))try{p=window.parent&&window.parent!==window&&window.parent.postMessage?window.parent:null}catch(a){p=null}return p}var d=a("_"),e=a("config"),f=a("lib/event-bus"),g=a("lib/play-manager"),h=a("lib/api/setters"),i=a("lib/api/getters"),j=a("lib/api/events").api,k=a("lib/api/events").bridge,l=a("lib/api/events-map"),m=d.values(i),n=d.values(h),o=d.values(k),p,q,r=!1,s=[],t=c.exports={start:d.once(function(){f.on("widget:ready",u).on("layout:change",v)})}}),
define("lib/api-wrapper",["require","exports","module","lib/connect","config","lib/url"],function(a,b,c){function l(a){return!!a.match(i)}var d=a("lib/connect"),e=a("config"),f=a("lib/url"),g=/^https?:\/\/.+?\//,h=/^https?|^_/,i=new RegExp(["me","me/","i1/me/","tracks/[0-9]+/(plays|streams)","audio-ads"].join("|")),j={likes:"favorites",groups:"groups",people:"users",sound:"track",sounds:"tracks"},k=c.exports={EDGE:"e1/",initialize:function(a){var b=e.get("client_id"),c=e.get("api_host"),i=e.get("api_embedded_host");$.ajaxSetup({statusCode:a||{},beforeSend:function(a,e){var j;e.crossDomain=!0,h.test(e.url)||(e.url=c+e.url.replace(g,""),j=!0),j=j||e.url.substr(0,c.length)===c||e.url.substr(0,i.length)===i,j&&(d.isLoggedIn()&&l(e.url)&&a.setRequestHeader("Authorization","OAuth "+d.getAuthToken()),e.url=f.modify(e.url,{scheme:"https",query:{client_id:b,format:"json"}}))}})},toAPIResource:function(a){return j[a]||a}}}),
define("models/audio-ad",["require","exports","module","_","lib/promoted","lib/model","models/sound","models/user"],function(a,b,c){var d=a("_"),e=a("lib/promoted"),f=a("lib/model"),g=a("models/sound"),h=a("models/user"),i="audio_ad",j=c.exports=f.extend({resource_type:"audio_ad",submodelMap:{sound:g,user:h},baseUrl:function(){return e.getAdUrl("audioAds",this.id)},createSubmodel:function(a,b){var c;b==="sound"?(c=this.get("sound"),this.sound=new g(d.extend(c,{resource_id:{ad_target_id:this.resource_id,sound_id:c.id}})),this.sound.setMonetizableTrack(this._monetizableTrack)):f.prototype.createSubmodel.apply(this,arguments)},parse:function(a){var b=e.parseResponse(a),c={};return b.data&&(c.sound=b.data.audio&&b.data.audio.track,c.sound.ad_type="preroll",c.user=c.sound.user,c.tracking=b.data.audio?b.data.audio.tracking:{},c.audio=b.data.audio,c.context=b.context,c.companion_display=b.data.companion_display),c},configureMonetizableTrack:function(a){this._monetizableTrack=a},getMonetizationType:function(){return i}})}),
define("backbone",["require","exports","module","_"],function(a,b,c){((function(){var c=function(){return this}(),d=c.Backbone,e=Array.prototype.slice,f=Array.prototype.splice,g;typeof b!="undefined"?g=b:g=c.Backbone={},g.VERSION="0.9.1";var h=c._;!h&&typeof a!="undefined"&&(h=a("_"));var i=c.jQuery||c.Zepto||c.ender;g.setDomLibrary=function(a){i=a},g.noConflict=function(){return c.Backbone=d,this},g.emulateHTTP=!1,g.emulateJSON=!1,g.Events={on:function(a,b,c){if(b===i.noop)return this;var d;a=a.split(/\s+/);var e=this._callbacks||(this._callbacks={});while(d=a.shift()){var f=e[d]||(e[d]={}),g=f.tail||(f.tail=f.next={});g.callback=b,g.context=c,f.tail=g.next={}}return this},off:function(a,b,c){if(b===i.noop)return this;var d,e,f;if(!a)delete this._callbacks;else if(e=this._callbacks){a=a.split(/\s+/);while(d=a.shift()){f=e[d],delete e[d];if(!b||!f)continue;while((f=f.next)&&f.next)if(f.callback!==b||!!c&&f.context!==c)this.on(d,f.callback,f.context);else continue}}return this},trigger:function(a){var b,c,d,f,g,h,i;if(!(d=this._callbacks))return this;h=d.all,(a=a.split(/\s+/)).push(null);while(b=a.shift()){h&&a.push({next:h.next,tail:h.tail,event:b});if(!(c=d[b]))continue;a.push({next:c.next,tail:c.tail})}i=e.call(arguments,1);while(c=a.pop()){f=c.tail,g=c.event?[c.event].concat(i):i;while((c=c.next)!==f)c.callback.apply(c.context||this,g)}return this},one:function(a,b,c){var d=this,e,f=function(a){var e=function(){d.off(a,e,c),b.apply(this,arguments)};return e};a=a.split(/\s+/);while(e=a.shift())d.on(e,f(e),c);return this}},g.Events.bind=g.Events.on,g.Events.unbind=g.Events.off,g.Model=function(a,b){var c;a||(a={}),b&&b.parse&&(a=this.parse(a));if(c=w(this,"defaults"))a=h.extend({},c,a);b&&b.collection&&(this.collection=b.collection),this.attributes={},this._escapedAttributes={},this.cid=h.uniqueId("c");if(!this.set(a,{silent:!0}))throw new Error("Can't create an invalid model");delete this._changed,this._previousAttributes=h.clone(this.attributes),this.initialize.apply(this,arguments)},h.extend(g.Model.prototype,g.Events,{idAttribute:"id",initialize:function(){},toJSON:function(){return h.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;var c=this.attributes[a];return this._escapedAttributes[a]=h.escape(c==null?"":""+c)},has:function(a){return this.attributes[a]!=null},set:function(a,b,c){var d,e,f;h.isObject(a)||a==null?(d=a,c=b):(d={},d[a]=b),c||(c={});if(!d)return this;d instanceof g.Model&&(d=d.attributes);if(c.unset)for(e in d)d[e]=void 0;if(!this._validate(d,c))return!1;this.idAttribute in d&&(this.id=d[this.idAttribute]);var i=this.attributes,j=this._escapedAttributes,k=this._previousAttributes||{},l=this._setting;this._changed||(this._changed={}),this._setting=!0;for(e in d){f=d[e],h.isEqual(i[e],f)||delete j[e],c.unset?delete i[e]:i[e]=f,this._changing&&!h.isEqual(this._changed[e],f)&&(this.trigger("change:"+e,this,f,c),this._moreChanges=!0),delete this._changed[e];if(!h.isEqual(k[e],f)||h.has(i,e)!=h.has(k,e))this._changed[e]=f}return l||(!c.silent&&this.hasChanged()&&this.change(c),this._setting=!1),this},unset:function(a,b){return(b||(b={})).unset=!0,this.set(a,null,b)},clear:function(a){return(a||(a={})).unset=!0,this.set(h.clone(this.attributes),a)},fetch:function(a){a=a?h.clone(a):{};var b=this,c=a.success;return a.success=function(d,e,f){b.lastFetchTime=Date.now();if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)},a.error=g.wrapError(a.error,b,a),(this.sync||g.sync).call(this,"read",this,a)},save:function(a,b,c){var d,e;h.isObject(a)||a==null?(d=a,c=b):(d={},d[a]=b),c=c?h.clone(c):{},c.wait&&(e=h.clone(this.attributes));var f=h.extend({},c,{silent:!0});if(d&&!this.set(d,c.wait?f:c))return!1;var i=this,j=c.success;c.success=function(a,b,e){var f=i.parse(a,e);c.wait&&(f=h.extend(d||{},f));if(!i.set(f,c))return!1;j?j(i,a):i.trigger("sync",i,a,c)},c.error=g.wrapError(c.error,i,c);var k=this.isNew()?"create":"update",l=(this.sync||g.sync).call(this,k,this,c);return c.wait&&this.set(e,f),l},destroy:function(a){a=a?h.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(this.isNew())return d();a.success=function(e){a.wait&&d(),c?c(b,e):b.trigger("sync",b,e,a)},a.error=g.wrapError(a.error,b,a);var e=(this.sync||g.sync).call(this,"delete",this,a);return a.wait||d(),e},url:function(){var a=w(this.collection,"url")||w(this,"urlRoot")||x();return this.isNew()?a:a+(a.charAt(a.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(a){if(this._changing||!this.hasChanged())return this;this._changing=!0,this._moreChanges=!0;for(var b in this._changed)this.trigger("change:"+b,this,this._changed[b],a);while(this._moreChanges)this._moreChanges=!1,this.trigger("change",this,a);return this._previousAttributes=h.clone(this.attributes),delete this._changed,this._changing=!1,this},hasChanged:function(a){return arguments.length?this._changed&&h.has(this._changed,a):!h.isEmpty(this._changed)},changedAttributes:function(a){if(!a)return this.hasChanged()?h.clone(this._changed):!1;var b,c=!1,d=this._previousAttributes;for(var e in a){if(h.isEqual(d[e],b=a[e]))continue;(c||(c={}))[e]=b}return c},previous:function(a){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return h.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(a,b){if(b.silent||!this.validate)return!0;a=h.extend({},this.attributes,a);var c=this.validate(a,b);return c?(b&&b.error?b.error(this,c,b):this.trigger("error",this,c,b),!1):!0}}),g.Collection=function(a,b){b||(b={}),b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,{silent:!0,parse:b.parse})},h.extend(g.Collection.prototype,g.Events,{model:g.Model,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,b){var c,d,e,g,i,j,k={},l={};b||(b={}),a=h.isArray(a)?a.slice():[a];for(c=0,e=a.length;c<e;c++){if(!(g=a[c]=this._prepareModel(a[c],b)))throw new Error("Can't add an invalid model to a collection");if(k[i=g.cid]||this._byCid[i]||(j=g.id)!=null&&(l[j]||this._byId[j]))throw new Error("Can't add the same model to a collection twice");k[i]=l[j]=g}for(c=0;c<e;c++)(g=a[c]).on("all",this._onModelEvent,this),this._byCid[g.cid]=g,g.id!=null&&(this._byId[g.id]=g);this.length+=e,d=b.at!=null?b.at:this.models.length,f.apply(this.models,[d,0].concat(a)),this.comparator&&this.sort({silent:!0});if(b.silent)return this;for(c=0,e=this.models.length;c<e;c++){if(!k[(g=this.models[c]).cid])continue;b.index=c,g.trigger("add",g,this,b)}return this},remove:function(a,b){var c,d,e,f;b||(b={}),a=h.isArray(a)?a.slice():[a];for(c=0,d=a.length;c<d;c++){f=this.getByCid(a[c])||this.get(a[c]);if(!f)continue;delete this._byId[f.id],delete this._byCid[f.cid],e=this.indexOf(f),this.models.splice(e,1),this.length--,b.silent||(b.index=e,f.trigger("remove",f,this,b)),this._removeReference(f)}return this},get:function(a){return a==null?null:this._byId[a.id!=null?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){a||(a={});if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var b=h.bind(this.comparator,this);return this.comparator.length==1?this.models=this.sortBy(b):this.models.sort(b),a.silent||this.trigger("reset",this,a),this},pluck:function(a){return h.map(this.models,function(b){return b.get(a)})},reset:function(a,b){a||(a=[]),b||(b={});for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c]);return this._reset(),this.add(a,{silent:!0,parse:b.parse}),b.silent||this.trigger("reset",this,b),this},fetch:function(a){a=a?h.clone(a):{},a.parse===undefined&&(a.parse=!0);var b=this,c=a.success;return a.success=function(d,e,f){b.lastFetchTime=Date.now(),b[a.add?"add":"reset"](b.parse(d,f),a),c&&c(b,d)},a.error=g.wrapError(a.error,b,a),(this.sync||g.sync).call(this,"read",this,a)},create:function(a,b){var c=this;b=b?h.clone(b):{},a=this._prepareModel(a,b);if(!a)return!1;b.wait||c.add(a,b);var d=b.success;return b.success=function(e,f,g){b.wait&&c.add(e,b),d?d(e,f):e.trigger("sync",a,f,b)},a.save(null,b),a},parse:function(a,b){return a},chain:function(){return h(this.models).chain()},_reset:function(a){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(a,b){if(a instanceof g.Model)a.collection||(a.collection=this);else{var c=a;b.collection=this,a=new this.model(c,b),a._validate(a.attributes,b)||(a=!1)}return a},_removeReference:function(a){this==a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if(a!="add"&&a!="remove"||c==this)a=="destroy"&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b),this.trigger.apply(this,arguments);else return}});var j=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];h.each(j,function(a){g.Collection.prototype[a]=function(){return h[a].apply(h,[this.models].concat(h.toArray(arguments)))}}),g.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};var k=/:\w+/g,l=/\*\w+/g,m=/[-[\]{}()+?.,\\^$|#\s]/g;h.extend(g.Router.prototype,g.Events,{initialize:function(){},route:function(a,b,c){return g.history||(g.history=new g.History),h.isRegExp(a)||(a=this._routeToRegExp(a)),c||(c=this[b]),g.history.route(a,h.bind(function(d){var e=this._extractParameters(a,d);c&&c.apply(this,e),this.trigger.apply(this,["route:"+b].concat(e)),g.history.trigger("route",this,b,e)},this)),this},navigate:function(a,b){g.history.navigate(a,b)},_bindRoutes:function(){if(!this.routes)return;var a=[];for(var b in this.routes)a.unshift([b,this.routes[b]]);for(var c=0,d=a.length;c<d;c++)this.route(a[c][0],a[c][1],this[a[c][1]])},_routeToRegExp:function(a){return a=a.replace(m,"\\$&").replace(k,"([^/]+)").replace(l,"(.*?)"),new RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}}),g.History=function(){this.handlers=[],h.bindAll(this,"checkUrl")};var n=/^[#\/]/,o=/msie [\w.]+/,p=!1;h.extend(g.History.prototype,g.Events,{interval:50,getFragment:function(a,b){if(a==null)if(this._hasPushState||b){a=window.location.pathname;var c=window.location.search;c&&(a+=c)}else a=window.location.hash;return a=decodeURIComponent(a),a.indexOf(this.options.root)||(a=a.substr(this.options.root.length)),a.replace(n,"")},start:function(a){if(p)throw new Error("Backbone.history has already been started");this.options=h.extend({},{root:"/"},this.options,a),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var b=this.getFragment(),c=document.documentMode,d=o.exec(navigator.userAgent.toLowerCase())&&(!c||c<=7);d&&(this.iframe=i('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(b)),this._hasPushState?i(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!d?i(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=b,p=!0;var e=window.location,f=e.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!f)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;if(!this.options.silent)return this.loadUrl()},stop:function(){i(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),p=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();b==this.fragment&&this.iframe&&(b=this.getFragment(this.iframe.location.hash));if(b==this.fragment||b==decodeURIComponent(this.fragment))return!1;this.iframe&&this.navigate(b),this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(a){var b=this.fragment=this.getFragment(a),c=h.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0});return c},navigate:function(a,b){if(!p)return!1;if(!b||b===!0)b={trigger:b};var c=(a||"").replace(n,"");if(this.fragment==c||this.fragment==decodeURIComponent(c))return;this._hasPushState?(c.indexOf(this.options.root)!=0&&(c=this.options.root+c),this.fragment=c,window.history[b.replace?"replaceState":"pushState"]({},document.title,c)):this._wantsHashChange?(this.fragment=c,this._updateHash(window.location,c,b.replace),this.iframe&&c!=this.getFragment(this.iframe.location.hash)&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,c,b.replace))):window.location.assign(this.options.root+a),b.trigger&&this.loadUrl(a)},_updateHash:function(a,b,c){c?a.replace(a.toString().replace(/(javascript:|#).*$/,"")+"#"+b):a.hash=b}}),g.View=function(a){this.cid=h.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()};var q=/^(\S+)\s*(.*)$/,r=["model","collection","el","id","attributes","className","tagName"];h.extend(g.View.prototype,g.Events,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(a,b,c){var d=document.createElement(a);return b&&i(d).attr(b),c&&i(d).html(c),d},setElement:function(a,b){return this.$el=i(a),this.el=this.$el[0],b!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=w(this,"events")))return;this.undelegateEvents();for(var b in a){var c=a[b];h.isFunction(c)||(c=this[a[b]]);if(!c)throw new Error('Event "'+a[b]+'" does not exist');var d=b.match(q),e=d[1],f=d[2];c=h.bind(c,this),e+=".delegateEvents"+this.cid,f===""?this.$el.bind(e,c):this.$el.delegate(f,e,c)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=h.extend({},this.options,a));for(var b=0,c=r.length;b<c;b++){var d=r[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(!this.el){var a=w(this,"attributes")||{};this.id&&(a.id=this.id),this.className&&(a["class"]=this.className),this.setElement(this.make(this.tagName,a),!1)}else this.setElement(this.el,!1)}});var s=function(a,b){var c=v(this,a,b);return c.extend=this.extend,c};g.Model.extend=g.Collection.extend=g.Router.extend=g.View.extend=s;var t={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};g.sync=function(a,b,c){var d=t[a],e={type:d,dataType:"json"};return c.url||(e.url=w(b,"url")||x()),!c.data&&b&&(a=="create"||a=="update")&&(e.contentType="application/json",e.data=JSON.stringify(b.toJSON())),g.emulateJSON&&(e.contentType="application/x-www-form-urlencoded",e.data=e.data?{model:e.data}:{}),g.emulateHTTP&&(d==="PUT"||d==="DELETE")&&(g.emulateJSON&&(e.data._method=d),e.type="POST",e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d)}),e.type!=="GET"&&!g.emulateJSON&&(e.processData=!1),i.ajax(h.extend(e,c))},g.wrapError=function(a,b,c){return function(d,e){e=d===b?e:d,a?a(b,e,c):b.trigger("error",b,e,c)}};var u=function(){},v=function(a,b,c){var d;return b&&b.hasOwnProperty("constructor")?d=b.constructor:d=function(){a.apply(this,arguments)},h.extend(d,a),u.prototype=a.prototype,d.prototype=new u,b&&h.extend(d.prototype,b),c&&h.extend(d,c),d.prototype.constructor=d,d.__super__=a.prototype,d},w=function(a,b){return!a||!a[b]?null:h.isFunction(a[b])?a[b]():a[b]},x=function(){throw new Error('A "url" property or function must be specified')}})).call(this)}),
define("vendor/color/color",["require","exports","module"],function(a,b,c){(function(){function j(a){return a===void 0}function k(a){return parseInt(a,16)}function l(a){return parseInt(a,10)}function m(a){return a.length===1?"0"+a:""+a}function n(a){return typeof a=="string"&&a.indexOf(".")!==-1&&parseFloat(a)===1}function o(a){return typeof a=="string"&&a.indexOf("%")!==-1}function p(a){return g(1,h(0,a))}function q(a,b){n(a)&&(a="100%");var c=o(a);return a=g(b,h(0,parseFloat(a))),c&&(a=parseInt(a*b,10)/100),d.abs(a-b)<1e-6?1:a%b/parseFloat(b)}function r(a){return[m(f(a.r).toString(16)),m(f(a.g).toString(16)),m(f(a.b).toString(16))].join("")}function s(a){function h(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+(b-a)*6*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var b,c,d,e=q(a.h,360),f=q(a.s,100),g=q(a.l,100);if(f===0)b=c=d=g;else{var i=g<.5?g*(1+f):g+f-g*f,j=2*g-i;b=h(j,i,e+1/3),c=h(j,i,e),d=h(j,i,e-1/3)}return{r:b*255,g:c*255,b:d*255}}function t(a){var b=q(a.r,255),c=q(a.g,255),d=q(a.b,255),e=h(b,c,d),i=g(b,c,d),j,k,l=(e+i)/2;if(e===i)j=k=0;else{var m=e-i;k=l>.5?m/(2-e-i):m/(e+i);switch(e){case b:j=(c-d)/m+(c<d?6:0);break;case c:j=(d-b)/m+2;break;case d:j=(b-c)/m+4}j/=6}return{h:f(j*360),s:f(k*100),l:f(l*100)}}function u(c){c=c.replace(a,"").replace(b,"").toLowerCase();var d;return(d=i.rgb.exec(c))?{r:l(d[1]),g:l(d[2]),b:l(d[3])}:(d=i.hsl.exec(c))?{h:l(d[1]),s:l(d[2]),l:l(d[3])}:(d=i.hex6.exec(c))?{r:k(d[1]),g:k(d[2]),b:k(d[3])}:(d=i.hex3.exec(c))?{r:k(d[1]+""+d[1]),g:k(d[2]+""+d[2]),b:k(d[3]+""+d[3])}:!1}function v(a){var b=null;return typeof a=="string"&&(a=u(a)),typeof a=="object"&&(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b")?b=a:a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("l")&&(b=s(a))),b}function w(a){var b=this.toHsl();return b.h+=l(a),D(b)}function x(a){var b=this.toHsl();return b.l-=l(a),h(0,b.l),D(b)}function y(a){var b=this.toHsl();return b.l+=l(a),g(100,b.l),D(b)}function z(a,b){a=a||6,b=b||30;var c=this.toHsl(),d=360/b,e=[D(c)];for(c.h=(c.h-(d*a>>1)+720)%360;--a;)c.h=(c.h+d)%360,e.push(D(c));return e}function A(a){var b=this.toRgb(),c=D(a).toRgb(),d=(b.r*299+b.g*587+b.b*114)/1e3,f=(c.r*299+c.g*587+c.b*114)/1e3,i=h(b.r,c.r)-g(b.r,c.r)+h(b.g,c.g)-g(b.g,c.g)+h(b.b,c.b)-g(b.b,c.b);return{brightness:e(d-f),color:i}}function B(a){var b=this.diff(a);return b.brightness>125&&b.color>500}function C(a,b){var c=this.diff(a||"#000"),d=this.diff(b||"#fff");return c.brightness>d.brightness&&c.color>d.color?D(a):D(b)}var a=/^[\s,#]+/,b=/\s+$/,d=Math,e=d.abs,f=d.round,g=d.min,h=d.max,i=function(){var a="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",c="(?:"+b+")|(?:"+a+")",d="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?";return{rgb:new RegExp("rgb"+d),hsl:new RegExp("hsl"+d),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}(),D=function(a){var b=v(a);return{hue:function(a){return w.call(this,a)},darken:function(a){return x.call(this,a)},lighten:function(a){return y.call(this,a)},analogous:function(a,b){return z.call(this,a,b)},readable:function(a){return B.call(this,a)},diff:function(a){return A.call(this,a)},contrast:function(a,b){return C.call(this,a,b)},hex:function(){return b?"#"+r(b):null},toRgb:function(){return b},isValid:function(){return b?!0:!1},rgb:function(){return b?"rgb("+[f(b.r),f(b.g),f(b.b)].join(", ")+")":null},rgba:function(a){return b?"rgba("+[f(b.r),f(b.g),f(b.b),j(a)?1:p(a)].join(", ")+")":null},toHsl:function(){return t(b)},hsl:function(){var a=t(b);return b?"hsl("+a.h+", "+a.s+"%, "+a.l+"%)":null}}};typeof c!="undefined"&&c.exports?c.exports=D:(global=function(){return this}(),global.SC=global.SC||{},global.SC.color=D)})()}),
define("config",["require","exports","module","lib/mixins/observing","_","config/client-ids","lib/store","lib/url"],function(a,b,c){var d=a("lib/mixins/observing"),e=a("_"),f=a("config/client-ids"),g=a("lib/store"),h=a("lib/url"),i=h.parse(location.search).query.visual==="true",j=i?"visual":"classic",k,l,m="https://api-embedded.soundcloud.com/",n="https://api-staging-embedded.soundcloud.com/",o=c.exports=new g;d.applyTo(o),k=f[j].production,l="https://w.soundcloud.com/player/callback.html",k||window.console.error("Unknown host: %o","http://w.soundcloud.com/player/"),e.each({app_root:h.parse("http://w.soundcloud.com/player/").directory||"/",api_host:"https://api.soundcloud.com/",api_embedded_host:m,widget_id:"widget_"+Date.now(),client_application_id:i?90575:43164,client_id:k,redirect_uri:l,fb_app_id:"19507961798",mixi_api_key:"1403ed11563185e9cff6cfeedf4f2ecf77fa459e",me:null,oauth_token:null,preferFlashAudio:!0,promotedContentServer:m+"audio-ads",promotedContentAccessToken:"widget",router:null,widgetReady:!1,appView:null,widgetParams:{},wisHost:"https://wis.sndcdn.com",visualsHost:"https://visuals.soundcloud.com",adsDisabled:!1},function(a,b){o.set(b,a,{silent:!0})}),o.finalize()}),
define("lib/connect",["require","exports","module","_","lib/backbone","config","lib/event-bus","lib/url","lib/persistent-store"],function(a,b,c){function s(a,b,c){var d=window.screenX+(window.outerWidth-b)/2,e=window.screenY+(window.outerHeight-c)/2;return window.open(a,"connectWithSoundCloud",["location=1","width="+b,"height="+c,"top="+e,"left="+d,"toolbar=no","scrollbars=yes"].join(","))}var d=a("_"),e=a("lib/backbone"),f=a("config"),g=a("lib/event-bus"),h=a("lib/url"),i=a("lib/persistent-store"),j=150,k="v=2",l="oauth_token",m="non-expiring fast-connect",n=new i("anonymous-user"),o=new i("auth"),p,q;o.on(l,function(a){r.setAuthToken(a.current)});var r=c.exports=d.extend({},e.Events,{setAuthToken:function(a){o.set(l,a)},getAuthToken:function(){return o.get(l)},isLoggedIn:function(){return!!this.getAuthToken()},login:function(){var a;return q?p&&!p.closed&&p.focus&&p.focus():(q=$.Deferred().fail(function(){q=null}),this.isLoggedIn()?q.resolve():(a=h.stringify({host:f.get("api_host").replace("api.",""),path:["connect"],query:{client_id:f.get("client_id"),response_type:"token",scope:m,display:"next",redirect_uri:f.get("redirect_uri")+"?"+k}}),p=s(a,450,500),function b(){(!p||p.closed)&&!r.isLoggedIn()?q.reject():p.closed?g.one("connect:hasUserData",q.resolve).broadcast("connect:login"):setTimeout(b,j)}())),q},logout:function(){o.reset(),g.trigger("connect:logout","logout")},getUserIdentifier:function(){var a;return r.isLoggedIn()?a=r.currentUserId():(a=n.get("id"),a||(a=Math.floor(Math.random()*1e3),n.set("id",a))),a},currentUserId:function(){return f.get("me").id}})}),
define("views/buttons/cookie-policy",["require","exports","module","config","lib/lingua","lib/play-manager","lib/view","views/buttons/cookie-policy.css","views/buttons/cookie-policy.tmpl"],function(a,b,c){function i(a){var b=a?"on":"off";f[b]("change:current",j,this)}function j(){k()&&this.rerender()}function k(){return d.get("widgetParams").visual}function l(){var a=f.getCurrentSound();return a?a.get("publisher_info").c_line_for_display:""}function m(){var a=f.getCurrentSound();return a?a.get("publisher_info").p_line_for_display:""}function n(a){a.preventDefault()}var d=a("config"),e=a("lib/lingua"),f=a("lib/play-manager"),g=a("lib/view"),h=c.exports=g.extend({css:a("views/buttons/cookie-policy.css"),template:a("views/buttons/cookie-policy.tmpl"),className:"cookiePolicy sc-background-light",events:{"click .cookiePolicy__pline":n},setup:function(){i.call(this,!0)},dispose:function(){i.call(this,!1)},renderDecorate:function(){this.toggleState("extended",k()&&!!m())},getTemplateData:function(){return{cookie_policy_visible:e.t("Cookie policy"),cookie_policy_a11y:e.t("SoundCloud cookie policy"),publisher_info:[m(),l()].join(" ")}}})}),
define("config/widget-params",["require","exports","module","lib/browser"],function(a,b,c){var d=a("lib/browser"),e=c.exports={auto_advance:!0,auto_play:!1,buying:!0,color:"FF5500",continuous_play:!0,download:!0,following:!0,hide_related:!1,inverse:!1,legacy_fallback:!0,liking:!0,secret_token:"",sharing:!0,show_artwork:!0,show_comments:d.isNextSupported?!0:!1,show_playcount:!0,show_reposts:!1,show_user:!0,single_active:!0,start_track:0,tracking:"",visual:!1,locale:"en"}}),
define("config/error-messages",["require","exports","module","lib/lingua"],function(a,b,c){var d=a("lib/lingua"),e=c.exports={USER_NOT_FOUND:function(){return d.t("Oops, we couldn’t find that user")},GROUP_NOT_FOUND:function(){return d.t("Oops, we couldn’t find that group")},SOUND_NOT_FOUND:function(){return d.t("Oops, we couldn’t find that track")},PLAYLIST_NOT_FOUND:function(){return d.t("Oops, we couldn’t find that playlist")},INSTALL_FLASH:function(){return d.t('You need Adobe Flash to play sounds. Please <a href="http://get.adobe.com/flashplayer" target="_blank">install Flash</a> and reload the page.')},EMPTY_PLAYLIST:function(){return d.t("This playlist is empty.")},SOUND_GEO_BLOCKED:function(){return d.t("The owner of this track has not made this sound available for streaming in your location.")},INVALID_URL_PARAM:function(){return d.t('`url` parameter is not a valid SoundCloud URL. <a href="https://soundcloud.com/pages/embed">Learn more</a> about using SoundCloud players.')}}}),
define("lib/event-bus",["require","exports","module","_","lib/backbone","lib/persistent-store"],function(a,b,c){var d=a("_"),e=a("lib/backbone"),f=a("lib/persistent-store"),g,h,i,j,k;k=new f("broadcast"),g=String(Date.now()).substr(-8)*1e3+Math.floor(Math.random()*1e3),k.on("broadcast",function(a){var b=a.current;b&&b.appId!==g&&j.call(l,b)});var l=c.exports=d.extend({},e.Events,{broadcast:function(a,b){var c,d;return typeof a=="string"?(c=[].slice.call(arguments,1),b=a,a={}):c=[].slice.call(arguments,2),d=i(b,c),k.set("broadcast",d),a.excludeThis||j.call(this,d),this}});i=function(a,b){return{type:a,timestamp:Date.now(),appId:g,args:b}},j=function(a){this.trigger.apply(this,["broadcast:"+a.type].concat(a.args||[]))}}),
define("vendor/event-logger/event-logger",["require","exports","module"],function(a,b,c){(function(){function q(a){var b="."+window.location.hostname.replace(/.*\.(.+\..+)/,"$1"),c=new Date,d;c.setTime(c.getTime()+31536e7),d="; expires="+c.toGMTString(),document.cookie=k+"="+a+d+"; path=/; domain="+b}function r(){var a=document.cookie.split(k+"=");return a.length>1&&a[1].split(";")[0]}function s(){return Math.floor(Math.random()*1e6)}function t(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function u(a,b){var c=t(a),d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c}function v(a){return a=typeof a=="object"?a:{},a.context=a.context||{},a.context.scope=a.context.scope||[],a}function w(a,c){var d,j,k,l;j=[],d=i+a+"?",d+=["anonymous_id="+encodeURIComponent(b),"client_id="+g,"ts="+Date.now(),"url="+window.location.href.split("/").map(encodeURIComponent).join("/"),h?"app_version="+h:null].filter(Boolean).join("&"),f&&j.push.apply(j,Object.keys(f).map(C)),e&&j.push("origin="+e),document.referrer.length>0&&j.push("referrer="+encodeURIComponent(document.referrer));for(k in c)c.hasOwnProperty(k)&&c[k]!=null&&j.push(encodeURIComponent(k)+"="+encodeURIComponent(c[k]));return d+="&"+j.join("&"),l=new Image,l.onload=x.bind(null,l),l.onerror=y.bind(null,l,n),l.src=d,d}function x(a){a.onload=a.onerror=null}function y(a,b){var c=a.src;a.onload=a.onerror=null,a.src=p,setTimeout(function(){a.src=c},b)}function z(a,b){var c=0,d=b.length;for(;c<d;c++)if(a[b[c]]===undefined)return!0;return!1}function A(a){return a?"soundcloud:users:"+a:b}function B(){}function C(a){return"exp_"+a+"="+f[a]}function D(a,b){b&&(a.query_urn=b.queryUrn,a.query_position=b.position)}var a,b,d,e,f,g,h,i,j,k="sc_anonymous_id",l=3e4,m=1e3,n=3e4,o="https://eventlogger.soundcloud.com",p="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";j=function(){throw new Error("EventLogger must be initialized")},a={_anonymousId:null,initialize:function(c){if(d)return;if(!c.id)throw new Error("EventLogger: You need to pass an id");e=c.origin,b=this._anonymousId=a.getAnonymousId(),this.checkpointIntervals={},g=c.id,h=c.appVersion||null,i=c.trackingUrl||o,d=!0,j=B},setExperiments:function(a){f=a},getAnonymousId:function(){var a=r();if(!a||a==="undefined")a=[s(),s(),s(),s()].join("-"),q(a);return a},pageview:function(a,b,c,d){j(),d=v(d);var e={user:A(a),level:b,chapter:c.join("::"),page_name:d.page_name,page_urn:d.page_urn,query_urn:d.query_urn,locale:d.locale};return w("/pageview",u(e,d.params))},impression:function(a,b,c){j(),c=v(c);var d={ad_urn:c.ad_urn,campaign:c.context.campaign,context:c.context.scope.join(":"),external_media:c.external_media,impression_name:c.impression_name,impression_object:c.impression_object,level:b,monetization_type:c.monetization_type,monetized_object:c.monetized_object,page_name:c.page_name,page_urn:c.page_urn,promoted_by:c.promoted_by,urn:c.urn,user:A(a)};return w("/impression",u(d,c.params))},click:function(a,b,c,d){j(),d=v(d);var e={ad_urn:d.ad_urn,campaign:d.context.campaign,chapter:c.join("::"),context:d.context.scope.join(":"),external_media:d.external_media,level:b,monetization_type:d.monetization_type,monetized_object:d.monetized_object,promoted_by:d.promoted_by,urn:d.urn,user:A(a),click_name:d.click_name,click_object:d.click_object,click_target:d.click_target,page_name:d.page_name,page_urn:d.page_urn};return D(e,d.context.attribution),w("/click",u(e,d.params))},audio:function(a){j();if(z(a,["level","action","id","duration"]))throw new Error("EventLogger — Audio : One or multiple mandatory arguments are missing");var b=a.id,c="soundcloud:sounds:"+b,d=Math.floor(a.duration*1e3),e=this.checkpointIntervals,f=typeof a.checkpointInterval=="number"&&a.checkpointInterval>=m?a.checkpointInterval:null,g,h,i,k;return g={action:a.action,ad_urn:a.ad_urn,context:a.context,duration:d,level:a.level,monetization_type:a.monetization_type,monetized_object:a.monetized_object,page_name:a.page_name,page_urn:a.page_urn,policy:a.policy,promoted_by:a.promoted_by,protocol:a.protocol,reposted_by:a.reposted_by,set_id:a.setId,set_position:a.setPosition,sound:c,source:a.source,source_version:a.sourceVersion,trigger:a.trigger,user:A(a.user)},D(g,a.attribution),h=w("/audio",g),clearInterval(e[b]),a.action==="play"?(i=Date.now(),k=t(g),k.action="checkpoint",e[b]=setInterval(function(){Date.now()<i+d?w("/audio",k):clearInterval(e[b])},f||l)):delete e[b],h},audioPerformance:function(a){j();if(z(a,["type","latency","protocol","playertype","host"]))throw new Error("EventLogger — AudioPerformance : One or multiple mandatory arguments are missing");var b={type:a.type,latency:a.latency,protocol:a.protocol,player_type:a.playertype,host:a.host};return w("/audio_performance",b)},audioError:function(a){j();if(z(a,["error_id","protocol","playertype","host","media_uri","has_flash","flash_plugin"]))throw new Error("EventLogger — AudioError : One or multiple mandatory arguments are missing");var b={error_id:a.error_id,protocol:a.protocol,playertype:a.playertype,player_type:a.playertype,host:a.host,media_uri:a.media_uri,has_flash:a.has_flash,flash_plugin:a.flash_plugin};return w("/audio_error",b)},appLoad:function(a,b){j();var c={latency:b.latency,user:A(a),level:b.level};return w("/appload",c)},performRequestWithUser:function(a,b,c){return w(b,u({user:A(a)},c))}},typeof c!="undefined"&&c.exports?c.exports=a:(window.SC=window.SC||{},window.SC.EventLogger=a)})()}),
define("models/exception",["require","exports","module","lib/event-bus","lib/model"],function(a,b,c){var d=a("lib/event-bus"),e=a("lib/model"),f=c.exports=e.extend({url:null,lastFetchTime:1,fatal:!1,initialize:function(a){a=a||{},this.id||(a.id=this.id=this.cid,f.instances.set(this.id,this)),this.fatal=!!a.fatal,e.prototype.initialize.apply(this,arguments)}},{raise:function(a,b){var c=new f(a);c.release(),b=b||{},d.trigger("exception",c);if(b.hard)throw c}})}),
define("config/experiments",["require","exports","module","config","vendor/event-logger/event-logger","lib/support"],function(a,b,c){var d=a("config"),e=a("vendor/event-logger/event-logger"),f=a("lib/support"),g=c.exports={version:"05-11-2014_12:00",availableLayers:["widget_listening"],anonymousUserId:e.getAnonymousId(),assignmentServiceUrl:d.get("api_embedded_host")+"assignments/",localStorageKey:"WIDGET::local::assignments",localStorageEnabled:f.localStorage}}),
define("vendor/experiments/experiments",["require","exports","module"],function(a,b,c){(function(){function d(b){if(!a._localStorageEnabled)return;localStorage.setItem(a._localStorageKey,b)}var a,b="assignments";a={_initialized:!1,_assignments:null,_localStorageKey:null,_localStorageEnabled:null,_availableLayers:null,_assignmentServiceUrl:null,_version:null,_anonymousId:null,initialize:function(c){return c=c||{},a._availableLayers=c.availableLayers||[],a._localStorageKey=c.localStorageKey||b,a._assignmentServiceUrl=c.assignmentServiceUrl+c.anonymousUserId,a._version=c.version,a._anonymousId=c.anonymousUserId,a._localStorageEnabled=c.hasOwnProperty("localStorageEnabled")?c.localStorageEnabled:!0,a._assignments=a.loadAssignments(),a._initialized=!0,a},reset:function(){a._availableLayers=[],a._localStorageKey=b,a._assignmentServiceUrl="",a._version=null,a._anonymousId=null,a._assignments=null},get:function(b,c){if(!a._initialized)return!1;var d=a.getLayers()||{};return d.hasOwnProperty(b)&&d[b].experimentName===c?d[b].variantName:!1},set:function(b,c,d){var e=a.getLayers();e[b]={experimentName:c,variantName:d}},fetchAssignments:function(){var b=$.Deferred(),c=a.getAssignments(),d=a._availableLayers,e=!!d.length,f={layers:d.join(",")};return a.isUpToDate(c,a._version)?b.resolve(a.formatAssignments()):e?(a.clearAssignments(),$.ajax({url:a._assignmentServiceUrl,type:"GET",dataType:"json",data:f,timeout:5e3}).done(function(c){a.buildAssignments(c),a.storeAssignments(),b.resolve(a.formatAssignments())}).fail(b.reject)):(a.clearAssignments(),b.resolve(a.formatAssignments())),b.promise()},isUpToDate:function(a,b){return a&&a._version===b},loadAssignments:function(){var b;try{b=JSON.parse(localStorage.getItem(a._localStorageKey))}catch(c){b={}}return b},buildAssignments:function(b){a._assignments={_version:a._version,layers:a.formatLayers(b)}},storeAssignments:function(){var b=a.getAssignments()||{};d(JSON.stringify(b))},clearAssignments:function(){a._assignments={},d(JSON.stringify({}))},getAssignments:function(){return a._assignments},getLayers:function(){return a.getAssignments().layers},formatAssignments:function(){var b={},c=a.getLayers(),d;return c&&(d=Object.keys(c),d.forEach(function(a){b[a]=c[a].variantId})),b},formatLayers:function(a){var b={};return a.forEach(function(a){b[a.layer_name]={experimentName:a.experiment_name,variantName:a.variant_name,variantId:a.variant_id}}),b},serialize:function(){var b=a.getLayers(),c,d,e=[];for(d in b)c=b[d],c&&c.experimentName&&c.variantName&&e.push("["+d+"] "+c.experimentName+": "+c.variantName);return e.join(", ")},setExperimentsFromQueryParams:function(b){var c,d,e,f,g;for(g in b)c=/^exp\.([^.]+)\.([^.]+)$/.exec(g),f=b[g],c&&(d=c[1],e=c[2]),d&&e&&f&&a.set(d,e,f)}},typeof c!="undefined"&&c.exports?c.exports=a:(window.SC=window.SC||{},window.SC.Experiments=a)})()}),
define("vendor/fastclick",["require","exports","module"],function(a,b,c){function d(a){"use strict";var b,c=this;this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=a;if(!a||!a.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return d.prototype.onClick.apply(c,arguments)},this.onMouse=function(){return d.prototype.onMouse.apply(c,arguments)},this.onTouchStart=function(){return d.prototype.onTouchStart.apply(c,arguments)},this.onTouchMove=function(){return d.prototype.onTouchMove.apply(c,arguments)},this.onTouchEnd=function(){return d.prototype.onTouchEnd.apply(c,arguments)},this.onTouchCancel=function(){return d.prototype.onTouchCancel.apply(c,arguments)};if(d.notNeeded(a))return;this.deviceIsAndroid&&(a.addEventListener("mouseover",this.onMouse,!0),a.addEventListener("mousedown",this.onMouse,!0),a.addEventListener("mouseup",this.onMouse,!0)),a.addEventListener("click",this.onClick,!0),a.addEventListener("touchstart",this.onTouchStart,!1),a.addEventListener("touchmove",this.onTouchMove,!1),a.addEventListener("touchend",this.onTouchEnd,!1),a.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(a.removeEventListener=function(b,c,d){var e=Node.prototype.removeEventListener;b==="click"?e.call(a,b,c.hijacked||c,d):e.call(a,b,c,d)},a.addEventListener=function(b,c,d){var e=Node.prototype.addEventListener;b==="click"?e.call(a,b,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(a,b,c,d)}),typeof a.onclick=="function"&&(b=a.onclick,a.addEventListener("click",function(a){b(a)},!1),a.onclick=null)}d.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,d.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),d.prototype.deviceIsIOS4=d.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),d.prototype.deviceIsIOSWithBadTarget=d.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),d.prototype.needsClick=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(this.deviceIsIOS&&a.type==="file"||a.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(a.className)},d.prototype.needsFocus=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},d.prototype.sendClick=function(a,b){"use strict";var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},d.prototype.determineEventType=function(a){return"use strict",this.deviceIsAndroid&&a.tagName.toLowerCase()==="select"?"mousedown":"click"},d.prototype.focus=function(a){"use strict";var b;this.deviceIsIOS&&a.setSelectionRange&&a.type.indexOf("date")!==0&&a.type!=="time"?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},d.prototype.updateScrollParent=function(a){"use strict";var b,c;b=a.fastClickScrollParent;if(!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},d.prototype.getTargetElementFromEventTarget=function(a){return"use strict",a.nodeType===Node.TEXT_NODE?a.parentNode:a},d.prototype.onTouchStart=function(a){"use strict";var b,c,d;if(a.targetTouches.length>1)return!0;b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0];if(this.deviceIsIOS){d=window.getSelection();if(d.rangeCount&&!d.isCollapsed)return!0;if(!this.deviceIsIOS4){if(c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<200&&a.preventDefault(),!0},d.prototype.touchHasMoved=function(a){"use strict";var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?!0:!1},d.prototype.onTouchMove=function(a){"use strict";if(!this.trackingClick)return!0;if(this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))this.trackingClick=!1,this.targetElement=null;return!0},d.prototype.findControl=function(a){return"use strict",a.control!==undefined?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},d.prototype.onTouchEnd=function(a){"use strict";var b,c,d,e,f,g=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(f=a.changedTouches[0],g=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||g,g.fastClickScrollParent=this.targetElement.fastClickScrollParent),d=g.tagName.toLowerCase();if(d==="label"){b=this.findControl(g);if(b){this.focus(g);if(this.deviceIsAndroid)return!1;g=b}}else if(this.needsFocus(g)){if(a.timeStamp-c>100||this.deviceIsIOS&&window.top!==window&&d==="input")return this.targetElement=null,!1;this.focus(g);if(!this.deviceIsIOS4||d!=="select")this.targetElement=null,a.preventDefault();return!1}if(this.deviceIsIOS&&!this.deviceIsIOS4){e=g.fastClickScrollParent;if(e&&e.fastClickLastScrollTop!==e.scrollTop)return!0}return this.needsClick(g)||(a.preventDefault(),this.sendClick(g,a)),!1},d.prototype.onTouchCancel=function(){"use strict",this.trackingClick=!1,this.targetElement=null},d.prototype.onMouse=function(a){return"use strict",this.targetElement?a.forwardedTouchEvent?!0:a.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0:!0},d.prototype.onClick=function(a){"use strict";var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):a.target.type==="submit"&&a.detail===0?!0:(b=this.onMouse(a),b||(this.targetElement=null),b)},d.prototype.destroy=function(){"use strict";var a=this.layer;this.deviceIsAndroid&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},d.notNeeded=function(a){"use strict";var b,c;if(typeof window.ontouchstart=="undefined")return!0;c=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(c){if(!d.prototype.deviceIsAndroid)return!0;b=document.querySelector("meta[name=viewport]");if(b){if(b.content.indexOf("user-scalable=no")!==-1)return!0;if(c>31&&window.innerWidth<=window.screen.width)return!0}}return a.style.msTouchAction==="none"?!0:!1},d.attach=function(a){return"use strict",new d(a)},c.exports=d}),
define("lib/flash-widget",["require","exports","module","lib/url","lib/utils","lib/support"],function(a,b,c){var d=a("lib/url"),e=a("lib/utils"),f=a("lib/support"),g=c.exports={start:function(){var a=document.getElementById("widget"),b,c,g={},h='<div style="position:absolute;width:100%;top:50px;text-align:center;"><p style="line-height:20px;">{errorMessage}</p><a href="http://soundcloud.com" title="Play on SoundCloud" class="g-sc-logo" style="display:inline-block">SoundCloud.com</a></div>';d.getQueryParam("legacy_fallback")==="false"?(c=h,g.errorMessage="Sorry, we don’t support your browser. Please upgrade to the latest version and try again."):f.flash?(c='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%" id="flashwidget"><param name="movie" value="{flashPlayerSrc}"> </param><param name="allowscriptaccess" value="always"> </param><embed src="{flashPlayerSrc}" type="application/x-shockwave-flash" allowscriptaccess="always" width="100%" height="100%"> </embed></object>',g.flashPlayerSrc="//player.soundcloud.com/player.swf"+location.search+"&enable_api=true"):(c=h,g.errorMessage='You need Adobe Flash to play tracks. Please <a href="http://get.adobe.com/flashplayer" target="_blank">install Flash</a> and reload the page.'),b=e.supplant(c,g),a.className+=" noBorders fullSize",a.innerHTML=b}}}),
define("lib/global-xhr-handlers",["require","exports","module","lib/connect"],function(a,b,c){var d=a("lib/connect"),e=c.exports={401:function(a){var b=a.responseText.indexOf("geo_blocked")!==-1;b||d.logout()}}}),
define("lib/keyboard-shortcuts",["require","exports","module","_","lib/play-manager"],function(a,b,c){function h(a){return a.metaKey||a.shiftKey||a.ctrlKey||a.altKey}function j(a,b,c){i.call(a,Math.max(5,f)*1e3*(c==="next"?1:-1))}var d=a("_"),e=a("lib/play-manager"),f=0,g=c.exports={shortcuts:{playPause:{keyCode:["32","13"],fn:function(a){a&&e.toggle(a,{userInitiated:!0})}},load:{keyCode:["48","49","50","51","52","53","54","55","56","57"],fn:function(a,b){a&&!h(b)&&a.seek(a.duration()/10*(b.keyCode-48))}},seekBackward:{keyCode:["37"],fn:function(a,b){a&&j(a,b,"prev")}},seekForward:{keyCode:["39"],fn:function(a,b){a&&j(a,b,"next")}},prev:{keyCode:["shiftKey+37","75"],fn:function(){e.playPrev({userInitiated:!0})}},next:{keyCode:["shiftKey+39","74"],fn:function(){e.playNext({userInitiated:!0})}}},handleKeyDown:function(a){var b=g.shortcuts,c=a.keyCode,i=c===13&&$(a.target).is(":tabbable")&&!a.isDefaultPrevented(),j,l,m;if(h(a)||i)return;var n=e.getCurrentSound();++f,j=k(c),d.find(d.sortBy(d.keys(j),"length").reverse(),function(d){var e=d.split("+"),f=e.every(function(b,f){if(f===e.length-1){var g=String(c)===e[f];return g&&e.length===1&&/[A-Za-z0-9%']/.test(String.fromCharCode(d))?!h(a):g}return a[b]});if(f)return m=b[j[d]],!0}),m&&(l=m.fn(n,a),l||a.preventDefault())},handleKeyUp:function(){f=0}},i=d.throttle(function(a){this.seekRelative(a)},200),k=d.memoize(function(a){var b=new RegExp("(^|\\+)"+a+"$"),c={};return d.each(g.shortcuts,function(a,e){d.each(a.keyCode,function(a){b.test(a)&&(c[a]=e)})}),c})}),
define("lib/lingua",["require","exports","module","vendor/i18n/i18n","lib/cookies","lib/persistent-store","config/locales/locale-pt-br.json","config/locales/locale-es.json"],function(a,b,c){function m(a){var b=!1;return a.split("").map(function(a){return a==="<"||a===">"?(b=a==="<",a):b||!a.match(/[a-z]/i)?a:"*"}).join("")}function n(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return c===null?"":decodeURIComponent(c[1].replace(/\+/g," "))}function o(){return e.get(g.getLocaleCookieName())}function p(){var a=this.getBrowserPrimaryLocale();return a==="pt_br"?a=this.locales.pt_BR:a.substr(0,2)==="es"?a=this.locales.es:a=this.defaultLocale,a}var d=a("vendor/i18n/i18n"),e=a("lib/cookies"),f=a("lib/persistent-store"),g,h,i="locale",j=new f("locale-settings"),k={en:{},pt_BR:a("config/locales/locale-pt-br.json"),es:a("config/locales/locale-es.json"),asterisk:{}},l=c.exports={defaultLocale:"en",locales:{en:"en",pt_BR:"pt_BR",es:"es"},initialize:function(a){h=k[a]?a:this.defaultLocale,g=g||new d,g.setLocale(h),g.extend(k[h])},initializeFromUserSettings:function(){g=g||new d;var a=n(i),b=o(),c=a||b,e=p.call(this);this.initialize(c||e),j.dispose()},getBrowserPrimaryLocale:function(){var a=window.navigator,b=a.languages,c=a.userLanguage||b&&b[0]||a.language||"";return c=c.replace(/-/g,"_").toLowerCase(),c},getLocale:function(){return h},t:function(a,b,c){var d=g.t(a,b,c);return h==="asterisk"?m(d):d},tp:function(a,b,c,d,e){var f=g.tp(a,b,c,d,e);return h==="asterisk"?m(f):f}}}),
define("lib/loader",["require","exports","module","_","lib/helpers/dom-helper"],function(a,b,c){var d=a("_"),e=a("lib/helpers/dom-helper"),f={},g=c.exports={setPackageMap:function(a){a._prefix&&d.each(a,function(b,c){c.charAt(0)!=="_"&&(a[c]=a._prefix+b)}),this.packageMap=a},loadLayout:function(b){var c=this.packageMap,d=c&&c[b],h,i=f[b],j;return i?i:d?(h=$.Deferred(),j=function(){h.resolve(a(b))},e.insertScript(d,{onload:j,onerror:h.reject}),i=f[b]=h.promise(),i):g.load(b)},load:function(b){var c=$.Deferred();return d.isArray(b)||(b=[b]),a(b,c.resolve),c}}}),
define("lib/persistent-store",["require","exports","module","lib/store","lib/mixins/persistent","lib/mixins/observing"],function(a,b,c){var d=a("lib/store"),e=a("lib/mixins/persistent"),f=a("lib/mixins/observing"),g=c.exports=d.extend();e.applyTo(g.prototype),f.applyTo(g.prototype)}),
define("models/playlist",["require","exports","module","models/audible-interface","lib/play-manager","lib/mixins/has-image","lib/mixins/throws-not-found","lib/url"],function(a,b,c){function j(a){return e.sourceIsCollection()&&e.source.resource_id===a.resource_id}var d=a("models/audible-interface"),e=a("lib/play-manager"),f=a("lib/mixins/has-image"),g=a("lib/mixins/throws-not-found"),h=a("lib/url"),i=c.exports=d.extend(f,g,{resource_type:"playlist",urnPrefix:"soundcloud:playlists",baseUrl:function(){return"playlists/"+this.id+"/?representation=compact"},parse:function(a){return a.track_count=Math.max(a.tracks?a.tracks.length:0,a.track_count),a},isShareable:function(){return this.isEmbeddable()&&!this.isPrivate()},isEmbeddable:function(){return this.get("embeddable_by")!=="none"},isPlaying:function(){var a=e.getCurrentSound();return a&&a.isPlaying()&&j(this)},getCurrentSound:function(){return j(this)?e.getCurrentSound():null},getDeeplinkURL:function(){var a=this.getCurrentSound(),b;return a&&(b=h.modify(a.getDeeplinkURL(),{query:{"in":this.get("user").permalink+"/sets/"+this.get("permalink")}})),b}})}),
define("collections/playlist-sounds",["require","exports","module","collections/sounds"],function(a,b,c){var d=a("collections/sounds"),e=c.exports=d.extend({defaults:{resource_type:"playlists"},parse:function(a){return this.next_href=!1,a.tracks}})}),
define("lib/play-manager",["require","exports","module","_","backbone","lib/collection"],function(a,b,c){function k(a,b){b[a]("pause",l,this)[a]("finish",m,this)}function l(a){this.trigger("pause",a.sound)}function m(a){var b=a.sound,c=this.indexOf(b)===this.getSounds().length-1;b.seek(0),c?this.trigger("finish",this.source):this.isContinuousPlaybackEnabled?this.playNext():this.trigger("pause")}function n(){var a=this.source;a instanceof f&&a.on("add",p,this).on("remove",q,this),a.hold()}function o(){var a=this.source;a instanceof f&&a.off("add",p,this).off("remove",q,this),a.release()}function p(a,b,c){c.index<=this.cursor&&++this.cursor}function q(a,b,c){this.cursor&&c.index<=this.cursor&&--this.cursor}function r(){return!this._adDeferred&&this.getCurrentSound()&&this.getCurrentSound().get("policy")==="MONETIZE"&&g.adsEnabled()}function s(){return this._adDeferred&&this._adDeferred.state()==="pending"}function t(a,b){this._adDeferred=null,u.call(this,a,b)}function u(a,b){var c=this.source;this.pause(),a&&(this.setCursor(this.indexOf(a)),a.play(b),i=a,this.trigger("play",a)),this.length()-this.cursor<=h&&this.sourceIsCollection()&&!c.isFullyPopulated()&&c.fetch({add:!0})}var d=a("_"),e=a("backbone"),f=a("lib/collection"),g,h=3,i=null,j=c.exports=d.extend({},e.Events,{cursor:-1,source:null,isContinuousPlaybackEnabled:!0,sourceIsCollection:function(){return this.source&&this.source instanceof f},setSource:function(a,b){return b=d.defaults(b||{},{continuousPlay:!0}),this.source!==a&&(this.source&&o.call(this),this.source=a,a&&n.call(this),this.setCursor(-1)),this.isContinuousPlaybackEnabled=b.continuousPlay,this},length:function(){return this.getSounds().length},get:function(a){var b=this.source;return this.sourceIsCollection()?b.at(a):b},getSounds:function(){var a=this.source,b=[];return this.sourceIsCollection()?b=a.models:a&&(b=a.getSounds()),b},indexOf:function(a){return this.getSounds().indexOf(a)},getCurrentSound:function(){return this.get(this.cursor)||null},setCursor:function(a){var b=this.getCurrentSound(),c;if(a===this.cursor)return;b&&k.call(this,"off",b),this.cursor=Math.max(-1,Math.min((this.length()||0)-1,a)),c=this.getCurrentSound(),c&&k.call(this,"on",c),(b!==this.getCurrentSound()||!this.sourceIsCollection())&&this.trigger("change:current",{prev:b,current:this.getCurrentSound()})},play:function(a,b){if(r.call(this))this._adDeferred=g.whenAdFinished(a,b),this._adDeferred.always(t.bind(this,a,b));else{if(s.call(this))return;u.call(this,a,b)}},pause:function(a,b){a=a||i,a&&a.isPlaying()&&a.pause(b),i=null},toggle:function(a,b){a&&(a.isPlaying()?this.pause(a,b):this.play(a,b))},playNext:function(){this.cursor<this.length()-1&&this.play(this.get(this.cursor+1))},playPrev:function(){this.cursor>0&&this.play(this.get(this.cursor-1))},hasNextSound:function(){var a=this.source,b=this.cursor,c=this.length(),d=!(c&&b<c-1);return!d||a&&this.sourceIsCollection()&&(!a.isFullyPopulated()||!d)},prefetchCurrentSoundAudioAd:function(){r.call(this)&&g.prefetchAudioAd(this.getCurrentSound())},setAdManager:function(a){g=a}})}),
define("lib/views/progress",["require","exports","module","config","lib/event-bus","lib/math","lib/view","lib/views/progress.css"],function(a,b,c){function i(){return f.clamp(this._status+Math.random()*this.options.trickleRate,0,.95)}function j(){this.done()}function k(a){var b=a?"on":"off";e[b]("widget:ready exception",j,this)}var d=a("config"),e=a("lib/event-bus"),f=a("lib/math"),g=a("lib/view"),h=c.exports=g.extend({className:"progress sc-background-orange",css:a("lib/views/progress.css"),template:function(){return""},defaults:{minimum:f.randomRange(.08,.15),trickleRate:.1,trickleSpeed:500},attributes:{role:"bar"},_status:null,setup:function(){k.call(this,!0)},dispose:function(){k.call(this,!1)},renderDecorate:function(){this.whenInserted().done(this.start.bind(this))},start:function(){this._status||this.set(0);var a=function(){this.addDeferred(setTimeout(function(){if(!this._status||this._status===1)return;this.set(i.call(this)),a()}.bind(this),this.options.trickleSpeed))}.bind(this);a()},set:function(a){this._status=a=f.clamp(a,this.options.minimum,1);var b=(-1+a)*100;window.requestAnimationFrame(function(){this.$el.css({"-webkit-transform":"translate3d("+b+"%, 0, 0)","-ms-transform":"translate3d("+b+"%, 0, 0)",transform:"translate3d("+b+"%, 0, 0)"}),a===1&&this.toggleState("hidden",!d.get("widgetParams").visual)}.bind(this))},done:function(){this.set(1)}})}),
define("router",["require","exports","module","lib/backbone","lib/event-bus","lib/loader","config"],function(a,b,c){var d=a("lib/backbone"),e=a("lib/event-bus"),f=a("lib/loader"),g=a("config"),h=c.exports=d.Router.extend({layoutName:null,reload:function(){return d.history.loadUrl()},setRoutes:function(a){return a.forEach(function(a){this.route(a.route,a.name,a.handler)},this),this},apply:function(a,b){var c="layouts/"+a,d;this.setupDeferred&&this.setupDeferred.reject(),this.setupDeferred=d=$.Deferred(),f.loadLayout(c).done(function(c){if(d.state()!=="rejected"){var f=g.get("appView"),h=new c(b);f._teardown(),f.addSubview(h),f.$el.append(h.render().el),this.layoutName=a,e.trigger("layout:change",f)}}.bind(this))}})}),
define("config/routes",["require","exports","module","_","backbone","config/error-messages","models/exception","config","lib/url","lib/utils","config/resources"],function(a,b,c){function p(a,b){return a.push(q(b.resource,o(b.route),b.resource,s(b))),a.push(q(b.resource+"-permalink",o("/"+b.permalink),b.resource,r(b))),a}function q(a,b,c,d){return{name:a,route:b,resource:c,handler:d}}function r(a){return function(){var b=d.toArray(arguments),c=h.get("widgetParams").secret_token,e;n.lastIndex=0,e=a.permalink.replace(n,function(){return b.shift()}),c&&[k.SOUND,k.PLAYLIST].indexOf(a.resource)>-1&&(e+="/"+c),u.call(this,e)}}function s(a){return function(b){var c=h.get("widgetParams").visual,e=a.resource,f=t(e,c);b=d.isNaN(Number(b))?b:Number(b),this.apply(f,{resource_id:b,resource_type:e})}}function t(a,b){var c;switch(a){case k.SOUND:c=b?"visual-single-sound":"single-sound";break;case k.PLAYLIST:case k.USER_SOUNDS:case k.USER_FAVORITES:case k.USER_SPOTLIGHT:case k.GROUP_SOUNDS:c=b?"visual-multi-sounds":"multi-sounds";break;default:c="error"}return c}function u(a){v(a).done(function(a){var b,c;b=e.history.getOptions(),b.url=a.location.replace(/\.json.*/,""),c=i.stringify({query:b}),this.navigate(c,{trigger:!0,replace:!0})}.bind(this)).fail(function(a){if(a.status===404)return w(j.escapeHTML(e.history.getFragment()));g.raise({fatal:!0,xhr:a})})}function v(a){return $.ajax({url:h.get("api_host")+"resolve",dataType:"json",data:{url:"http://soundcloud.com/"+a,"_status_code_map[302]":200}})}function w(){g.raise({fatal:!0,message:f.INVALID_URL_PARAM})}var d=a("_"),e=a("backbone"),f=a("config/error-messages"),g=a("models/exception"),h=a("config"),i=a("lib/url"),j=a("lib/utils"),k=a("config/resources"),l="[a-zA-Z0-9_-]{1,255}",m={id:"[0-9]+",app:l,user:l,group:l,track:l,playlist:l},n=new RegExp(":("+Object.keys(m).join("|")+")","g"),o=function(){function a(a,b){return"("+m[b]+")"}return function(b){return n.lastIndex=0,new RegExp("^"+b.replace(n,a)+"$")}}();c.exports=[{route:"tracks/:id",permalink:":user/:track",resource:k.SOUND},{route:"users/:id",permalink:":user",resource:k.USER_SOUNDS},{route:"users/:id/favorites",permalink:":user/favorites",resource:k.USER_FAVORITES},{route:"users/:id/spotlight",permalink:":user/spotlight",resource:k.USER_SPOTLIGHT},{route:"groups/:id",permalink:"groups/:group",resource:k.GROUP_SOUNDS},{route:"playlists/:id",permalink:":user/sets/:playlist",resource:k.PLAYLIST}].reduce(p,[q("error","*error","exception",w)])}),
define("lib/support",["require","exports","module","_","lib/browser","lib/helpers/environment-helper"],function(a,b,c){function j(a){try{var b=!!a.getItem,c=!1,d;try{d=Date.now(),a.setItem(d,d),a.removeItem(d),c=!0}catch(e){}return b&&c}catch(f){return!1}}function k(){return f.getFlashPlugin()&&f.getFlashVersion()>=h}function l(){try{return!!window.hasOwnProperty("Audio")&&!!(new window.Audio).canPlayType("audio/mpeg;").replace(/^no$/,"")}catch(a){return!1}}function m(){try{return!!window.hasOwnProperty("Audio")&&!!(new window.Audio).canPlayType("application/vnd.apple.mpegURL").replace(/^no$/,"")}catch(a){return!1}}function n(){return e.isIE9&&!e.isIEMobile?!1:l()}var d=a("_"),e=a("lib/browser"),f=a("lib/helpers/environment-helper"),g,h=9,i=c.exports={};g={audio:function(){return n()||k()},flash:function(){return k()},HTML5Audio:function(){return l()},HLSAudio:function(){return m()},newWidget:function(){return typeof window.JSON=="undefined"?!1:e.isIEMobile?!0:document.documentMode<=8||e.isIE6||e.isIE7||e.isIE8?!1:!0},sessionStorage:function(){try{return typeof sessionStorage!="undefined"&&j(sessionStorage)}catch(a){return!1}},localStorage:function(){try{return typeof localStorage!="undefined"&&j(localStorage)}catch(a){return!1}},webSocket:function(){return typeof window.WebSocket!="undefined"},WebWorker:function(){return!1},BlobBuilder:function(){return window.MozBlobBuilder||window.WebKitBlobBuilder||window.BlobBuilder},URL:function(){return window.webkitURL||window.URL},touch:function(){try{return window.hasOwnProperty("ontouchstart")}catch(a){return!1}},speech:function(){return"onwebkitspeechchange"in document.createElement("input")},corsImg:function(){return"crossOrigin"in new Image},transform3d:function(){var a=document.createElement("modernizr"),b=a.style,c=document.head||document.getElementsByTagName("head")[0],d=document.documentElement,e=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),f="@media ("+e.join("transform-3d),(")+"modernizr)",g=document.createElement("style"),h=document.createElement("div"),i=0,j,k;return j=function(a){while(a[i]){if(typeof b[a[i]]!="undefined")return!0;i++}},k=!!j(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),k&&typeof d.style.webkitPerspective!="undefined"&&(k=null,g.textContent=f+"{#modernizr{height:3px}}",c.appendChild(g),h.id="modernizr",d.appendChild(h),k=h.offsetHeight===3?!0:!1,g.parentNode.removeChild(g),h.parentNode.removeChild(h)),k},typedArrays:function(){try{return window.hasOwnProperty("Uint8Array")}catch(a){return!1}}},d.each(g,function(a,b){i[b]=!!a()}),g=null}),
define("lib/tracking",["require","exports","module","_","lib/ad-manager","lib/analytics","config","lib/event-bus","tracking-events","lib/url","lib/play-manager"],function(a,b,c){function x(a,b){var c=d.last(a.split(":")),e=b&&b.model?b.model:b,g=e&&"getUrn"in e?e.getUrn():null,h=!1,i;switch(a){case"audio:play":case"audio:pause":case"audio:finish":c==="finish"&&(c="stop"),i=p;break;case l.LIKE_BUTTON_CLICKED:case l.FOLLOW_BUTTON_CLICKED:case l.SHARE_BUTTON_CLICKED:case l.DOWNLOAD_LINK_CLICKED:case l.BUY_LINK_CLICKED:case l.SHARE_VIEW_OPENED:case l.LINK_BUTTON_CLICKED:case l.LINK_INPUT_CLICKED:case l.EMBED_BUTTON_CLICKED:case l.ARTWORK_CLICKED:case l.PLAYLIST_SCROLLED:case l.TITLE_LINK_CLICKED:case l.CREATOR_LINK_CLICKED:case l.LOGO_LINK_CLICKED:case l.RELATED_VIEW_OPENED:case l.RELATED_VIEW_CLICKED:i=r;break;case m.IMPRESSION:case m.CLICKED:case m.SKIPPED:case m.FINISH:i=s;break;case l.WAVEFORM_CLICKED:i=r,h=!0;break;case l.SHARE_ICON_CLICKED:i=r,c+="::"+b.shareIconType,g=b.model.getUrn();break;case n.LOAD:B(b)}if(h){t.hasOwnProperty(g)||(t[g]={});if(!t[g].hasOwnProperty(c))t[g][c]=!0;else return}c&&i===p?z(c,e,b):i===s&&c==="impression"?f.trackImpression(o,undefined,E(),b):i&&c&&f.trackClick({level:o,chapter:b&&b.chapter||[c,g]},b),a==="audio:finish"&&delete t[g]}function y(){f.trackPageView({level:o,chapter:[u,j.parse(window.location.href).query.url]})}function z(a,b){var c=b,g=e.getCurrentAd(),h=b.playbackOptions,i,j;k.sourceIsCollection()&&k.source.getInfo&&(i=k.source.getInfo()),j={action:a,chapter:["sound",u,b.getUrn()].join("::"),duration:b.get("duration"),level:o,urn:b.getUrn(),trigger:h.userAction?"manual":"auto",context:h.view||"",source:i,protocol:b.audio&&b.audio.streamInfo&&b.audio.streamInfo.protocol,checkpointInterval:h.checkpointInterval,policy:b.get("policy")},b.playbackOptions={},g&&g.sound&&g.sound===c&&d.extend(j,{ad_urn:g.get("audio").ad_urn,monetization_type:g.getMonetizationType(),monetized_object:c.getUrn(),policy:null,promoted_by:null}),f.trackAudioEvent(j)}function A(){if(window._gaq!=null){var a=window.innerWidth||document.body.clientWidth,b=window.innerHeight||document.body.clientHeight,c;a=Math.round(a/100)*100,b=Math.round(b/100)*100,c=a+"x"+b,window._gaq.push(["_trackEvent","Widget container size","Range",c])}}function B(a){f.trackAppLoad(o,E(),a.latency)}function C(a,b,c){if(!v(a))return;window._gaq!=null&&window._gaq.push(["_trackEvent",q,"JS - "+a,"file:"+b+"; line:"+c])}function D(a){var b=a.get("xhr");b&&b.status.toString().indexOf("5")===0&&window._gaq!=null&&window._gaq.push(["_trackEvent",q,b.status+" - "+b.statusText,"url:"+b.url])}function E(){return g.get("me").id||null}var d=a("_"),e=a("lib/ad-manager"),f=a("lib/analytics"),g=a("config"),h=a("lib/event-bus"),i=a("tracking-events"),j=a("lib/url"),k=a("lib/play-manager"),l=i.UI,m=i.ADS,n=i.APP,o=0,p="Tracks",q="Error",r="UI",s="Ads",t={},u=j.parse(document.referrer).host,v,w=c.exports={init:d.once(function(){f.initialize();var a=["audio:play","audio:pause","audio:finish"];Object.keys(i).forEach(function(b){a.push.apply(a,d.values(i[b]))}),a.forEach(function(a){h.on(a,x.bind(null,a))}),window.onerror=C,h.on("exception",D).on("layout:change",function(){y(),A()})})};v=function(){function b(a){return this.message.indexOf(a)>-1}var a=["Error: Permission denied to access property 'toString'","Script error.","stopAudioAdsTimer","ReferenceError: Can't find variable: dzPlayer","Error connecting to extension"];return function(c){return!a.some(b,{message:c})}}()}),
define("lib/url",["require","exports","module","_"],function(a,b,c){var d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,e=["---","scheme","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],f=a("_"),g,h=c.exports={parse:function(a,b){var c=d.exec(a),f,g,i={};b||(b=e);for(f=1;f<e.length;++f){g=e[f];if(b.indexOf(g)!==-1)if(c[f]||g==="query")switch(g){case"port":i[g]=parseInt(c[f],10);break;case"path":i[g]=c[f].split("/").map(decodeURIComponent).join("/");break;case"query":i[g]=h.parseQueryString(c[f]);break;default:i[g]=c[f]}}return i},joinPath:function(a){return a.filter(Boolean).map(encodeURIComponent).join("/")},parseQueryString:function(a){var b={};return a&&a.replace(/([^?=&]+)(?:=([^&]*))?/g,function(a,c,d){c=decodeURIComponent(c),d=decodeURIComponent(d||"");switch(typeof b[c]){case"object":b[c].push(d);break;case"undefined":b[c]=d;break;default:b[c]=[b[c],d]}}),b},stringify:function(a,b){var c=[],d,e;return b&&(e=h.parse(b),a.query&&e.query&&(f.extend(e.query,a.query),delete a.query),a=f.extend({},e,a)),a.scheme&&c.push(a.scheme+"://"),a.user&&(c.push(a.user),a.password&&c.push(":"+a.password),c.push("@")),a.host&&c.push(a.host),a.port&&c.push(":"+a.port),a.path&&(typeof a.path=="string"?c.push(a.path.split("/").map(encodeURIComponent).join("/")):c.push(h.joinPath(a.path))),d=g(a.query),d&&c.push("?"+d),a.fragment&&c.push("#"+a.fragment),c.join("")},modify:function(a,b){var c=h.parse(a);return f.isFunction(b)?c=b.call(null,c):typeof b=="object"&&(b.query&&(f.extend(c.query,b.query),delete b.query),f.extend(c,b)),h.stringify(c)},getQueryParam:function(a){return h.parseQueryString(window.location.search)[a]},getQueryParams:function(){var a,b;return function(c){var d=c||window.location.search;return d!==a&&(a=d,b=h.parseQueryString(d)),b}}()};g=function(a){var b,c,d,e,f,g=[];if(a)for(b in a)if(a.hasOwnProperty(b)){e=a[b];if(e!==null&&e!==f)if(typeof e=="object"){d=e.length;for(c=0;c<d;++c)g.push(encodeURIComponent(b)+"="+encodeURIComponent(e[c]).replace(/%2F/g,"/"))}else g.push(encodeURIComponent(b)+"="+encodeURIComponent(e).replace(/%2F/g,"/"))}return g.join("&")}}),
define("models/user",["require","exports","module","config","lib/mixins/has-image","lib/mixins/throws-not-found","lib/model","lib/url"],function(a,b,c){function k(a,b){this.set(a,this.get(a)+(b?1:-1))}var d=a("config"),e=a("lib/mixins/has-image"),f=a("lib/mixins/throws-not-found"),g=a("lib/model"),h=a("lib/url"),i={FREE:"free",PRO:"creator-pro",PRO_UNLIMITED:"creator-pro-unlimited"},j=c.exports=g.extend(e,f,{resource_type:"user",urnPrefix:"soundcloud:users",baseUrl:function(){var a=this.id;if(a)return h.stringify({path:["users",a]});if(this.get("permalink")==="you")return h.stringify({path:"me"})},likesChanged:function(a){k.call(this,"likes_count",a)},getPlan:function(){var a=this.get("subscriptions");if(a&&a[0])return a[0].product.id}},{Plans:i,resolve:function(a){if(a==="you"){var b=$.Deferred(),c=d.get("me");return b.resolve(c),b}return g._resolve(this,a,function(b){return b.get("permalink")===a})}})}),
define("lib/view",["require","exports","module","lib/backbone","config","lib/css","lib/views/mixins/stateful","lib/template","_","lib/utils","lib/customization"],function(a,b,c){function m(a,b){return i.defaults(b,a.prototype.defaults),a===l?b:m(a.__super__.constructor,b)}function n(a,b){var c,d;b=b||this.model,c=a?b.on:b.off,d=this.getObservedAttributes(b),d.forEach(function(a){c.call(b,"change:"+a,this.onModelChange,this)}.bind(this))}function o(a,b){var c;b=b||this.collection,c=a?"on":"off",b[c]("add",this.onAdd,this)[c]("remove",this.onRemove,this)[c]("reset",this.onCollectionReset,this)}var d=a("lib/backbone"),e=a("config"),f=a("lib/css"),g=a("lib/views/mixins/stateful"),h=a("lib/template"),i=a("_"),j=a("lib/utils"),k=a("lib/customization"),l=c.exports=d.View.extend(g,{ModelClass:null,requiredAttributes:null,observedAttributes:null,css:null,template:$.noop,LoadingView:null,loadingViewArgs:null,loadingTemplate:function(){return""},element2selector:{},_element2selector_cache:null,defaults:null,disposed:!1,subviews:null,_subviews_keys:null,_lastEventId:null,constructorArguments:null,_whenInsertedDefer:null,_deferreds:null,initialize:function(a){a=this.options=m(this.constructor,a||{}),this.constructorArguments=i.clone(a),a.resource_id&&this.ModelClass?this.model=this.getModel(a.resource_id,a.resource_type):typeof this.collection=="function"&&(this.collection=new this.collection),this._deferreds=[],this.subviews=[],this._subviews_keys=[],this.resetElementCache(),this._setup.call(this,a),this.model&&this.setupModelListeners(),this.collection&&this.setupCollectionListeners()},_setup:function(){this.setup.apply(this,arguments)},setup:$.noop,_dispose:function(){if(this.disposed)return;this._teardown(),this.dispose(),this.disposed=!0;while(this._deferreds.length)typeof this._deferreds[0]=="number"?clearTimeout(this._deferreds.shift()):this._deferreds[0].reject("viewDisposed");this.off(),this.model&&(this.teardownModelListeners(),this.model.release()),this.collection&&(this.teardownCollectionListeners(),this.collection.release()),this.$el.remove(),this._whenInsertedDefer&&(this._whenInsertedDefer.reject(),this._whenInsertedDefer=null),this._whenRenderedDefer&&(this._whenRenderedDefer.reject(),this._whenRenderedDefer=null),delete this.el,delete this.$el,delete this.model,delete this.collection,this.constructorArguments=null},dispose:$.noop,_teardown:function(){this.resetElementCache(),this.disposeSubviews(),this.teardown()},teardown:$.noop,disposeSubviews:function(){while(this.subviews.length)this.subviews.pop()._dispose();this.subviews=[],this._subviews_keys=[]},getModel:function(a,b){var c,d,e,f,g;return f={id:a,resource_type:b},e=this.ModelClass.getClass?this.ModelClass.getClass(f):this.ModelClass,c=e.hashFn(f),d=e.instances.get(c),d?d.hold():(g={id:a},b&&(g.resource_type=b),d=new e(g)),d},setupModelListeners:function(a){n.call(this,!0,a)},teardownModelListeners:function(a){n.call(this,!1,a)},setupCollectionListeners:function(a){o.call(this,!0,a)},teardownCollectionListeners:function(a){o.call(this,!1,a)},getRequiredAttributes:function(a){var b=this.requiredAttributes;return a||(a=this.model),b&&!Array.isArray(b)&&(b=b[a.resource_type]),b||[]},getObservedAttributes:function(a){var b=this.observedAttributes,c;return a||(a=this.model),c=this.getRequiredAttributes(a),b&&!Array.isArray(b)&&(b=b[a.resource_type]),b?b.concat(c):c},addDeferred:function(a){return typeof a=="number"?this._deferreds.push(a):a.state()==="pending"&&(a.always(function(){var b=this._deferreds.indexOf(a);b>-1&&this._deferreds.splice(b,1)}.bind(this)),this._deferreds.push(a)),a},addSubview:function(a,b){return this.subviews.push(a),this._subviews_keys.push(b),b&&(this.subviews[b]=a),a},removeSubview:function(a){for(var b=this.subviews.length;b--;)if(this.subviews[b]===a){this._subviews_keys[b]&&delete this.subviews[this._subviews_keys[b]],this.subviews.splice(b,1),this._subviews_keys.splice(b,1);return}},getElement:function(a){var b,c,d;return this._element2selector_cache[a]===b&&(d=this.className.split(" ").shift(),c=this.element2selector[a]||"."+d+"__"+a,this._element2selector_cache[a]=this.$(c)),this._element2selector_cache[a]},resetElementCache:function(){this._element2selector_cache={}},render:function(){var a=this.hasData(),b=this.getTemplate(a),c=this.model||this.collection,d=a||!c?this._getTemplateData(a):c.toJSON();return b&&(h.render(b.bind(this),d,this.el),h.subviews(this)),this.css&&f.insert(this.css,this.colorCustomizable?function(a){var b=k.getColorParams();return i.each(b,function(a,c){b[c]=" "+a+" "}),j.replaceCSSVariables(a,b)}:undefined),a?(this.renderDecorate(),this._whenRenderedDefer||(this._whenRenderedDefer=$.Deferred()),this._whenRenderedDefer.resolve()):c&&(!b&&this.LoadingView&&this.addSubview(new this.LoadingView(i.result(this,"loadingViewArgs")),"loading").render().$el.appendTo(this.el),this.fetchData(c)),this},renderDecorate:$.noop,rerender:function(){this.disposed||(this._teardown(),this.render())},getTemplate:function(a){return a||!this.LoadingView&&!this.loadingTemplate?this.template:this.LoadingView?null:this.loadingTemplate},_getTemplateData:function(a){var b={};return this.model?b=this.getModelData():this.collection&&(b=this.getCollectionData()),b._options=i.clone(this.options),b._params=i.clone(e.get("widgetParams")),a&&(b=this.getTemplateData(b)||b),b},getTemplateData:$.noop,getCollectionData:function(){return this.collection.toJSON()},getModelData:function(){return this.model.toJSON()},fetchData:function(a){return a.fetch({attrs:this.getObservedAttributes(a)})},hasData:function(a){return a=a||this.model||this.collection,a?a.hasDataForView(this):!0},scrollIntoView:function(a){var b,c=this.$el.offset(),d,e,f,g,h,j,k;a=i.defaults({},a,{position:"auto"});if(!c)return!1;j=$(".g-main-scroll-area").first(),j.length||(j=$("#content")),f=$(document).scrollTop(),k=j.offset().top,d=f+k,e=f+$(window).height(),g=Math.floor(c.top),h=Math.floor(g+this.$el.height()),b=g>d&&h<e,b||(a.position==="top"||a.position==="auto"&&g<d?window.scrollTo(0,g-k):this.el.scrollIntoView(!1))},isEquivalentTo:function(a,b){var c=b||{};return this.constructor===a&&i.isEqual(m(a,c),this.constructorArguments)},whenInserted:function(a){var b=this._whenInsertedDefer,c,d;return b||(a=a||document.body,d=function(e){e.closest(a).length!==0?b.resolve():c=setTimeout(d,100)}.bind(null,this.$el),this._whenInsertedDefer=b=$.Deferred(),b.fail(function(){clearTimeout(c)}),d()),b},whenRendered:function(){var a=this._whenRenderedDefer;return a||(a=this._whenRenderedDefer=$.Deferred()),a},whenReady:function(){var a=$.Deferred();return $.whenAll([this.whenInserted(),this.whenRendered()]).done(a.resolve.bind(a,this)),a},onModelChange:function(a,b,c,d){this._lastEventId!==d&&(this._lastEventId=d,this.rerender())},onCollectionReset:function(){this.rerender()},onAdd:$.noop,onRemove:$.noop});l.prototype.$$=l.prototype.getElement}),
define("vendor/underscore",["require","exports","module"],function(a,b,c){((function(){var a=this,d=a._,e={},f=Array.prototype,g=Object.prototype,h=Function.prototype,i=f.push,j=f.slice,k=f.concat,l=g.toString,m=g.hasOwnProperty,n=f.forEach,o=f.map,p=f.reduce,q=f.reduceRight,r=f.filter,s=f.every,t=f.some,u=f.indexOf,v=f.lastIndexOf,w=Array.isArray,x=Object.keys,y=h.bind,z=function(a){if(a instanceof z)return a;if(this instanceof z)this._wrapped=a;else return new z(a)};typeof b!="undefined"?(typeof c!="undefined"&&c.exports&&(b=c.exports=z),b._=z):a._=z,z.VERSION="1.4.4";var A=z.each=z.forEach=function(a,b,c){if(a==null)return;if(n&&a.forEach===n)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,f=a.length;d<f;d++)if(b.call(c,a[d],d,a)===e)return}else for(var g in a)if(z.has(a,g)&&b.call(c,a[g],g,a)===e)return};z.map=z.collect=function(a,b,c){var d=[];return a==null?d:o&&a.map===o?a.map(b,c):(A(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)};var B="Reduce of empty array with no initial value";z.reduce=z.foldl=z.inject=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(p&&a.reduce===p)return d&&(b=z.bind(b,d)),e?a.reduce(b,c):a.reduce(b);A(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)});if(!e)throw new TypeError(B);return c},z.reduceRight=z.foldr=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(q&&a.reduceRight===q)return d&&(b=z.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=z.keys(a);f=g.length}A(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)});if(!e)throw new TypeError(B);return c},z.find=z.detect=function(a,b,c){var d;return C(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0}),d},z.filter=z.select=function(a,b,c){var d=[];return a==null?d:r&&a.filter===r?a.filter(b,c):(A(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},z.reject=function(a,b,c){return z.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},z.every=z.all=function(a,b,c){b||(b=z.identity);var d=!0;return a==null?d:s&&a.every===s?a.every(b,c):(A(a,function(a,f,g){if(!(d=d&&b.call(c,a,f,g)))return e}),!!d)};var C=z.some=z.any=function(a,b,c){b||(b=z.identity);var d=!1;return a==null?d:t&&a.some===t?a.some(b,c):(A(a,function(a,f,g){if(d||(d=b.call(c,a,f,g)))return e}),!!d)};z.contains=z.include=function(a,b){return a==null?!1:u&&a.indexOf===u?a.indexOf(b)!=-1:C(a,function(a){return a===b})},z.invoke=function(a,b){var c=j.call(arguments,2),d=z.isFunction(b);return z.map(a,function(a){return(d?b:a[b]).apply(a,c)})},z.pluck=function(a,b){return z.map(a,function(a){return a[b]})},z.where=function(a,b,c){return z.isEmpty(b)?c?null:[]:z[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},z.findWhere=function(a,b){return z.where(a,b,!0)},z.max=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&z.isEmpty(a))return-Infinity;var d={computed:-Infinity,value:-Infinity};return A(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},z.min=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&z.isEmpty(a))return Infinity;var d={computed:Infinity,value:Infinity};return A(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},z.shuffle=function(a){var b,c=0,d=[];return A(a,function(a){b=z.random(c++),d[c-1]=d[b],d[b]=a}),d};var D=function(a){return z.isFunction(a)?a:function(b){return b[a]}};z.sortBy=function(a,b,c){var d=D(b);return z.pluck(z.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||c===void 0)return 1;if(c<d||d===void 0)return-1}return a.index<b.index?-1:1}),"value")};var E=function(a,b,c,d){var e={},f=D(b||z.identity);return A(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};z.groupBy=function(a,b,c){return E(a,b,c,function(a,b,c){(z.has(a,b)?a[b]:a[b]=[]).push(c)})},z.countBy=function(a,b,c){return E(a,b,c,function(a,b){z.has(a,b)||(a[b]=0),a[b]++})},z.sortedIndex=function(a,b,c,d){c=c==null?z.identity:D(c);var e=c.call(d,b),f=0,g=a.length;while(f<g){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},z.toArray=function(a){return a?z.isArray(a)?j.call(a):a.length===+a.length?z.map(a,z.identity):z.values(a):[]},z.size=function(a){return a==null?0:a.length===+a.length?a.length:z.keys(a).length},z.first=z.head=z.take=function(a,b,c){return a==null?void 0:b!=null&&!c?j.call(a,0,b):a[0]},z.initial=function(a,b,c){return j.call(a,0,a.length-(b==null||c?1:b))},z.last=function(a,b,c){return a==null?void 0:b!=null&&!c?j.call(a,Math.max(a.length-b,0)):a[a.length-1]},z.rest=z.tail=z.drop=function(a,b,c){return j.call(a,b==null||c?1:b)},z.compact=function(a){return z.filter(a,z.identity)};var F=function(a,b,c){return A(a,function(a){z.isArray(a)?b?i.apply(c,a):F(a,b,c):c.push(a)}),c};z.flatten=function(a,b){return F(a,b,[])},z.without=function(a){return z.difference(a,j.call(arguments,1))},z.uniq=z.unique=function(a,b,c,d){z.isFunction(b)&&(d=c,c=b,b=!1);var e=c?z.map(a,c,d):a,f=[],g=[];return A(e,function(c,d){if(b?!d||g[g.length-1]!==c:!z.contains(g,c))g.push(c),f.push(a[d])}),f},z.union=function(){return z.uniq(k.apply(f,arguments))},z.intersection=function(a){var b=j.call(arguments,1);return z.filter(z.uniq(a),function(a){return z.every(b,function(b){return z.indexOf(b,a)>=0})})},z.difference=function(a){var b=k.apply(f,j.call(arguments,1));return z.filter(a,function(a){return!z.contains(b,a)})},z.zip=function(){var a=j.call(arguments),b=z.max(z.pluck(a,"length")),c=new Array(b);for(var d=0;d<b;d++)c[d]=z.pluck(a,""+d);return c},z.object=function(a,b){if(a==null)return{};var c={};for(var d=0,e=a.length;d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},z.indexOf=function(a,b,c){if(a==null)return-1;var d=0,e=a.length;if(c)if(typeof c=="number")d=c<0?Math.max(0,e+c):c;else return d=z.sortedIndex(a,b),a[d]===b?d:-1;if(u&&a.indexOf===u)return a.indexOf(b,c);for(;d<e;d++)if(a[d]===b)return d;return-1},z.lastIndexOf=function(a,b,c){if(a==null)return-1;var d=c!=null;if(v&&a.lastIndexOf===v)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);var e=d?c:a.length;while(e--)if(a[e]===b)return e;return-1},z.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);while(e<d)f[e++]=a,a+=c;return f},z.bind=function(a,b){if(a.bind===y&&y)return y.apply(a,j.call(arguments,1));var c=j.call(arguments,2);return function(){return a.apply(b,c.concat(j.call(arguments)))}},z.partial=function(a){var b=j.call(arguments,1);return function(){return a.apply(this,b.concat(j.call(arguments)))}},z.bindAll=function(a){var b=j.call(arguments,1);return b.length===0&&(b=z.functions(a)),A(b,function(b){a[b]=z.bind(a[b],a)}),a},z.memoize=function(a,b){var c={};return b||(b=z.identity),function(){var d=b.apply(this,arguments);return z.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},z.delay=function(a,b){var c=j.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},z.defer=function(a){return z.delay.apply(z,[a,1].concat(j.call(arguments,1)))},z.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,j<=0?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},z.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},z.once=function(a){var b=!1,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}},z.wrap=function(a,b){return function(){var c=[a];return i.apply(c,arguments),b.apply(this,c)}},z.compose=function(){var a=arguments;return function(){var b=arguments;for(var c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},z.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}},z.keys=x||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)z.has(a,c)&&(b[b.length]=c);return b},z.values=function(a){var b=[];for(var c in a)z.has(a,c)&&b.push(a[c]);return b},z.pairs=function(a){var b=[];for(var c in a)z.has(a,c)&&b.push([c,a[c]]);return b},z.invert=function(a){var b={};for(var c in a)z.has(a,c)&&(b[a[c]]=c);return b},z.functions=z.methods=function(a){var b=[];for(var c in a)z.isFunction(a[c])&&b.push(c);return b.sort()},z.extend=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},z.pick=function(a){var b={},c=k.apply(f,j.call(arguments,1));return A(c,function(c){c in a&&(b[c]=a[c])}),b},z.omit=function(a){var b={},c=k.apply(f,j.call(arguments,1));for(var d in a)z.contains(c,d)||(b[d]=a[d]);return b},z.defaults=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)a[c]==null&&(a[c]=b[c])}),a},z.clone=function(a){return z.isObject(a)?z.isArray(a)?a.slice():z.extend({},a):a},z.tap=function(a,b){return b(a),a};var G=function(a,b,c,d){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;a instanceof z&&(a=a._wrapped),b instanceof z&&(b=b._wrapped);var e=l.call(a);if(e!=l.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return!1;var f=c.length;while(f--)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if(e=="[object Array]"){g=a.length,h=g==b.length;if(h)while(g--)if(!(h=G(a[g],b[g],c,d)))break}else{var i=a.constructor,j=b.constructor;if(i!==j&&!(z.isFunction(i)&&i instanceof i&&z.isFunction(j)&&j instanceof j))return!1;for(var k in a)if(z.has(a,k)){g++;if(!(h=z.has(b,k)&&G(a[k],b[k],c,d)))break}if(h){for(k in b)if(z.has(b,k)&&!(g--))break;h=!g}}return c.pop(),d.pop(),h};z.isEqual=function(a,b){return G(a,b,[],[])},z.isEmpty=function(a){if(a==null)return!0;if(z.isArray(a)||z.isString(a))return a.length===0;for(var b in a)if(z.has(a,b))return!1;return!0},z.isElement=function(a){return!!a&&a.nodeType===1},z.isArray=w||function(a){return l.call(a)=="[object Array]"},z.isObject=function(a){return a===Object(a)},A(["Arguments","Function","String","Number","Date","RegExp"],function(a){z["is"+a]=function(b){return l.call(b)=="[object "+a+"]"}}),z.isArguments(arguments)||(z.isArguments=function(a){return!!a&&!!z.has(a,"callee")}),typeof /./!="function"&&(z.isFunction=function(a){return typeof a=="function"}),z.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},z.isNaN=function(a){return z.isNumber(a)&&a!=+a},z.isBoolean=function(a){return a===!0||a===!1||l.call(a)=="[object Boolean]"},z.isNull=function(a){return a===null},z.isUndefined=function(a){return a===void 0},z.has=function(a,b){return m.call(a,b)},z.noConflict=function(){return a._=d,this},z.identity=function(a){return a},z.times=function(a,b,c){var d=Array(a);for(var e=0;e<a;e++)d[e]=b.call(c,e);return d},z.random=function(a,b){return b==null&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var H={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};H.unescape=z.invert(H.escape);var I={escape:new RegExp("["+z.keys(H.escape).join("")+"]","g"),unescape:new RegExp("("+z.keys(H.unescape).join("|")+")","g")};z.each(["escape","unescape"],function(a){z[a]=function(b){return b==null?"":(""+b).replace(I[a],function(b){return H[a][b]})}}),z.result=function(a,b){if(a==null)return null;var c=a[b];return z.isFunction(c)?c.call(a):c},z.mixin=function(a){A(z.functions(a),function(b){var c=z[b]=a[b];z.prototype[b]=function(){var a=[this._wrapped];return i.apply(a,arguments),N.call(this,c.apply(z,a))}})};var J=0;z.uniqueId=function(a){var b=++J+"";return a?a+b:b},z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},M=/\\|'|\r|\n|\t|\u2028|\u2029/g;z.template=function(a,b,c){var d;c=z.defaults({},c,z.templateSettings);var e=new RegExp([(c.escape||K).source,(c.interpolate||K).source,(c.evaluate||K).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(M,function(a){return"\\"+L[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,z);var i=function(a){return d.call(this,a,z)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},z.chain=function(a){return z(a).chain()};var N=function(a){return this._chain?z(a).chain():a};z.mixin(z),A(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];z.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),(a=="shift"||a=="splice")&&c.length===0&&delete c[0],N.call(this,c)}}),A(["concat","join","slice"],function(a){var b=f[a];z.prototype[a]=function(){return N.call(this,b.apply(this._wrapped,arguments))}}),z.extend(z.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})})).call(this)}),
define("lib/browser",["require","exports","module"],function(a,b,c){var d=navigator.userAgent.toLowerCase(),e=function(a){return a.test(d)},f=c.exports={};f.isOpera=typeof window.opera!="undefined"&&window.opera.toString()==="[object Opera]",f.isChrome=e(/chrome/),f.isWebKit=e(/webkit/),f.isSafari=!f.isChrome&&e(/safari/),f.isUIWebView=e(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i),f.isIE=!f.isOpera&&e(/msie/),f.isIE6=f.isIE&&e(/msie 6/),f.isIE7=f.isIE&&e(/msie 7/),f.isIE8=f.isIE&&e(/msie 8/),f.isIE9=f.isIE&&e(/msie 9/),f.isGecko=!f.isWebKit&&e(/gecko/),f.isWindows=e(/windows|win32/),f.isMac=e(/macintosh|mac os x/),f.isLinux=e(/linux/),f.isMobile=e(/mobile|Android|iPhone|iPod|iPad|PlayBook|Skyfire/i),f.isMobileSafari=f.isSafari&&f.isMobile,f.isAndroid=e(/android/),f.isiOS=e(/iphone|ipod|ipad/),f.isIEMobile=f.isMobile&&f.isIE,f.isSecure=/^https/i.test(window.location.protocol),f.isHiDPI=window.devicePixelRatio?window.devicePixelRatio>1:!1,f.isNextSupported=!f.isMobile||e(/iPad/i),f.backingStoreRatio=function(){var a=document.createElement("canvas"),b=a.getContext&&a.getContext("2d");if(b)return b.backingStorePixelRatio||b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||1}()}),
define("lib/promoted",["require","exports","module","_","config","lib/persistent-store","lib/url"],function(a,b,c){function k(a){var b=new Image;b.src=a}var d=a("_"),e=a("config"),f=a("lib/persistent-store"),g=a("lib/url"),h=new f("promoted-persistent"),i={addToSet:"add_to_set_click",follow:"follow_click",like:"like_click",play:"sound_play",skip:"sound_skip",finish:"sound_finish",impression:"impression",repost:"repost_click",share:"share_click",adClick:"ad_click",soundClickThrough:"sound_click",userClickThrough:"profile_click",purchaseClickThrough:"purchase_click"},j=c.exports={getAdUrl:function(a,b){var c=e.get("promotedContentServer")+"/soundcloud:sounds:"+b;return g.modify(c,{query:{user_id:h.get("user_id"),sc_a_id:h.get("sc_a_id"),referrer:g.parse(document.referrer).host}})},trackEvent:function(a,b){j.getTrackingUrls(a,b).forEach(k)},parseResponse:function(a){return a.sc_a_id||a.user_id?(h.set("user_id",a.sc_a_id||a.user_id),h.set("sc_a_id",a.sc_a_id||a.user_id),a):{}},getTrackingUrls:function(a,b){var c=b&&b.tracking&&b.tracking[i[a]]||[];return d.isArray(c)?c:[c]}}}),
define("lib/backbone",["require","exports","module","_","lib/url","lib/utils","backbone","lib/mixin"],function(a,b,c){var d=a("_"),e=a("lib/url"),f=a("lib/utils"),g=a("backbone"),h=a("lib/mixin"),i=g.Model.prototype,j=g.Collection.prototype,k="url";c.exports=g,d.extend(g.History.prototype,{getFragment:function(a){var b=this.getOptions(a);return b[k]||""},_getParams:function(a){return e.parse(f.unescapeHTML(a)).query},getOptions:function(a){var b,c,f,g;return b=this._getParams(a||location.search),b[k]=decodeURIComponent(b[k]),c=this._getParams(b[k]),f=e.parse(b[k]),f.path&&(f.host&&f.host!=="soundcloud.com"?g=f.path.replace(/^[#\/]/,""):g=f.path.replace(/\/+$/,"")),b[k]=g,b=d.extend(b,c),d.each(b,function(a,c){a==="false"?b[c]=!1:a==="true"?b[c]=!0:c==="start_track"&&(b[c]=parseInt(a,10))}),b}}),function(){function a(a,b){return function(){delete a._requests[b]}}function b(b){return function(c){var e;return c=d.extend({url:d.result(this,"url"),jqAjax:!1,saveRequest:!1,keepForever:!1,dataType:"json"},c),this._requests||(this._requests={}),e=this._requests[c.url],e?(c.success&&e.done(function(a){c.success(this,a)}.bind(this)),c.error&&e.fail(c.error)):(e=this._requests[c.url]=c.jqAjax?$.ajax(c):b.call(this,c),c.keepForever||e[c.saveRequest?"fail":"always"](a(this,c.url))),e}}i.fetch=b(i.fetch),j.fetch=b(j.fetch)}(),i.change=function(){var a=0;return function(b){var c;b&&b.force&&b.force.forEach(function(a){this._changed[a]=this.get(a)}.bind(this)),++a;for(c in this._changed)this._changed.hasOwnProperty(c)&&this.trigger("change:"+c,this,this._changed[c],b,a);this.trigger("change",this,b,a),this._previousAttributes=d.clone(this.attributes),this._changed={}}}(),g.Model.extend=g.Collection.extend=g.View.extend=function(a){return function(){var b=d.toArray(arguments),c=0,e,f;return e=b.filter(function(a,b){if(a instanceof h)return c=b+1,!0}),f=a.apply(this,b.slice(c)),e.forEach(function(a){a.applyTo(f.prototype)}),f}}(g.View.extend),j.add=function(a,b){var c,e,f,g,h,i,j={},k={},l,m;b||(b={}),a=d.isArray(a)?a.slice():[a];for(c=a.length;c--;){l=!1;if(!(g=a[c]=this._prepareModel(a[c],b)))l=!0;else if(j[h=g.cid]||this._byCid[h]||(i=g.id)!==null&&i!==m&&(k[i]||this._byId[i]))g.release(),l=!0;l?a.splice(c,1):j[h]=k[i]=g}for(c=0,f=a.length;c<f;c++)(g=a[c]).on("all",this._onModelEvent,this),this._byCid[g.cid]=g,g.id!==null&&g.id!==m&&(this._byId[g.id]=g);this.length+=f,e=b.at!==null&&b.at!==m?b.at:this.models.length,Array.prototype.splice.apply(this.models,[e,0].concat(a)),this.comparator&&this.sort({silent:!0});if(b.silent)return this;for(c=0,f=this.models.length;c<f;c++)j[(g=this.models[c]).cid]&&(b.index=c,g.trigger("add",g,this,b));return this}}),
define("lib/circuit-breaker",["require","exports","module","_","lib/backbone"],function(a,b,c){var d=a("_"),e=a("lib/backbone"),f=c.exports=Class.extend({enabled:!0,_breakCount:0,_failCount:0,_maxBreaks:0,_timeoutId:null,defaults:{tolerance:1,baseDelay:1e3,maxDelay:3e4,backoffRate:2,giveUp:null,enabled:!0},initialize:function(a){d.bindAll(this,"failed","succeeded"),this.setup(a)},setup:function(a){this.options=d.extend({},this.options||this.defaults,a),a=d.defaults(this.options,this.defaults);var b=a.maxDelay/a.baseDelay;if(a.backoffRate>1)while(b>1)++this._maxBreaks,b/=a.backoffRate;else this._maxBreaks=Infinity;a.enabled||this.disable()},dispose:function(){this.off(),this.clearTimeout()},clearTimeout:function(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},failed:function(){++this._failCount>=this.options.tolerance&&this.disable()},succeeded:function(){this._breakCount=this._failCount=0},disable:function(a){if(this.enabled){var b=!a||a.autoEnable!==!1;this.enabled=!1,++this._breakCount,b&&(!this.options.giveUp||this._breakCount<this.options.giveUp)?this._timeoutId=setTimeout(this.enable.bind(this),this.currentDelay()):this.trigger("giveup"),this.trigger("disabled")}},enable:function(){this.enabled||(this.enabled=!0,this._failCount=0,this.trigger("enabled"))},currentDelay:function(){var a=this.options;return Math.min(a.baseDelay*Math.pow(a.backoffRate,Math.floor(Math.random()*Math.min(this._maxBreaks,this._breakCount))),a.maxDelay)}});d.extend(f.prototype,e.Events)}),
define("tracking-events",["require","exports","module"],function(a,b,c){c.exports={UI:{LIKE_BUTTON_CLICKED:"tracking:like_button_clicked",FOLLOW_BUTTON_CLICKED:"tracking:follow_button_clicked",SHARE_BUTTON_CLICKED:"tracking:share_button_clicked",DOWNLOAD_LINK_CLICKED:"tracking:download_link_clicked",BUY_LINK_CLICKED:"tracking:buy_link_clicked",SHARE_VIEW_OPENED:"tracking:share_view_opened",LINK_BUTTON_CLICKED:"tracking:link_button_clicked",LINK_INPUT_CLICKED:"tracking:link_input_clicked",EMBED_BUTTON_CLICKED:"tracking:embed_button_clicked",ARTWORK_CLICKED:"tracking:artwork_clicked",WAVEFORM_CLICKED:"tracking:waveform_clicked",SHARE_ICON_CLICKED:"tracking:share_icon_clicked",PLAYLIST_SCROLLED:"tracking:playlist_scrolled",TITLE_LINK_CLICKED:"tracking:title_link_clicked",CREATOR_LINK_CLICKED:"tracking:creator_link_clicked",LOGO_LINK_CLICKED:"tracking:logo_link_clicked",RELATED_VIEW_OPENED:"tracking:related_view_opened",RELATED_VIEW_CLICKED:"tracking:related_view_clicked"},ADS:{IMPRESSION:"tracking:impression",CLICKED:"tracking:ad:click",SKIPPED:"tracking:ad:skip",FINISH:"tracking:ad:finish"},APP:{LOAD:"tracking:appLoad"}}}),
define("lib/api/setters",["require","exports","module"],function(a,b,c){c.exports={PLAY:"play",PAUSE:"pause",TOGGLE:"toggle",SEEK_TO:"seekTo",SET_VOLUME:"setVolume",NEXT:"next",PREV:"prev",SKIP:"skip"}}),
define("lib/api/getters",["require","exports","module"],function(a,b,c){c.exports={GET_VOLUME:"getVolume",GET_DURATION:"getDuration",GET_POSITION:"getPosition",GET_SOUNDS:"getSounds",GET_CURRENT_SOUND:"getCurrentSound",GET_CURRENT_SOUND_INDEX:"getCurrentSoundIndex",IS_PAUSED:"isPaused"}}),
define("lib/api/events",["require","exports","module"],function(a,b,c){b.api={LOAD_PROGRESS:"loadProgress",PLAY_PROGRESS:"playProgress",PLAY:"play",PAUSE:"pause",FINISH:"finish",SEEK:"seek",READY:"ready",OPEN_SHARE_PANEL:"sharePanelOpened",CLICK_DOWNLOAD:"downloadClicked",CLICK_BUY:"buyClicked",ERROR:"error"},b.bridge={REMOVE_LISTENER:"removeEventListener",ADD_LISTENER:"addEventListener"}}),
define("lib/api/events-map",["require","exports","module","lib/api/events","tracking-events"],function(a,b,c){var d=a("lib/api/events").api,e=a("tracking-events"),f=c.exports={};f.audio={},f.audio[d.PLAY_PROGRESS]="audio:time",f.audio[d.PLAY]="audio:play",f.audio[d.PAUSE]="audio:pause",f.audio[d.FINISH]="audio:finish",f.audio[d.SEEK]="audio:seeked",f.ui={},f.ui[d.OPEN_SHARE_PANEL]=e.UI.SHARE_VIEW_OPENED,f.ui[d.CLICK_BUY]=e.UI.BUY_LINK_CLICKED,f.ui[d.CLICK_DOWNLOAD]=e.UI.DOWNLOAD_LINK_CLICKED}),
define("lib/model",["require","exports","module","_","lib/api-wrapper","lib/backbone","lib/connect","config","lib/single","lib/url"],function(a,b,c){var d,e=a("_"),f=a("lib/api-wrapper"),g=a("lib/backbone"),h=a("lib/connect"),i=a("config"),j=a("lib/single"),k=a("lib/url"),l=Array.prototype.slice;d=g.Model.extend({resource_type:null,lastFetchTime:null,_submodels:null,submodelMap:null,initialize:function(a,b){this._submodels=[],this.options=b,e.each(this.submodelMap,function(a,b){this.on("change:"+b,this.createSubmodel.bind(this,a,b))},this),this.setup.apply(this,arguments),e.each(this.submodelMap,function(a,b){this.get(b)&&this.createSubmodel(a,b)},this)},setup:$.noop,createSubmodel:function(a,b){this.addSubmodel(new a(this.get(b),{parse:!0}))},addSubmodel:function(){l.call(arguments).forEach(function(a){this._submodels.indexOf(a)===-1?this._submodels.push(a):a.release()}.bind(this))},getAttributesToBeSaved:function(){var a=this.toJSON(),b={};return b[f.toAPIResource(this.resource_type)]=a,b},save:function(a,b){return g.Model.prototype.save.call(this,a,e.extend({url:this.saveUrl(),data:$.param(this.getAttributesToBeSaved())},b)).done(function(a){this.set(a),this.updateResourceId()}.bind(this))},saveUrl:function(){var a=e.result(this,"baseUrl");return this.isNew()&&(a=a.split("/").slice(0,-1).join("/")),a},destroy:function(a){return g.Model.prototype.destroy.call(this,e.extend({url:this.destroyUrl()},a))},destroyUrl:function(){return e.result(this,"baseUrl")},baseUrl:function(){throw new Error("baseUrl should be defined for every model")},url:function(a){var b=this.getSecretToken(),c=e.result(this,a||"baseUrl");return b?k.modify(c,{query:{secret_token:b}}):c},getSecretToken:function(){return this.get("secret_token")||i.get("widgetParams").secret_token},signedUrl:function(a){var b=this.get(a),c;return b?(c={scheme:"http",query:{client_id:i.get("client_id")}},h.isLoggedIn()&&(c.scheme="https",c.query.oauth_token=h.getAuthToken()),this.get("secret_token")&&(c.query.secret_token=this.get("secret_token")),k.modify(b,c)):null},toJSON:function(){var a=g.Model.prototype.toJSON.apply(this,arguments);return a._resource_id=this.resource_id,a._resource_type=this.resource_type,a},parse:function(a){var b;return typeof this.baseUrl=="string"&&(b=k.parse(this.baseUrl).query.secret_token),b||(b=this.extractSecretToken(a)),b&&(a.secret_token=b),a.permalink_url&&(a.permalink_url=a.permalink_url.replace(/^http:/,"https:").replace(/\/+$/,"")),a},extractSecretToken:$.noop,toString:function(){return this.resource_type?this.resource_type+" ("+(this.isNew()?"new":this.resource_id)+")"+": "+(this.attributes.permalink||this.attributes.title||this.attributes.name):Object.prototype.toString.call(this)},hasDataForView:function(a){return a.getRequiredAttributes(this).every(Object.prototype.hasOwnProperty,this.attributes)},updateResourceId:function(){var a=this.constructor.hashFn(this.attributes),b=this.resource_id;a&&(this.resource_id=a,this.constructor.instances.changeKey(b,a))},attrExists:function(a){var b=Object.prototype.hasOwnProperty;return e.isArray(a)?a.every(b,this.attributes):b.call(this.attributes,a)},getUrn:function(){if(this.urnPrefix&&this.id)return this.urnPrefix+":"+this.id},isPopulated:function(){return!!this.lastFetchTime}},{_resolve:function(a,b,c){var d=a.instances.find(c),e=$.Deferred(),f;return d?e.resolve(d):(f=k.stringify({path:"resolve",query:{url:k.stringify({scheme:document.location.protocol.replace(/:/,""),host:i.get("api_host").replace(/^https?:\/\/api\./,""),path:b}),"_status_code_map[302]":200,_status_format:"json"}}),$.getJSON(f).done(function(b){d=a.getNewInstance({}),d.baseUrl=b.location,d.fetch().done(function(){a.instances.add(d),d.release(),e.resolve(d)}).fail(e.reject)}).fail(e.reject)),e}}),c.exports=j.applyTo(d,{hashFn:function(a){return a&&a.id||null},onCleanup:function(a){a._submodels&&a._submodels.length&&(e.invoke(a._submodels,"release"),a._submodels.length=0)},prepareArgs:function(a,b){return b=b||{},a=a||{},b.parse&&(a=this.parse(a)),[a,b]},prepareInstance:function(a,b){return b=b||{},b.collection&&(this.lastFetchTime=Date.now()),e.isEmpty(a)||this.set(a),delete this.attributes.resource_id,this},getIncrementValue:function(a,b){var c=b&&b.collection;return c?c.constructor.instances.countFor(c.resource_id):1}})}),
define("models/sound",["require","exports","module","_","models/audible-interface","config","lib/mixins/has-image","lib/mixins/has-visuals","lib/mixins/throws-not-found","lib/model","lib/widget-audio","models/user","lib/url"],function(a,b,c){function o(a){var b=$.Deferred();return p(a).fail(b.reject).then(q).done(b.resolve).fail(b.reject),b}function p(a){var b=$.Deferred(),c=new n({id:a});return c.getUserId()?b.resolve(c.getUserId()):c.fetch().done(function(){b.resolve(c.getUserId())}).fail(b.reject),b.always(c.release.bind(c)),b}function q(a){var b=new l({id:a}),c=$.Deferred();return b.getPlan()?c.resolve(b):b.fetch({saveRequest:!0}).done(c.resolve.bind(c,b)).fail(c.reject.bind(c,b)),c.always(b.release.bind(b)),c}function r(a){return a[0]&&a[0].status&&a[0].status===404}var d=a("_"),e=a("models/audible-interface"),f=a("config"),g=a("lib/mixins/has-image"),h=a("lib/mixins/has-visuals"),i=a("lib/mixins/throws-not-found"),j=a("lib/model"),k=a("lib/widget-audio"),l=a("models/user"),m=a("lib/url"),n=c.exports=e.extend(g,h,i,{resource_type:"sound",urnPrefix:"soundcloud:tracks",audio:null,submodelMap:{user:l},playbackOptions:{},setup:function(){e.prototype.setup.apply(this,arguments),this.audio=new k(this),this.set("playable",!0),d.proxy(this.audio,this,"toggle","seek","isPaused","isPlaying","isLoading","loadProgress","currentTime"),["play","pause"].forEach(function(a){this[a]=function(b){this.playbackOptions=b||{},this.audio[a].call(this.audio,{userAction:this.playbackOptions.userAction})}},this)},parse:function(a){return e.prototype.parse.call(this,a),a.publisher_info=a.publisher_info||{},a},fetch:function(a){var b=this,c=e.prototype.fetch.bind(b),f=$.Deferred(),g={jqAjax:!0,saveRequest:!0};return $.whenAll([c(d.extend({url:this.url()},g)),c(d.extend({url:this.pubmetaUrl(),keepForever:!0},g))]).always(function(c,d){if(r(c)){f.reject();return}var e=c[0],g=d[1]!=="error"?d[0]:{};e.publisher_info=g,b.lastFetchTime=Date.now(),b.set(b.parse(e,a)),f.resolve()}),f},pubmetaUrl:function(){return f.get("api_embedded_host")+["tracks",this.getUrn(),"pubmeta"].join("/")},isExplicit:function(){var a=this.attributes;return!!a.publisher_info&&!!a.publisher_info.explicit},isEmbeddable:function(a){a=a||this.toJSON();if(!document&&!this.lastFetchTime)return!0;var b=m.parse(document.referrer),c=a.domain_lockings||[],e=a.embeddable_by;return e==="none"?!1:c.length?d.any(c,function(a){var c=b.host&&b.host.match(m.parse(a.domain).host);return c&&c.length}):!0},baseUrl:function(){return m.stringify({path:["tracks",this.id]})},streamsUrl:function(){return m.stringify({path:["i1","tracks",this.id,"streams"],query:{secret_token:this.get("secret_token")}})},registerUrl:function(){return m.stringify({path:["tracks",this.id,"plays"],query:{referer:document.referrer,secret_token:this.get("secret_token"),policy:this.get("policy")}})},extractSecretToken:function(a){return m.parse(a.stream_url).query.secret_token},getSounds:function(){return[this]},getNumSounds:function(){return 1},getSoundAt:function(){return this},getCurrentSound:function(){return this},getFirstSound:function(){return this},getLastSound:function(){return this},getPrevSound:function(){return undefined},getNextSound:function(){return undefined},getSoundIndexAt:function(){return 0},getSoundIndex:function(a){return a===this?0:-1},isPlayable:function(){return this.get("playable")!==!1},isProcessing:function(){return this.get("state")!=="finished"},isEditing:function(){return!1},isShareable:function(){return this.get("embeddable_by")!=="none"&&!this.isPrivate()},getRelativeTrackLength:function(){return 1},areRelatedSoundsEnabled:function(){var a=this._relatedSoundsEnabledDefer,b;return a||(this._relatedSoundsEnabledDefer=a=$.Deferred(),this.isPrivate()?a.reject():(b=f.get("widgetParams").hide_related,o(this.id).done(function(c){b&&c.getPlan()===l.Plans.PRO_UNLIMITED?a.reject():a.resolve()}).fail(a.resolve))),a},getUserId:function(){var a=this.get("user");return a?a.id:null},updateCommentCount:function(a){var b=this.get("comment_count");this.set({comment_count:b+(a?1:-1)})},setMonetizableTrack:function(a){a.hold(),this.addSubmodel(a),this._monetizableTrack=a},getMonetizableTrack:function(){return this._monetizableTrack}},{resolve:function(a,b,c){return j._resolve(this,[a,b,c],function(c){var d=c.get("user");return d&&c.get("permalink")===b&&d.permalink===a})},getUserBySoundId:o})}),
define("lib/mixins/observing",["require","exports","module","_","lib/backbone","lib/mixin"],function(a,b,c){var d=a("_"),e=a("lib/backbone"),f=a("lib/mixin"),g=c.exports=new f(d.extend({around:{set:function(a,b,c,d){var e=d&&d.silent,f,g;return e||(g=this.get(b)),f=a(b,c,d),!e&&g!==c&&this.trigger(b,{prev:g,current:c}),f},unset:function(a,b,c){var d=c&&c.silent,e,f;return d||(f=this.get(b)),e=a(b,c),!d&&f!==undefined&&this.trigger(b,{prev:f,current:undefined}),e}},before:{reset:function(a){(!a||!a.silent)&&this.each(function(a,b){this.trigger(b,{prev:this.get(b),current:undefined})},this)}}},e.Events))}),
define("config/client-ids",["require","exports","module"],function(a,b,c){c.exports={classic:{dev:"181fbe7e56ac80af29353323774890c3",staging:"8925a570bf9dc21c78991ddb5f4b2254",production:"0f8fdbbaa21a9bd18210986a7dc2d72c"},visual:{dev:"7582f2f46622ab908ba1d809f96ed037",staging:"3362fa8a84e2aff3385974f8adc7b38e",production:"a3e059563d7fd3372b49b37f00a00bcf"}}}),
define("lib/store",["require","exports","module","_"],function(a,b,c){var d=a("_"),e={};["each","forEach","map","find","detect","filter","select","reject","every","all","any","some","include","contains"].forEach(function(a){e[a]=function(){var b=[this._store];return b.push.apply(b,arguments),d[a].apply(d,b)}});var f=c.exports=Class.extend([e,{initialize:function(a){this._store={},this.length=0,this._final=!1,this.maxLength=a&&a.maxLength||!1,this.maxLength&&(this._keys=[])},maxLength:0,get:function(a){return this._store[a]},set:function(a,b){return this.has(a)?this.maxLength&&this._keys.splice(this._keys.indexOf(a),1):(++this.length,this.maxLength&&this.length>this.maxLength&&this.unset(this._keys[0])),this.maxLength&&this._keys.push(a),this._store[a]=b,this},unset:function(a){var b;return this.has(a)&&(--this.length,this._final?this._store[a]=b:(delete this._store[a],this.maxLength&&this._keys.splice(this._keys.indexOf(a),1))),this},reset:function(){return this._store={},this.maxLength&&(this._keys=[]),this._final=!1,this.length=0,this},has:function(a){return this._store.hasOwnProperty(a)},keys:function(){return Object.keys(this._store)},finalize:function(){this._final=!0}}])}),
define("views/buttons/cookie-policy.css",["require","exports","module"],function(a,b,c){var d=c.exports=document.createElement("style"),e=".cookiePolicy{position:fixed;bottom:0;left:0;z-index:1000;padding:1px 3px;opacity:.8;font-size:10px;border-top-right-radius:2px}.cookiePolicy__link{float:left}.cookiePolicy__link:focus{color:#000}.cookiePolicy__pline{display:none;position:absolute;right:3px;left:85px;text-align:right;cursor:default}.cookiePolicy.extended{right:0}.cookiePolicy.extended .cookiePolicy__pline{display:inline-block;margin-left:10px}.cookiePolicy.extended .cookiePolicy__link{margin-right:10px}";d.styleSheet?d.styleSheet.cssText=e:d.appendChild(document.createTextNode(e)),e=null}),
define("views/buttons/cookie-policy.tmpl",["vendor/handlebars-runtime"],function(){return require("vendor/handlebars-runtime").template(function(a,b,c,d,e){function p(a,b){var c="",d;return c+=' <a href="#" class="cookiePolicy__pline sc-truncate sc-link-medium">',d=a.publisher_info,typeof d===l?d=d.call(a,{hash:{}}):d===n&&(d=m.call(a,"publisher_info",{hash:{}})),c+=o(d)+"</a>\n",c}c=c||a.helpers;var f="",g,h,i,j,k=this,l="function",m=c.helperMissing,n=void 0,o=this.escapeExpression;g=b.publisher_info,h=c["if"],j=k.program(1,p,e),j.hash={},j.fn=j,j.inverse=k.noop,g=h.call(b,g,j);if(g||g===0)f+=g;return f+='\n<a href="https://soundcloud.com/pages/cookies" class="cookiePolicy__link sc-link-medium"> ',g={},h=b.cookie_policy_visible,g.visible=h,h=b.cookie_policy_a11y,g.screenreader=h,h=c.$a11y,j={},j.hash=g,g=h.call(b,j),f+=o(g)+"\n</a>\n",f})}),
define("lib/utils",["require","exports","module"],function(a,b,c){function i(a,b,c){return(a||"").replace(c,function(a,c){var d=b[c];return typeof d=="string"||typeof d=="number"?d:a})}var d=/[&<>\"\']/g,e=function(a){return"&#"+a.charCodeAt(0)+";"},f=/(&(lt|gt|quot|apos|amp|#\d+);|.)/gi,g={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},h=function(a,b,c){return g[c]||(c?String.fromCharCode(c.substring(1)):b)};c.exports={unescapeHTML:function(a){return(a||"").replace(f,h)},escapeHTML:function(a){return(a||"").replace(d,e)},supplant:function(a,b){return i(a,b,/\{([^\{\}]*)\}/g)},replaceCSSVariables:function(a,b){return i(a,b,/\$([\w-]*)/g)}}}),
define("vendor/i18n/i18n",["require","exports","module","./lib/datetime","./lib/number"],function(a,b,c){function k(a){this.phrases={},this.locale=a,l.call(this)}function l(){this.number=new e(this.locale),this.dateTime=new d(this.locale,this.number)}function m(a,b){return b?a.replace(h,function(a,c,d,e){var f=b[c||d||e];return d?j(f):f}):a}function n(a,b){return i[a](b)}function o(a){return Array.isArray(a)?a[0]:a.toString()}function p(){return 0}function q(a){return a!==1?1:0}function r(a){return a>1?1:0}function s(a){return a%10===1&&a%100!==11?0:a%10>=2&&a%10<=4&&(a%100<10||a%100>=20)?1:2}function t(a){return a===1?0:a>=2&&a<=4?1:2}function u(a){return a===1?0:a%10>=2&&a%10<=4&&(a%100<10||a%100>=20)?1:2}function v(a){return a%10!==1||a%100===11?1:0}function w(a){var b,c;for(var d=1,e=arguments.length;d<e;d++){b=arguments[d];for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}return a}function x(a){for(var b=1,c=arguments.length;b<c;b++){var d=arguments[b];for(var e in d)a[e]===void 0&&(a[e]=d[e])}return a}var d=a("./lib/datetime"),e=a("./lib/number"),f="sclocale";c.exports=k;var g="[a-zA-Z0-9_]+",h=new RegExp("\\[\\[\\[("+g+")\\]\\]\\]|"+"\\[\\[("+g+")\\]\\]|"+"(%d)","g"),i,j;k.prototype.getLocaleCookieName=function(){return f},k.prototype.setLocale=function(a){this.locale=a,l.call(this)},k.prototype.extend=function(a){w(this.phrases,a)},k.prototype.t=function(a,b,c,d){var e=(c?c+"::":"")+a,f=this.phrases[e]||this.phrases[a]||a;return m.call(this,o(f),b)},k.prototype.tp=function(a,b,c,d,e,f){var g=(e?e+"::":"")+a,h=this.phrases[g]||this.phrases[a],i=this.number.format(c);return h=h?h[n(this.locale,c)]:n("en",c)?b:a,m.call(this,o(h),x({"%d":i},d))},i={id:p,ja:p,ko:p,ms:p,th:p,tr:p,zh:p,da:q,de:q,en:q,es:q,fi:q,el:q,he:q,hu:q,it:q,nl:q,no:q,pt:q,pt_BR:r,sv:q,fr:r,tl:r,hr:s,ru:s,cs:t,pl:u,is:v},j=function(){function d(b){return a[b]||"&amp;"}var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},b=/[&<>"'`]/g,c=/[&<>"'`]/;return function(a){return!a&&a!==0?"":(a=""+a,c.test(a)?a.replace(b,d):a)}}()}),
define("lib/cookies",["require","exports","module"],function(a,b,c){var d,e=window.location.hostname.replace(/.*\.(.+\..+)/,"$1"),f="."+e,g=864e5,h,i;d=c.exports={get:function(a){return i||(i={},window.document.cookie.split(/\s*;\s*/).forEach(function(a){var b=a.split("=");i[b[0]]=b[1]})),i[a]},set:function(a,b,c){window.document.cookie=[a+"="+b,c?"expires="+(new Date(Date.now()+c*g)).toGMTString():"","path=/","domain="+f].filter(Boolean).join(";"),h()},unset:function(a){d.set(a,"",-1),h()}},h=function(){i=null}}),
define("config/locales/locale-pt-br.json",[],{Test:"Teste","Oops, we couldn’t find that user":"Ops, não foi possível encontrar esse usuário.","Oops, we couldn’t find that group":"Ops, não foi possível encontrar esse grupo.","Oops, we couldn’t find that track":"Ops, não conseguimos encontrar essa track.","Oops, we couldn’t find that playlist":"Ops, não conseguimos encontrar essa lista de reprodução.",'You need Adobe Flash to play sounds. Please <a href="http://get.adobe.com/flashplayer" target="_blank">install Flash</a> and reload the page.':'Você precisa do Adobe Flash para tocar sons. Por favor <a href="http://get.adobe.com/flashplayer" target="_blank">instale o Flash</a> e recarregue a página.',"This playlist is empty.":"Esta lista está vazia.","The owner of this track has not made this sound available for streaming in your location.":"O dono desta track não a disponibilizou em sua localização.",'`url` parameter is not a valid SoundCloud URL. <a href="https://soundcloud.com/pages/embed">Learn more</a> about using SoundCloud players.':'Parâmetro `url` não é uma URL válida da SoundCloud. <a href="https://soundcloud.com/pages/embed">Saiba mais</a> sobre o uso de players da SoundCloud.',"Play on SoundCloud":"Ouça na SoundCloud",Advertisement:"Material promocional","Why Ads?":"Por que anúncios?",'Skip in <span class="skipAd__remaining">[[remaining]]</span>':'Pular em <span class="skipAd__remaining">[[remaining]]</span>','Your track will start in <span class="skipAd__remaining">[[remaining]]</span>':'Sua track começará em <span class="skipAd__remaining">[[remaining]]</span>','Track starts in <span class="skipAd__remaining">[[remaining]]</span>':'Track começa em <span class="skipAd__remaining">[[remaining]]</span>',"Buy all":"Comprar tudo",Buy:"Comprar","Cookie policy":"Política de Cookies",Download:"Baixar","Follow back":"Seguir de volta",Following:"Seguindo",Follow:"Seguir",Join:"Participar",Joined:"Cadastrado",Like:"Curtidas",Liked:"Curtir","Hide share options":"Esconder opções de compartilhamento","Share track":"Compartilhar track","Share playlist":"Compartilhar playlist","Leave a comment at [[timecode]]":"Deixar um comentário em [[timecode]]","Click to reply to [[username]]":"Clica para responder a [[username]]","Sorry, something went wrong.":"Desculpe, um erro ocorreu.",'Favorite tracks of <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a>':'Tracks favoritas por <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a>','Spotlight tracks of <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a>':'Tracks de Spotlight <a class="sc-link-dark multiSoundDetails__link" href="[[link]]"> [[title]]</a>','Latest tracks by <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a>':'Últimas faixas <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a>','Tracks from the <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a> group':'Tracks do grupo <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a>',"Visit [[username]]’s profile":"Visite o perfil do [[username]]","Go to this set’s page":"Ir para a página desta lista",'<a class="sc-link-dark" href="[[permalink_url]]/followers">1 follower</a> including <a class="sc-link-dark" href="[[known_follower_permalink_url]]" title="Visit [[known_follower_name]]’s profile">[[known_follower_name]]</a>':['<a class="sc-link-dark" href="[[permalink_url]]/followers">1 seguidor</a> incluindo <a class="sc-link-dark" href="[[known_follower_permalink_url]]" title="Visite o perfil [[known_follower_name]]">[[known_follower_name]]</a>','<a class="sc-link-dark" href="[[permalink_url]]/followers">[[number]] seguidores</a> incluindo <a class="sc-link-dark" href="[[known_follower_permalink_url]]" title="Visite o perfil [[known_follower_name]]">[[known_follower_name]]</a>'],'<a class="sc-link-dark" href="[[permalink_url]]/followers">1 follower</a>':['<a class="sc-link-dark" href="[[permalink_url]]/followers">1 seguidor</a>','<a class="sc-link-dark" href="[[permalink_url]]/followers">[[number]] seguidores</a>'],'<a class="sc-link-dark" href="[[permalink_url]]/members">1 member</a> including <a class="sc-link-dark" href="[[known_member_permalink_url]]" title="Visit [[known_member_name]]’s profile">[[known_member_name]]</a>':['<a class="sc-link-dark" href="[[permalink_url]]/members">1 membro</a> incluindo <a class="sc-link-dark" href="[[known_member_permalink_url]]" title="Visite o perfil [[known_member_name]]">[[known_member_name]]</a>','<a class="sc-link-dark" href="[[permalink_url]]/members">[[number]] membros</a> incluindo <a class="sc-link-dark" href="[[known_member_permalink_url]]" title="Visite o perfil [[known_member_name]]">[[known_member_name]]</a>'],'<a class="sc-link-dark" href="[[permalink_url]]/members">1 member</a>':['<a class="sc-link-dark" href="[[permalink_url]]/members">1 membro</a>','<a class="sc-link-dark" href="[[permalink_url]]/members">[[number]] membros</a>'],"[[title]] on SoundCloud":"[[Título]] na SoundCloud","Pin it":"Pin","[[title]] by [[username]]":"[[title]], [[username]]","Favorite tracks of [[username]]":"Tracks favoritas por [[title]]","Latest tracks by [[username]]":"Últimas faixas [[title]]","Tracks from the [[username]]":"Faixas do [[username]]","Share to [[title]]":"Compartilhar com [[title]]",Embed:"Embutir",WordPress:"WordPress",Link:"Link","Open SoundCloud page":"Abrir SoundCloud",SoundCloud:"SoundCloud","Hear more tracks like this":"Ouça mais tracks como esta",Play:"Play",Pause:"Pausa",'Play more tracks by <a class="sc-link-white" href="[[link]]">[[text]]</a>':'Tocar mais faixas por <a class="sc-link-white" href="[[link]]">[[text]]</a>','Play another track by <a class="sc-link-white" href="[[link]]">[[text]]</a>':'Tocar outra track por <a class="sc-link-white" href="[[link]]">[[text]]</a>','Play more tracks like <a class="sc-link-white" href="[[link]]">[[text]]</a>':'Tocar mais tracks como <a class="sc-link-white" href="[[link]]">[[text]]</a>','Play another track like <a class="sc-link-white" href="[[link]]">[[text]]</a>':'Tocar outra track como <a class="sc-link-white" href="[[link]]">[[text]]</a>',"Play another track":"Tocar outra track",track:["track","tracks"],"View track":"Ver track","1 play":["1 reprodução","[[number]] reproduções"],"Explore more music & audio like":"Explorar mais tracks como","On SoundCloud.":"na Soundcloud.","Download the app":"Baixe o aplicativo","Back to track in <span class='teaser__countdown'></span>":"Voltar para track em <span class='teaser__countdown'></span>","Favorite tracks":"Tracks favoritas","Featured tracks":"Tracks selecionadas","Latest tracks":"Tracks recentes","[[number]] tracks":"[[number]] faixas","[[number]] followers":"[[number]] seguidores","1 track":["1 faixa","%d faixas"],"1 follower":["1 seguidor","%d seguidores"],"SoundCloud cookie policy":"Política de cookies do SoundCloud","Share to [[socialnetwork]]":"Compartilhe no [[socialnetwork]]","Open on SoundCloud.":"Abrir no SoundCloud.","Player controls":"Controles do leitor","dev_speak this is a string to test comments":"dev_speak esta cadeia serve para testar comentários",Share:""}),
define("config/locales/locale-es.json",[],{Test:"Prueba","Oops, we couldn’t find that user":"No hemos podido encontrar ese usuario","Oops, we couldn’t find that group":"No hemos podido encontrar ese grupo","Oops, we couldn’t find that track":"No hemos podido encontrar esa pista","Oops, we couldn’t find that playlist":"No hemos podido encontrar esa lista",'You need Adobe Flash to play sounds. Please <a href="http://get.adobe.com/flashplayer" target="_blank">install Flash</a> and reload the page.':'Necesitas Adobe Flash para reproducir pistas. <a href="http://get.adobe.com/flashplayer" target="_blank">Instala Flash</a> y vuelve a cargar la página.',"This playlist is empty.":"Esta lista está vacía.","The owner of this track has not made this sound available for streaming in your location.":"El propietario de esta pista todavía no la ha puesto a disposición de streaming en tu ubicación.",'`url` parameter is not a valid SoundCloud URL. <a href="https://soundcloud.com/pages/embed">Learn more</a> about using SoundCloud players.':'El parámetro `url` no es una URL válida de SoundCloud. <a href="https://soundcloud.com/pages/embed">Más información</a> sobre el uso de reproductores de SoundCloud.',"Play on SoundCloud":"Reproducir en SoundCloud",Advertisement:"Publicidad","Why Ads?":"¿Por qué publicidad?",'Skip in <span class="skipAd__remaining">[[remaining]]</span>':'Saltar en <span class="skipAd__remaining">[[remaining]]</span>','Your track will start in <span class="skipAd__remaining">[[remaining]]</span>':'La pista empezará en <span class="skipAd__remaining">[[remaining]]</span>','Track starts in <span class="skipAd__remaining">[[remaining]]</span>':'La pista empieza en <span class="skipAd__remaining">[[remaining]]</span>',"Buy all":"Comprar todo",Buy:"Comprar","Cookie policy":"Política de cookies",Download:"Descargar","Follow back":"Seguir también",Following:"Siguiendo",Follow:"Seguir",Join:"Unirse",Joined:"Ya te has unido",Like:"Me gusta",Liked:"Te gusta","Hide share options":"Esconder las opciones para compartir","Share track":"Compartir pista","Share playlist":"Compartir lista","Leave a comment at [[timecode]]":"Deja un comentario en [[timecode]]","Click to reply to [[username]]":"Haz clic para responder a [[username]]","Sorry, something went wrong.":"Algo ha ido mal.",'Favorite tracks of <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a>':'Pistas favoritas de <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a>','Spotlight tracks of <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a>':'Utiliza Spotlight en pistas de <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a>','Latest tracks by <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a>':'Pistas recientes de <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a>','Tracks from the <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a> group':'Pistas del grupo <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a>',"Visit [[username]]’s profile":"Visitar el perfil de [[username]]","Go to this set’s page":"Ir a la página de este conjunto",'<a class="sc-link-dark" href="[[permalink_url]]/followers">1 follower</a> including <a class="sc-link-dark" href="[[known_follower_permalink_url]]" title="Visit [[known_follower_name]]’s profile">[[known_follower_name]]</a>':['<a class="sc-link-dark" href="[[permalink_url]]/followers">1 seguidor</a> incluye <a class="sc-link-dark" href="[[known_follower_permalink_url]]" title="Visitar el perfil de [[known_follower_name]]">[[known_follower_name]]</a>','<a class="sc-link-dark" href="[[permalink_url]]/followers">[[number]] seguidores</a>, incluido <a class="sc-link-dark" href="[[known_follower_permalink_url]]" title=""Visit [[known_follower_name]]’s profile">[[known_follower_name]]</a>'],'<a class="sc-link-dark" href="[[permalink_url]]/followers">1 follower</a>':['<a class="sc-link-dark" href="[[permalink_url]]/followers">1 seguidor</a>','<a class="sc-link-dark" href="[[permalink_url]]/followers">[[number]] seguidores</a>'],'<a class="sc-link-dark" href="[[permalink_url]]/members">1 member</a> including <a class="sc-link-dark" href="[[known_member_permalink_url]]" title="Visit [[known_member_name]]’s profile">[[known_member_name]]</a>':['<a class="sc-link-dark" href="[[permalink_url]]/members">1 miembro</a> incluye <a class="sc-link-dark" href="[[known_member_permalink_url]]" title="Visitar el perfil de [[known_member_name]]">[[known_member_name]]</a>','<a class="sc-link-dark" href="[[permalink_url]]/members">[[number]] seguidores</a>, incluido <a class="sc-link-dark" href="[[known_member_permalink_url]]" title="Visit [[known_member_name]]’s profile">[[known_member_name]]</a>'],'<a class="sc-link-dark" href="[[permalink_url]]/members">1 member</a>':['<a class="sc-link-dark" href="[[permalink_url]]/members">1 integrante</a>','<a class="sc-link-dark" href="[[permalink_url]]/members">[[number]] integrantes</a>'],"[[title]] on SoundCloud":"[[title]] en SoundCloud","Pin it":"Fijar","[[title]] by [[username]]":"[[title]] de [[username]]","Favorite tracks of [[username]]":"Pistas favoritas de [[username]]","Latest tracks by [[username]]":"Pistas recientes de [[username]]","Tracks from the [[username]]":"Pistas de [[username]]","Share to [[title]]":"Compartir en [[title]]",Embed:"Integrar",WordPress:"WordPress",Link:"Enlace","Open SoundCloud page":"Abrir página de SoundCloud",SoundCloud:"SoundCloud","Hear more tracks like this":"Escuchar más pistas como esta",Play:"Reproducir",Pause:"Pausar",'Play more tracks by <a class="sc-link-white" href="[[link]]">[[text]]</a>':'Reproducir más pistas de <a class="sc-link-white" href="[[link]]">[[text]]</a>','Play another track by <a class="sc-link-white" href="[[link]]">[[text]]</a>':'Reproducir otra pista de <a class="sc-link-white" href="[[link]]">[[text]]</a>','Play more tracks like <a class="sc-link-white" href="[[link]]">[[text]]</a>':'Reproducir más pistas como <a class="sc-link-white" href="[[link]]">[[text]]</a>','Play another track like <a class="sc-link-white" href="[[link]]">[[text]]</a>':'Reproducir otra pista como <a class="sc-link-white" href="[[link]]">[[text]]</a>',"Play another track":"Reproducir otra pista",track:["pista","pistas"],"View track":"Ver pista","1 play":["1 reproducción","[[number]] reproducciones"],"Explore more music & audio like":"Explorar más música y audio como","On SoundCloud.":"En SoundCloud.","Download the app":"Descargar la aplicación","Back to track in <span class='teaser__countdown'></span>":"Vuelta a la pista en <span class='teaser__countdown'></span>","Favorite tracks":"Pistas favoritas","Featured tracks":"Pistas destacadas","Latest tracks":"Pistas recientes","[[number]] tracks":"[[number]] pistas","[[number]] followers":"[[number]] seguidores","1 track":["1 pista","%d pistas"],"1 follower":["1 seguidor","%d seguidores"],"SoundCloud cookie policy":"Política de cookies de SoundCloud","Share to [[socialnetwork]]":"Compartir en [[socialnetwork]]","Open on SoundCloud.":"Abrir en SoundCloud","Player controls":"Controles del reproductor","dev_speak this is a string to test comments":"dev_speak esta es una cadena para probar comentarios",Share:""}),
define("lib/helpers/dom-helper",["require","exports","module"],function(a,b,c){var d=c.exports={insertScript:function(a,b){var c=document.createElement("script"),e=document.getElementsByTagName("head")[0],f,g;c.async=!0,c.src=a,b=b||{},f=b.removeAfterLoad?e.removeChild.bind(e,c):b.onload,g=b.onerror,(f||g)&&d.onScriptLoad(c,f,g),e.appendChild(c)},onScriptLoad:function(a,b,c){b&&(a.addEventListener?a.addEventListener("load",b,!1):a.readyState&&(a.onreadystatechange=b)),c&&(a.onerror=c)}}}),
define("lib/mixins/persistent",["require","exports","module","_","lib/augment/augment-localStorage","lib/mixin","lib/support"],function(a,b,c){function m(a,b){return[h,a,b].join(i)}function n(a){var b=a.storage;if(b)try{return b.setItem(a.keyName,JSON.stringify(a._store)),!0}catch(c){return!1}}function o(a){var b;return a==="local"&&g.localStorage?b=window.localStorage:a==="session"&&g.sessionStorage?b=window.sessionStorage:b=e,b}function p(a){var b={},c=a.storage;return c&&(b=JSON.parse(c.getItem(a.keyName)||"{}")),b}function q(a){var b,c,e,f,g;g={dontPersist:!0};if(!a.key){d.each(d.values(k.local).concat(d.values(k.session)),function(a){a.reset(g)});return}j.lastIndex=0,b=j.exec(a.key),b&&(e=b[1],c=b[2],e&&c&&(f=k[e][c],f&&d.each(p(f),function(a,b){f.set(b,a,g)})))}function r(){if(!g.localStorage)return;var a=[],b=localStorage.length,c,d;for(c=0;c<b;c++)d=localStorage.key(c),d.indexOf(h+i)!==0&&a.push(d);a.forEach(function(a){localStorage.removeItem(a)})}var d=a("_"),e=a("lib/augment/augment-localStorage"),f=a("lib/mixin"),g=a("lib/support"),h="WIDGET",i="::",j=new RegExp("^"+h+i+"(\\S+?)"+i+"(\\S+)"),k={local:{},session:{}};r();var l=c.exports=new f({storage:null,keyName:null,type:null,namespace:null,around:{initialize:function(a,b,c){c=c||"local";if(k[c][b])return k[c][b];k[c][b]=this,a(),this.type=c,this.namespace=b,this.storage=o(c,b),this.keyName=m(c,b),this._store=p(this),this.length=d.keys(this._store).length}},after:{set:function(a,b,c){var d=!c||!c.dontPersist,e;d&&(e=n(this),e||this.unset(a))},unset:function(a,b){(!b||!b.dontPersist)&&n(this)},reset:function(a){(!a||!a.dontPersist)&&n(this)}},dispose:function(){this.storage.removeItem(this.keyName),this.reset({dontPersist:!0}),delete k[this.type][this.namespace]},write:function(){n(this)}});window.addEventListener("storage",q,!1)}),
define("models/audible-interface",["require","exports","module","_","config/resources","config","lib/play-manager","config/widget-params","vendor/embed/embed","lib/helpers/datetime-helper","lib/model"],function(a,b,c){var d=a("_"),e=a("config/resources"),f=a("config"),g=a("lib/play-manager"),h=a("config/widget-params"),i=a("vendor/embed/embed"),j=a("lib/helpers/datetime-helper"),k=a("lib/model"),l;l=function(){throw new Error("Abstract method should be implemented in subclass")};var m=c.exports=k.extend({isEmbeddable:l,isShareable:l,getCurrentSound:l,getSounds:l,getNumSounds:l,getSoundAt:l,getSoundIndex:l,getSoundIndexAt:l,getRelativeTrackLength:l,initAudio:function(){var a=this.getCurrentSound();a&&a.audio.initAudio()},setup:function(){this.on("destroy",this.pause,this)},isNowPlaying:function(){return g.getCurrentSound()===this},isPrivate:function(){return this.get("sharing")==="private"},isPlaylist:function(){return this.resource_type===e.PLAYLIST},likesChanged:function(a){this.set({likes_count:Math.max(0,(this.get("likes_count")||0)+(a?1:-1))})},getEmbedCode:function(a){var b=this.attributes,c=d.clone(f.get("widgetParams"));return d.each(c,function(a,b){b in h&&a===h[b]&&delete c[b]}),a=a||{},a.params=c,i(b,a)},getShareURL:function(){return this.get("permalink_url")+(this.isPrivate()?"/"+this.get("secret_token"):"")},getDeeplinkURL:function(a){var b=/(\b(?:[0-5]?[0-9])(?::[0-5][0-9]){1,2}\b)/g;return d.isUndefined(a)?a=this.currentTime()!==0?this.timecode():"":a=a.match(b)?b.exec(a)[0]:"",a&&(a="#t="+a),this.get("permalink_url")+a},play:l,pause:l,seek:l,isPlaying:l,isProcessing:l,isEditing:l,loadProgress:l,currentTime:l,toggle:function(){this[this.isPlaying()?"pause":"play"]()},stop:function(){this.seek(0),this.pause()},isPaused:function(){return!this.isPlaying()},seekRelative:function(a){this.seek(this.currentTime()+a)},duration:function(){return this.get("duration")},progress:function(){return this.currentTime()/this.duration()},timecode:function(){return j.timecode(this.currentTime())},toggleMute:function(a){var b=this.getCurrentSound();b&&b.audio.toggleMute(a)},getVolume:function(){var a=this.getCurrentSound(),b;return a&&(b=a.audio.getVolume()),b},setVolume:function(a){var b=this.getCurrentSound();b&&b.audio.setVolume(a)}})}),
define("lib/mixins/has-image",["require","exports","module","lib/mixin","config/resources"],function(a,b,c){var d=a("lib/mixin"),e=a("config/resources"),f=c.exports=new d({before:{initialize:function(){switch(this.resource_type){case e.USER:this.imageAttribute="avatar_url";break;case e.GROUP:case e.PLAYLIST:case e.SOUND:this.imageAttribute="artwork_url"}if(!this.imageAttribute&&!1)throw new Error("This resource_type is not allowed, you might want to add it?")}}})}),
define("lib/mixins/throws-not-found",["require","exports","module","lib/mixin"],function(a,b,c){function f(a){$.mockjax({url:a+"*",status:404,responseTime:0})}var d=a("lib/mixin"),e=c.exports=new d({applyTo:function(a,b){this.around(a,{baseUrl:function(a){var c=a();return b=b||"__SOURCE_NOT_FOUND__",c}})}})}),
define("collections/sounds",["require","exports","module","_","config/resources","lib/api-wrapper","lib/backbone","lib/url","models/sound","lib/collection","lib/mixins/can-be-empty","lib/mixins/throws-not-found"],function(a,b,c){function n(a){return a.resource_type=a.kind===e.PLAYLIST?e.PLAYLIST:e.SOUND,a}function o(a){return a.resource_type==="sound"}var d=a("_"),e=a("config/resources"),f=a("lib/api-wrapper"),g=a("lib/backbone"),h=a("lib/url"),i=a("models/sound"),j=a("lib/collection"),k=a("lib/mixins/can-be-empty"),l=a("lib/mixins/throws-not-found"),m=c.exports=j.extend(k,l,{isEdgeBaseUrl:!1,model:i,defaults:{sounds_type:null,resource_type:null,resource_id:null},baseUrl:function(){var a=this.options;return(this.isEdgeBaseUrl?f.EDGE:"")+h.stringify({path:[a.resource_type,a.resource_id,a.sounds_type],query:d.result(this,"baseUrlQueryParams")})},baseUrlQueryParams:{},parse:function(a){return a.collection.map(n).filter(o)},_prepareModel:function(){var a=g.Collection.prototype._prepareModel.apply(this,arguments);if(a){if(!a.isEmbeddable())return!1;a.hold(this._usageCount()-1)}return a}})}),
define("lib/collection",["require","exports","module","lib/backbone","config","lib/single","lib/url","_"],function(a,b,c){var d,e=a("lib/backbone"),f=a("config"),g=a("lib/single"),h=a("lib/url"),i=a("_"),j={},k,l;d=e.Collection.extend({next_href:null,lastFetchTime:null,model:j,defaults:{offset:0,limit:5,secret_token:null},initialize:function(a,b){this.options=b=l(this.constructor,b||{}),this.setup(b)},setup:$.noop,_prepareModel:function(){var a=e.Collection.prototype._prepareModel.apply(this,arguments);return a&&a.hold(this._usageCount()-1),a},_removeReference:function(a){return a.release(this._usageCount()),e.Collection.prototype._removeReference.apply(this,arguments)},fetch:function(a){var b=this.url();return b?this._requests&&this._requests[b]||e.Collection.prototype.fetch.call(this,a).done(function(a){this.next_href=a.next_href||!1}.bind(this)):$.Deferred().done(a&&a.success).resolve({})},bulkFetch:function(a){var b=arguments[1],c=arguments[2],d,e;if(!b){this._requests=this._requests||{};if(this._requests.bulk)return this._requests.bulk;this._requests.bulk=b=$.Deferred(),b.always(function(){delete this._requests.bulk}.bind(this)),c=this.length,d=this.options.limit,this.next_href||(this.options.limit=a-this.length),b.always(function(){this.options.limit=d,k.call(this,{limit:d})}.bind(this))}return this.length<a&&this.url()?(this.lastFetchTime?e={add:!0}:e={},e.silent=!0,k.call(this,{limit:a-this.length}),this.fetch(e).done(function(){this.bulkFetch(a,b,c)}.bind(this)).fail(b.reject)):(c?this.rest(c).forEach(function(a){this.trigger("add",a,this)},this):this.trigger("reset",this,{}),b.resolve()),b},url:function(){if(this.next_href!==null)return this.next_href;var a=h.parse(i.result(this,"baseUrl"));return i.extend(a.query,{limit:this.options.limit,offset:this.options.offset,linked_partitioning:1,secret_token:this.getSecretToken()}),h.stringify(a)},getSecretToken:function(){return this.options.secret_token||f.get("widgetParams").secret_token},parse:function(a){return a.collection},hasDataForView:function(){return!!this.lastFetchTime},isPopulated:function(){return!!this.lastFetchTime},isFullyPopulated:function(){return this.next_href===!1},setLimit:function(a){this.options.limit=a,this.next_href&&(this.next_href=h.modify(this.next_href,{query:{limit:a}}))},random:function(){return this.at(Math.floor(Math.random()*this.length))}}),d=c.exports=g.applyTo(d,{hashFn:function(a,b){return b&&b.resource_id||null},onHold:function(a,b,c){a.length&&a.at(0).hold&&a.invoke("hold",c)},onRelease:function(a){a.length&&a.at(0).release&&a.invoke("release")}}),l=function(a,b){return i.defaults(b,a.prototype.defaults),a===d?b:l(a.__super__.constructor,b)},k=function(a){if(this.next_href){var b=h.parse(this.next_href);i.extend(b.query,a),this.next_href=h.stringify(b)}}}),
define("lib/math",["require","exports","module"],function(a,b,c){var d=c.exports={sort:function(a){return a.sort(function(a,b){return a-b})},isInRange:function(a,b){return b=d.sort(b),a>=b[0]&&a<=b[1]},precise:function(a,b){return b=Math.pow(10,b||0),Math.round(a*b)/b},clamp:function(a,b,c){return Math.min(c,Math.max(b,a))},randomRange:function(a,b){return Math.random()*(b-a)+a}}}),
define("lib/views/progress.css",["require","exports","module"],function(a,b,c){var d=c.exports=document.createElement("style"),e=".progress{pointer-events:none;position:fixed;z-index:100;top:0;left:0;width:100%;height:3px;-webkit-transform:translate3d(-100%,0,0);-ms-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);opacity:1;-webkit-transition:-webkit-transform .2s ease,opacity .6s linear;transition:transform .2s ease,opacity .6s linear}.progress.hidden{opacity:0}";d.styleSheet?d.styleSheet.cssText=e:d.appendChild(document.createTextNode(e)),e=null}),
define("config/resources",["require","exports","module"],function(a,b,c){c.exports={GROUP:"group",GROUP_SOUNDS:"group-sounds",PLAYLIST:"playlist",SOUND:"sound",USER:"user",USER_FAVORITES:"user-favorites",USER_SOUNDS:"user-sounds",USER_SPOTLIGHT:"user-spotlight"}}),
define("lib/helpers/environment-helper",["require","exports","module"],function(a,b,c){var d=c.exports={getFlashPlugin:function(){var a,b,c,d;if(typeof window.ActiveXObject!="undefined")try{d=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),d&&(a=d.GetVariable("$version"))}catch(e){}else navigator.plugins&&navigator.plugins.length>0&&(c="application/x-shockwave-flash",b=navigator.mimeTypes,b&&b[c]&&b[c].enabledPlugin&&b[c].enabledPlugin.description&&(a=b[c].enabledPlugin.description));return a},getFlashVersion:function(){var a=this.getFlashPlugin().match(/\d\S+/)[0].replace(/,/g,".").split(".");return[a[0],a[1]].join(".")},getOperatingSystem:function(){var a=navigator.appVersion;return a.indexOf("Win")!==-1?"Windows":a.indexOf("Mac")!==-1?"MacOS":a.indexOf("X11")!==-1?"UNIX":a.indexOf("Linux")!==-1?"Linux":"undefined-OS"},getBrowser:function(){var a=navigator.userAgent,b=a.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i),c=a.match(/version\/([\.\d]+)/i),d,e;return e=b&&c!==null?c[1]:b[2],d=b?[b[1],e]:[navigator.appName,navigator.appVersion],d.join()}}}),
define("lib/analytics",["require","exports","module","_","config","vendor/event-logger/event-logger","lib/lingua","lib/math","vendor/includes/comscore","vendor/includes/google-analytics"],function(a,b,c){var d=a("_"),e=a("config"),f=a("vendor/event-logger/event-logger"),g=a("lib/lingua"),h=a("lib/math"),i=a("vendor/includes/comscore"),j=a("vendor/includes/google-analytics"),k=c.exports={initialize:function(){d.invoke([j],"include"),f.initialize({id:e.get("client_application_id"),origin:(window.location.search.match(/(?:\?|&)origin=(\w+)/)||[])[1]})},trackAudioEvent:function(a){var b=e.get("me").id||null,c=a.action,d=h.precise(a.duration/1e3,1),g=a.level,i=a.source||{},j=a.urn.split(":")[2];f.audio({action:c,ad_urn:a.ad_urn,checkpointInterval:a.checkpointInterval,duration:d,external_media:a.external_media,id:j,level:g,monetization_type:a.monetization_type,monetized_object:a.monetized_object,promoted_by:a.promoted_by,policy:a.policy,source:i.type||null,sourceVersion:i.version||null,trigger:a.trigger,user:b})},trackAppLoad:function(a,b,c){f.appLoad(b,{level:a,latency:c})},trackPageView:function(a){i.include();var b=e.get("me").id||null,c=a.level,d=a.chapter,h={locale:g.getLocale()};f.pageview(b,c,d,h)},trackClick:function(a,b){var c=e.get("me").id||null,d=a.level,g=a.chapter;f.click(c,d,g,b)},trackImpression:function(a,b,c,d){f.impression(c,a,d)}}}),
define("lib/css",["require","exports","module","_","lib/browser"],function(a,b,c){var d=a("_"),e=a("lib/browser"),f=document.getElementsByTagName("head")[0],g=e.isIE9,h,i;g&&(h=document.createElement("style"),i=[]);var j=c.exports={insert:function(a,b){d.isArray(a)||(a=[a]),a.forEach(function(a){if(g){if(i.indexOf(a)>-1)return;i.push(a),h.innerText+=b?b(a.innerHTML):a.innerHTML,a=h}a.parentNode||(!g&&b&&(a.innerHTML=b(a.innerHTML)),f.appendChild(a))})}}}),
define("lib/views/mixins/stateful",["require","exports","module","_","lib/mixin"],function(a,b,c){var d=a("_"),e=a("lib/mixin"),f=c.exports=new e({states:null,_states:null,toggleState:function(a,b){var c,e;return this.disposed?this:(this.states||(this.states={}),this.states[a]||(this.states[a]=a),this._states=this._states||{},this._states[a]=this._states[a]||!1,b=typeof b!="undefined"?!!b:!this._states[a],this._states[a]===b?this:(this._states[a]=b,c=this.states[a],typeof c=="string"?(e=c,this.$el[b?"addClass":"removeClass"](e)):d.isFunction(c)?c.call(this,b):c&&c[b?"setup":"teardown"].call(this),this.trigger("state:"+a,b),this))},getState:function(a){return!!this._states&&!!this._states[a]}})}),
define("lib/template",["require","exports","module","vendor/handlebars-runtime","lib/subview-plugin","lib/template-helpers","_"],function(a,b,c){var d=a("vendor/handlebars-runtime"),e=a("lib/subview-plugin"),f=a("lib/template-helpers"),g=a("_");g.each(f,function(a,b){d.registerHelper(b,a)});var h=c.exports={render:function(a,b,c){var d=a(b||{}),e,f,h;return c?(g.isArray(c)?(e=c[0],f=c[1],h=document.createElement(e),f&&$(h).attr(f)):h=c,h.innerHTML=d,h):d},subviews:function(a){e.replacePlaceholders(a)}}}),
define("lib/customization",["require","exports","module","config","vendor/color/color"],function(a,b,c){function m(a){var b=a.hue(n(a));return a.diff(b.hex()).brightness<h&&b.darken(5),b}function n(a){var b=a.toHsl();return(b.h<=180?"-":"+")+(b.l>=25&&b.l<=75?"12":"24")}var d=a("config"),e=a("vendor/color/color"),f="#FFFFFF",g="#333333",h=20,i=10,j=15,k,l=c.exports={getColorParams:function(){if(!k){var a=e(d.get("widgetParams").color);k={mainColor:a.hex(),mainContrastColor:a.contrast(f,g).hex(),mainColorShade:m(a).hex(),mainColorDarker:a.darken(i).hex(),mainColorLighter:a.lighten(j).hex()}}return k}}}),
define("lib/mixin",["require","exports","module","_"],function(a,b,c){function g(a,b){this.applyTo=function(c){a.applyTo(c,b)}}var d=a("_"),e=["before","after","around","requires","override","defaults","applyTo"],f=c.exports=Class.extend({initialize:function(a){this.properties=a},withOptions:function(a){return new g(this,a)},applyTo:function(a){var b=this.properties;this.requires(a,b.requires),this.extend(a,b),this.defaults(a,b.defaults),this.override(a,b.override),this.before(a,b.before),this.after(a,b.after),this.around(a,b.around),b.applyTo&&b.applyTo.apply(this,arguments)},before:function(a,b){d.each(b,function(b,c){var e=a[c];a[c]=function(){return b.apply(this,arguments),e.apply(this,arguments)}})},after:function(a,b){d.each(b,function(b,c){var e=a[c];a[c]=function(){var a=e.apply(this,arguments);return b.apply(this,arguments),a}})},around:function(a,b){d.each(b,function(b,c){var e=a[c],f=Array.prototype.slice;a[c]=function(){var a=f.apply(arguments);return a.unshift(e.bind(this)),b.apply(this,a)}})},override:function(a,b){d.extend(a,b)},defaults:function(a,b){d.each(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})},extend:function(a,b){d.each(b,function(b,c){e.indexOf(c)<0&&(a[c]=b)})},requires:function(a,b){}});g.prototype=f.prototype}),
define("lib/single",["require","exports","module","_","backbone","lib/gc-store"],function(a,b,c){var d=a("_"),e=a("backbone"),f=a("lib/gc-store"),g=$.noop,h=0,i=6e4,j;c.exports={applyTo:function k(a,b){b=d.extend({neverRelease:!1,cleanupInstantly:!1,hashFn:function(){return null},prepareArgs:function(){return arguments},prepareInstance:function(){return this},getIncrementValue:function(){return 1},onHold:g,onRelease:g,onCleanup:null,GC_INTERVAL:i},b,a),delete b.prototype;var c,l=a.extend||e.Model.extend,m=b.neverRelease,n,o,p,q,r,s;return c=new f({autoCleanup:b.cleanupInstantly,onCleanup:b.onCleanup,onIncrement:b.onHold,onDecrement:b.onRelease}),m?p=q=r=g:(r=function(){c.cleanup(),o=c.length?setTimeout(r,b.GC_INTERVAL):null},p=function(a){c.increment(this.resource_id,a)},q=function(a){c.decrement(this.resource_id,a)}),s={hold:p,release:q,_usageCount:function(){return c.countFor(this.resource_id)},constructor:function(){var d=n.prepareArgs.apply(this,arguments),e=n.hashFn.apply(this,d)||"f-"+ ++h,f=n.neverRelease?1:n.getIncrementValue.apply(null,d),g=c.get(e);if(g)return this.constructor.neverRelease||g.hold(f),n.prepareInstance.apply(g,d),g;g=this,!o&&!n.cleanupInstantly&&(o=setTimeout(r,b.GC_INTERVAL)),c.set(e,g),g.constructor.neverRelease||g.hold(f-1),g.resource_id=e,j(a).apply(g,d),n.prepareInstance.apply(g,d)}},n=l.call(a,s,b),d.extend(n,{__constructor__:j(a),reset:function(){c.reset(),o&&(clearTimeout(o),o=null)},extend:function(b){var c,e;return b=b||{},d.isArray(b)&&(b=d.extend.apply(null,[{}].concat(b))),b.hasOwnProperty("constructor")||(b.constructor=j(a)),c=l.apply(n,arguments),c.extend=l,e=k(c,n),e.__super__&&(e.__super__=e.__super__.constructor.__super__),e},instances:function(){return c.add=function(a){var b=n.hashFn(a.attributes);a.resource_id=b,b&&this.set(b,a)},c}(),getNewInstance:function(){function d(){return j(a).apply(this,b)}var b=arguments,c;return d.prototype=n.prototype,c=new d,c}})}},j=function(a){return a.__constructor__||a}}),
define("lib/mixins/has-visuals",["require","exports","module","_","lib/circuit-breaker","config","lib/mixin","lib/url","collections/sound-visuals"],function(a,b,c){function m(a){return a&&a.attrs&&a.attrs.indexOf("visuals")>-1}function n(a){var b=a&&a.attrs;return!b||b.length>1||b[0]!=="visuals"}function o(){var a=h.stringify({path:"/visuals",query:{urn:this.getUrn()}},f.get("visualsHost"));return a}var d=a("_"),e=a("lib/circuit-breaker"),f=a("config"),g=a("lib/mixin"),h=a("lib/url"),i=a("collections/sound-visuals"),j=5e3,k,l=c.exports=new g({_lastVisualsFetch:null,around:{fetch:function(a,b){var c,f,g;return k||(k=new e({giveUp:1})),g=[],n(b)&&g.push(a(b)),m(b)&&(!this._lastVisualsFetch&&this.get("visuals")==null?(this._lastVisualsFetch=f=$.Deferred(),k.enabled?$.ajax({dataType:"json",url:o.call(this),timeout:j}).done(function(a){var b=a.visuals||this.get("visuals")||{},c;b&&this.resource_type==="sound"&&(c=new i(d.map(b,function(a){if(a.entry_time!=null)return a.id=a.entry_time,a}).filter(d.identity),{resource_id:this.resource_id}),c.lastFetchTime=Date.now(),c.release()),this.set("tracking",a.tracking||{}),this.set("visuals",b)}.bind(this)).always(function(a,b,c){c==="timeout"&&k.failed(),this.set("visuals",this.get("visuals")),f.resolve()}.bind(this)):(this.set("visuals",this.get("visuals")),f.resolve())):f=this._lastVisualsFetch,f&&g.push(f)),c=$.Deferred(),$.whenAll(g).done(function(a){c.resolve.apply(null,a)}).fail(c.reject),c}},hasVisuals:function(){return!d.isEmpty(this.get("visuals"))}})}),
define("lib/widget-audio",["require","exports","module","lib/audiomanager","lib/browser","lib/event-bus","vendor/event-logger/event-logger","vendor/scaudio/scaudio"],function(a,b,c){function l(a,b,c){var d=m.call(this,b,a);d.forEach(function(b){var d={sound:a,model:a,controller:this.controller,args:c};f.trigger("audio:"+b,d),a.trigger(b,d)},this);switch(b){case j.STREAMS:case j.NO_STREAMS:a.set("playable",!!this.streamInfo);break;case j.NO_PROTOCOL:case j.FLASH_NOT_LOADED:case j.AUDIO_ERROR:a.set("playable",!1);break;case j.REGISTERED:a.set("playback_count",a.get("playback_count")+1)}}function m(a,b){var c="";switch(a){case j.PLAY:c="play-intent";break;case j.PLAY_START:c="play";break;case j.PAUSE:c="pause";break;case j.FINISH:c="finish";break;case j.SEEKED:c="seeked";break;case j.FLASH_BLOCK:c="flash-block";break;case j.FLASH_UNBLOCK:c="flash-unblock";break;case j.TIME:c="time",this.progressEvents.length&&b.progress()>=this.progressEvents[0].value&&(c+=" "+this.progressEvents.shift().name)}return c?c.split(" "):[]}var d=a("lib/audiomanager"),e=a("lib/browser"),f=a("lib/event-bus"),g=a("vendor/event-logger/event-logger"),h=a("vendor/scaudio/scaudio"),i=[{name:"progress-10",value:.1},{name:"progress-95",value:.95}],j=h.Events,k=c.exports=h.extend({constructor:function(a){h.prototype.constructor.call(this,d,{soundId:a.id,duration:a.duration.bind(a),registerEndpoint:a.registerUrl.bind(a),streamUrlsEndpoint:a.streamsUrl.bind(a),asyncFetch:!e.isMobile,protocols:[h.Protocols.HLS,h.Protocols.RTMP,h.Protocols.HTTP],debug:!1}),this.progressEvents=i.slice(),this.on("all",l.bind(this,a),this)},logAudioPerformance:function(a){g.audioPerformance(a)}})}),
define("vendor/handlebars-runtime",["require","exports","module"],function(a,b,c){var d={};c.exports=d,d.VERSION="1.0.beta.5",d.helpers={},d.partials={},d.registerHelper=function(a,b,c){c&&(b.not=c),this.helpers[a]=b},d.registerPartial=function(a,b){this.partials[a]=b},d.registerHelper("helperMissing",function(a){if(arguments.length===2)return undefined;throw new Error("Could not find property '"+a+"'")});var e=Object.prototype.toString,f="[object Function]";d.registerHelper("blockHelperMissing",function(a,b){var c=b.inverse||function(){},d=b.fn,g="",h=e.call(a);h===f&&(a=a.call(this));if(a===!0)return d(this);if(a===!1||a==null)return c(this);if(h==="[object Array]"){if(a.length>0)for(var i=0,j=a.length;i<j;i++)g+=d(a[i]);else g=c(this);return g}return d(a)}),d.registerHelper("each",function(a,b){var c=b.fn,d=b.inverse,e="";if(a&&a.length>0)for(var f=0,g=a.length;f<g;f++)e+=c(a[f]);else e=d(this);return e}),d.registerHelper("if",function(a,b){var c=e.call(a);return c===f&&(a=a.call(this)),!a||d.Utils.isEmpty(a)?b.inverse(this):b.fn(this)}),d.registerHelper("unless",function(a,b){var c=b.fn,e=b.inverse;return b.fn=e,b.inverse=c,d.helpers["if"].call(this,a,b)}),d.registerHelper("with",function(a,b){return b.fn(a)}),d.registerHelper("log",function(a){d.log(a)}),d.Exception=function(a){var b=Error.prototype.constructor.apply(this,arguments);for(var c in b)b.hasOwnProperty(c)&&(this[c]=b[c]);this.message=b.message},d.Exception.prototype=new Error,d.SafeString=function(a){this.string=a},d.SafeString.prototype.toString=function(){return this.string.toString()},function(){var a={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},b=/&(?!\w+;)|[<>"'`]/g,c=/[&<>"'`]/,e=function(b){return a[b]||"&amp;"};d.Utils={escapeExpression:function(a){return a instanceof d.SafeString?a.toString():a==null||a===!1?"":c.test(a)?a.replace(b,e):a},isEmpty:function(a){return typeof a=="undefined"?!0:a===null?!0:a===!1?!0:Object.prototype.toString.call(a)==="[object Array]"&&a.length===0?!0:!1}}}(),d.VM={template:function(a){var b={escapeExpression:d.Utils.escapeExpression,invokePartial:d.VM.invokePartial,programs:[],program:function(a,b,c){var e=this.programs[a];return c?d.VM.program(b,c):e?e:(e=this.programs[a]=d.VM.program(b),e)},programWithDepth:d.VM.programWithDepth,noop:d.VM.noop};return function(c,e){return e=e||{},a.call(b,d,c,e.helpers,e.partials,e.data)}},programWithDepth:function(a,b,c){var d=Array.prototype.slice.call(arguments,2);return function(c,e){return e=e||{},a.apply(this,[c,e.data||b].concat(d))}},program:function(a,b){return function(c,d){return d=d||{},a(c,d.data||b)}},noop:function(){return""},invokePartial:function(a,b,c,e,f,g){var h={helpers:e,partials:f,data:g};if(a===undefined)throw new d.Exception("The partial "+b+" could not be found");if(a instanceof Function)return a(c,h);if(!d.compile)throw new d.Exception("The partial "+b+" could not be compiled when running in runtime-only mode");return f[b]=d.compile(a),f[b](c,h)}},d.template=d.VM.template}),
define("vendor/i18n/lib/datetime",["require","exports","module"],function(a,b,c){function m(a,b){this.serverOffset=0,this.numberHelper=b}function n(a,b){switch(b){case"day":a.setUTCHours(0,0,0,0);break;case"hour":a.setUTCMinutes(0,0,0)}}function o(a){return("0"+a).substr(-2)}c.exports=m;var d=1e3,e=6e4,f=60*e,g=24*f,h={millisecond:1,sec:1e3,min:60,hour:60,day:24,month:30,year:12},i=["January","February","March","April","May","June","July","August","September","October","November","December"],j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l={minute:e,hour:f,day:g};m.prototype.toRelativeTime=function(a,b,c){if(a instanceof Date){c=c||Date.now();var d=c-a,e=d>0,f,g=null;b=b&&parseInt(b,10)||1e3,d=Math.abs(d);if(d<=b)return e?"Just now":"Right now";for(f in h)if(h.hasOwnProperty(f)){if(d<h[f])break;g=f,d/=h[f]}return d=Math.floor(d),d!==1&&(g+="s"),[e?"":"In",d,g].filter(Boolean).join(" ")}throw new Error("toRelativeTime method expects first argument to be Date")},m.prototype.format=function(a,b){var c,d,e,f,g;if(!(a instanceof Date))throw new Error("format method expects first argument to be Date");if(b==="relative")return this.toRelativeTime(a);c=a.getDate(),d=a.getDay(),e=a.getMonth(),f=a.getFullYear(),g=o(a.getMinutes());switch(b){case"iso":return f+"-"+o(e+1)+"-"+o(c);case"readable":return c+" "+i[e]+" "+f;case"readable_time":return[c,i[e],f,[a.getHours(),g].join(":")].join(" ");case"readable_abbreviated":return j[e]+" "+c+", "+f;case"readable_with_weekday":return k[d]+", "+[c,i[e],f].join(" ");default:return c+"/"+(e+1)+"/"+f}},m.prototype.fromString=function(a){var b=Date.parse(a);return b?new Date(b):new Date(a)},m.prototype.setServerTime=function(a){var b,c;return b=typeof a=="number"?new Date(a):m.prototype.fromString(a),c=b-Date.now(),Math.abs(c)>7*g?!1:(this.serverOffset=c,!0)},m.prototype.nowAtServer=function(){return Date.now()+this.serverOffset},m.prototype.timecode=function(a,b){if(isNaN(a))return a;var c=[],g=Math.floor(a/f),h=Math.floor(a/e%60),i=Math.floor(a/d%60);return b&&b.inWords?(g>0&&c.push(g,g===1?"hour":"hours"),h>0&&c.push(h,h===1?"minute":"minutes"),(i>0||h===0&&g===0)&&c.push(i,i===1?"second":"seconds"),c.join(" ")):(g>0&&c.push(g),b&&b.minimal&&g===0&&h===0?c.push(""):c.push(h<10&&g>0?"0"+h:h),c.push(i<10?"0"+i:i),c.join(":"))},m.prototype.stringToTime=function(a){var b=/^\d+(\.\d+)?$/g,c=/^(?:npt:)?(?:(?:(\d+):)?(\d\d?):)?(\d\d?)(\.\d+)?$/,d=/^(?:(\d\d?)[hH])?(?:(\d\d?)[mM])?(\d\d?)[sS]$/,e;return b.test(a)?parseFloat(a)*1e3:(e=c.exec(a)||d.exec(a),e?(3600*(parseInt(e[1],10)||0)+60*(parseInt(e[2],10)||0)+parseInt(e[3],10)+(parseFloat(e[4])||0))*1e3:0)},m.prototype.convert=function(a,b,c){c=c||"s";var d="smh",e=d.indexOf(b),f=d.indexOf(c);if(e===-1||f===-1)throw new Error('Units must be expressed as either "h", "m" or "s"');return Math.round(Math.pow(60,f-e)*a)},m.prototype.floorTo30Minutes=function(a){return a=new Date(a),a.setMinutes(a.getMinutes()-a.getMinutes()%30),a},m.prototype.parseTime=function(a){var b=a.match(/^\s*(\d{1,2})\s*(?::\s*(\d{1,2}))?\s*(?:(a|p)m?)?\s*$/i),c,d,e;if(!b)return;c=b[1]&&parseInt(b[1],10),d=b[2]&&parseInt(b[2],10),e=b[3]&&b[3].toLowerCase();if(c>23||d>59)return;if(e)if(e==="p"){if(c<12)c+=12;else if(c>13)return}else if(e==="a")if(c===12)c=0;else if(c>12)return;return d||(d=0),[c,d]},m.prototype.formatTime=function(a){return this.numberHelper.zeroPad(a.getHours(),2)+":"+this.numberHelper.zeroPad(a.getMinutes(),2)},m.prototype.getTimezoneOffset=function(){var a=new Date(2009,0,1,6,0,0),b=new Date(2009,6,1,6,0,0),c;return c=a.getUTCHours()>b.getUTCHours()?a.getTimezoneOffset():b.getTimezoneOffset(),c},m.prototype.time=l,m.prototype.getBounds=function(a){if(a.offset==null)return{};var b=new Date,c,d;return n(b,a.resolution),c=+(new Date(+b+a.offset*l[a.resolution])),d=+(new Date(c+(a.duration-1)*l[a.resolution])),{from:c,to:d}}}),
define("vendor/i18n/lib/number",["require","exports","module"],function(a,b,c){function d(){this.serverOffset=0}c.exports=d,d.prototype.format=function(a){return typeof a!="number"&&(a=parseInt(a,10)),a!==a?"":a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},d.prototype.round=function(a,b){var c=Math.pow(10,b||0);return Math.round(a*c)/c},d.prototype.zeroPad=function(a,b){if(a==null)return a;a+="";var c=b-a.length;return c>0&&(a=(new Array(c+1)).join("0")+a),a}}),
define("lib/augment/augment-localStorage",["require","exports","module"],function(a,b,c){(function(a){var d={},e={};d.length=0,d.getItem=function(a){return e[a]||null},d.setItem=function(a,b){typeof b=="undefined"?d.removeItem(a):(e[a]=""+b,d.length++)},d.removeItem=function(a){delete e[a],d.length--},d.key=function(a){return Object.keys(e)[a]||null},d.clear=function(){e={},d.length=0},typeof b=="object"?c.exports=d:a.localStorageMemory=d})(this)}),
define("vendor/embed/embed",["require","exports","module"],function(a,b,c){(function(){var a,b,d,e,f,g,h,i;a={html5:{allowed_params:["url","auto_play","color","show_artwork"],supported_types:["track","playlist","group","user","app"],root_url:"https://w.soundcloud.com/player/",template:'<iframe width="100%" height="{height}" scrolling="no" frameborder="no" src="{src}"></iframe>',height:{single:166,multi:450}},flash:{allowed_params:["url","auto_play","color","show_artwork","show_comments","show_playcount"],supported_types:["track","playlist","group","user"],root_url:"https://player.soundcloud.com/player.swf",template:'<object height="{height}" width="100%"><param name="movie" value="{src}"></param><param name="allowscriptaccess" value="always"></param><embed allowscriptaccess="always" src="{src}" type="application/x-shockwave-flash" width="100%" height="{height}"></embed></object>',height:{single:81,multi:165}},mini:{allowed_params:["url","auto_play","color","player_type","font"],supported_types:["track","playlist","group","user"],root_url:"https://player.soundcloud.com/player.swf",template:'<object height="18" width="100%"><param name="movie" value="{src}"></param><param name="allowscriptaccess" value="always"></param><param name="wmode" value="transparent"></param><embed wmode="transparent" allowscriptaccess="always" height="18" width="100%" src="{src}"></embed></object>',height:{single:18,multi:18}},artwork:{allowed_params:["url","auto_play","color","player_type"],supported_types:["track","playlist","group","user"],root_url:"https://player.soundcloud.com/player.swf",template:'<object height="{height}" width="{height}"><param name="movie" value="{src}"></param><param name="allowscriptaccess" value="always"></param><embed allowscriptaccess="always" width="{height}" height="{height}" src="{src}" type="application/x-shockwave-flash"></embed></object>',height:{single:300,multi:300}}},h={track:'<span><a href="{resource_url}">{resource_title}</a> by <a href="{user_url}">{user_name}</a></span>',playlist:'<span><a href="{resource_url}">{resource_title}</a> by <a href="{user_url}">{user_name}</a></span>',user:'<span>Latest sounds by <a href="{resource_url}">{resource_title}</a></span>',group:'<span><a href="{resource_url}">{resource_title}</a></span>'},b=function(a){return[].slice.call(arguments,1).forEach(function(b){if(b)for(var c in b)a[c]=b[c]}),a},g={render:function(a,b){var c=/\{([^\{\}]*)\}/g;return b.replace(c,function(b,c){var d=a[c];return typeof d=="string"||typeof d=="number"?d:b})},html:function(b,c){var d=a[c.type].template,e=c.text?h[b.resource_type]||"":"";return this.render(b,d)+this.render(b,e)},wordpress:function(a,b){var c=b.type==="html5",d=a.api_url,e=i(b.params,b.type).replace(/&amp;/g,"&"),f=b.type==="artwork"?a.height:"100%";return'[soundcloud url="'+d+'"'+(e.length?' params="'+e+'"':"")+' width="'+f+'" height="'+a.height+'" iframe="'+c+'" /]'}},e=function(c,e){var h={type:"html5",format:"html",text:!1},j=d(c),k,l;e=b(h,e),e.params=b({},e.params),l=a[e.type];if(l.supported_types.indexOf(c.kind)===-1)return!1;if(e.type==="artwork"||e.type==="mini")e.params.player_type=e.type.replace("mini","tiny");e.type==="flash"&&(e.text=!0),k={user_name:c.user?c.user.username:null,user_url:c.user?c.user.permalink_url.replace(/^http:/,"https:"):null,resource_title:c.title||c.name||c.username,resource_url:c.permalink_url.replace(/^http:/,"https:"),resource_type:c.kind,api_url:j,height:f(c,e,l),params:e.params,src:[l.root_url,"?",i(b({url:j},e.params),e.type)].join("")};if(g[e.format])return g[e.format](k,e)},d=function(a){var b=a.secret_uri||a.uri,c=a.sharing==="public";return c&&(b=b.replace(/\?secret_token=([^&]*)/,"")),b.replace(/^http:/,"https:")},i=function(b,c){var d,e,f,g,h,i,j=[];if(b)for(d in b)if(b.hasOwnProperty(d)&&a[c].allowed_params.indexOf(d)!==-1){g=b[d];if(g!==null&&g!==h)if(typeof g=="object"){f=g.length;for(e=0;e<f;++e)j.push(encodeURIComponent(d)+"="+encodeURIComponent(g[e]).replace(/%2F/g,"/"))}else j.push(encodeURIComponent(d)+"="+encodeURIComponent(g).replace(/%2F/g,"/"))}return j.join("&amp;")},f=function(a,b,c){return b.height?b.height:a.kind==="track"?c.height.single:c.height.multi},typeof c!="undefined"&&c.exports?c.exports=e:(window.SC=window.SC||{},window.SC.getEmbedCode=e)})()}),
define("lib/helpers/datetime-helper",["require","exports","module"],function(a,b,c){var d=1e3,e=60*d,f=60*e,g=c.exports={timecode:function(a){var b,c;return isNaN(a)?a:(b=[],c={h:Math.floor(a/f),m:Math.floor(a/e%60),s:Math.floor(a/d%60)},c.h>0&&b.push(c.h),b.push(c.m<10&&c.h>0?"0"+c.m:c.m,c.s<10?"0"+c.s:c.s),b.join(":"))}}}),
define("lib/mixins/can-be-empty",["require","exports","module","lib/mixin"],function(a,b,c){function f(a){$.mockjax({url:a+"*",responseTime:0,responseText:'{"collection":[]}'})}var d=a("lib/mixin"),e=c.exports=new d({applyTo:function(a,b){this.around(a,{baseUrl:function(a){var c=a();return b=b||"__NO_SOUNDS__",c}})}})}),
define("vendor/includes/comscore",["require","exports","module","lib/helpers/dom-helper"],function(a,b,c){var d,e=a("lib/helpers/dom-helper");d=c.exports={include:function(){var a=window._comscore=window._comscore||[];a.push({c1:"7",c2:"16601931",c3:"43164"}),e.insertScript("https://sb.scorecardresearch.com/beacon.js")}}}),
define("vendor/includes/google-analytics",["require","exports","module","lib/helpers/dom-helper"],function(a,b,c){var d,e=a("lib/helpers/dom-helper");d=c.exports={include:function(){var a=window._gaq=window._gaq||[];a.push(["_setAccount","UA-2519404-20"],["_gat._anonymizeIp"],["_trackPageview"]),e.insertScript("https://ssl.google-analytics.com/ga.js")}}}),
define("lib/subview-plugin",["require","exports","module","_"],function(a,b,c){function g(b,c){var d=b.getAttribute("data-id"),f=e[d],g,h,i;f.__path?(h=a(f.__path),delete f.__path):(h=f.__class,delete f.__class),delete e[d],f.key&&(i=f.key,delete f.key),g=c.addSubview(new h(f),i),g.render(),b.parentNode.replaceChild(g.el,b)}function h(b,c){var g,h;return typeof b=="string"?(c.hash.__path=b,h=a(b)):(c.hash.__class=b,h=b),c.hash.args&&(d.isFunction(c.hash.args)&&(c.hash.args=c.hash.args(this)),c.hash=d.extend({},c.hash.args,c.hash)),delete c.hash.args,c.hash.className&&(c.hash.className=[h.prototype.className,c.hash.className].filter(Boolean).join(" ")),g=f++,e[g]=c.hash,'<view data-id="'+g+'"></view>'}function i(a){a.$("view").each(function(){g(this,a)})}var d=a("_"),e={},f=0;b.handlebarHelper=h,b.replacePlaceholders=i}),
define("lib/template-helpers",["require","exports","module","lib/helpers/a11y-helper","vendor/handlebars-runtime","lib/helpers/number-helper","lib/helpers/image-helper","lib/helpers/i18n-helper","lib/lingua","lib/subview-plugin","vendor/usertext/usertext"],function(a,b,c){function m(a,b,c,d){return i.tp(b,c,a,d.hash,d.hash._comment)}function n(a,b){return i.tp(h.cleanBlockText(b.fn()),h.cleanBlockText(b.inverse()),a,b.hash,b.hash._comment)}function o(a,b){return i.t(a,b.hash,b.hash._comment)}function p(a){return i.t(h.cleanBlockText(a.fn()),a.hash,a.hash._comment)}var d=a("lib/helpers/a11y-helper"),e=a("vendor/handlebars-runtime"),f=a("lib/helpers/number-helper"),g=a("lib/helpers/image-helper"),h=a("lib/helpers/i18n-helper"),i=a("lib/lingua"),j=a("lib/subview-plugin"),k=a("vendor/usertext/usertext"),l=c.exports={$a11y:function(a){return new e.SafeString(d.getAccessibleMarkup(a.hash))},$debug:function(){return window.console.log.apply(window.console,[].slice.call(arguments,0,arguments.length-1)),""},$image:function(a,b){return new e.SafeString(g.markup(a,b.hash))},$view:function(){return new e.SafeString(j.handlebarHelper.apply(this,arguments))},$shortnumber:f.shorten,$formatnumber:f.format,$usertextOneline:function(){var a=k.withDefaults({paragraphs:!1,whitelist:[],externalLinks:!1});return function(b,c){if(c.hash.escapeExpression===undefined||c.hash.escapeExpression)b=e.Utils.escapeExpression(b);return new e.SafeString(a(b,c.hash))}}(),$t:function(){var a=arguments.length;if(a===2)return o.apply(this,arguments);if(a===1)return p.apply(this,arguments);throw new Error("Invalid signature to t helper, expected 1 or 2 arguments, got "+a)},$tp:function(){var a=arguments.length;if(a===4)return m.apply(null,arguments);if(a===2)return n.apply(null,arguments);throw new Error("Invalid signature to tp helper, expected 4 or 2 arguments, got: "+a)}}}),
define("lib/gc-store",["require","exports","module","lib/store","lib/mixins/usage-counting"],function(a,b,c){var d=a("lib/store"),e=a("lib/mixins/usage-counting"),f=c.exports=d.extend();e.applyTo(f.prototype)}),
define("collections/sound-visuals",["require","exports","module","_","lib/collection","config","models/sound-visual","lib/url","lib/helpers/urn-helper"],function(a,b,c){var d=a("_"),e=a("lib/collection"),f=a("config"),g=a("models/sound-visual"),h=a("lib/url"),i=a("lib/helpers/urn-helper"),j=1e3,k=c.exports=e.extend({model:g,_isLooping:!1,_loopInterval:null,baseUrl:function(){return h.stringify({path:"/visuals",query:{urn:"soundcloud:sounds:"+this.resource_id}},f.get("visualsHost"))},isLooping:function(){return this._isLooping},getLoopInterval:function(){return this._loopInterval},parse:function(a){var b=a&&a.visuals;return b?(b=d.map(b,function(a){return a.id=i.getAsAttributes(a.urn).id,a.filename=a.visual_url.split("/").pop(),a}),a.is_looping&&a.loop_interval&&(this._isLooping=!0,this._loopInterval=Math.max(j,a.loop_interval)),b):this.toJSON()}})}),
define("lib/audiomanager",["require","exports","module","lib/browser","config","vendor/audiomanager/audiomanager","lib/event-bus"],function(a,b,c){function j(a){var b=a.controller,c=$(b.getContainerElement()),g=$(".playButton"),h=g.offset(),i=b.getState()===d.States.ERROR;if(e.isGecko){f.get("appView").$el.append(c),c.toggleClass("fullscreen",i);return}c.toggleClass("blocked",i).css({top:i?h.top:0,left:i?h.left:0})}var d,e=a("lib/browser"),f=a("config"),g=a("vendor/audiomanager/audiomanager"),h=a("lib/event-bus"),i=1e3/60;c.exports=d=new g({flashAudioPath:"/player/assets/swf/flashAudio-e3e74daf.swf",flashObjectID:"flashAudioObject",flashLoadTimeout:500,updateInterval:i,debug:!1}),d.Errors=g.Errors,d.States=g.States,d.UPDATE_INTERVAL=i,h.one("audio:flash-block audio:flash-unblock",j)}),
define("vendor/scaudio/scaudio",["require","exports","module"],function(a,b,c){(function(a,b){typeof c!="undefined"&&c.exports?c.exports=b():a.SCAudio=b()})(this,function(){var a,b,c;return function(d){function p(a,b){return m.call(a,b)}function q(a,b){var c,d,e,f,g,h,i,j,l,m,n,p=b&&b.split("/"),q=k.map,r=q&&q["*"]||{};if(a&&a.charAt(0)===".")if(b){p=p.slice(0,p.length-1),a=a.split("/"),g=a.length-1,k.nodeIdCompat&&o.test(a[g])&&(a[g]=a[g].replace(o,"")),a=p.concat(a);for(l=0;l<a.length;l+=1){n=a[l];if(n===".")a.splice(l,1),l-=1;else if(n==="..")if(l!==1||a[2]!==".."&&a[0]!=="..")l>0&&(a.splice(l-1,2),l-=2);else break}a=a.join("/")}else a.indexOf("./")===0&&(a=a.substring(2));if((p||r)&&q){c=a.split("/");for(l=c.length;l>0;l-=1){d=c.slice(0,l).join("/");if(p)for(m=p.length;m>0;m-=1){e=q[p.slice(0,m).join("/")];if(e){e=e[d];if(e){f=e,h=l;break}}}if(f)break;!i&&r&&r[d]&&(i=r[d],j=l)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function r(a,b){return function(){return f.apply(d,n.call(arguments,0).concat([a,b]))}}function s(a){return function(b){return q(b,a)}}function t(a){return function(b){i[a]=b}}function u(a){if(p(j,a)){var b=j[a];delete j[a],l[a]=!0,e.apply(d,b)}if(!p(i,a)&&!p(l,a))throw new Error("No "+a);return i[a]}function v(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function w(a){return function(){return k&&k.config&&k.config[a]||{}}}var e,f,g,h,i={},j={},k={},l={},m=Object.prototype.hasOwnProperty,n=[].slice,o=/\.js$/;g=function(a,b){var c,d=v(a),e=d[0];return a=d[1],e&&(e=q(e,b),c=u(e)),e?c&&c.normalize?a=c.normalize(a,s(b)):a=q(a,b):(a=q(a,b),d=v(a),e=d[0],a=d[1],e&&(c=u(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},h={require:function(a){return r(a)},exports:function(a){var b=i[a];return typeof b!="undefined"?b:i[a]={}},module:function(a){return{id:a,uri:"",exports:i[a],config:w(a)}}},e=function(a,b,c,e){var f,k,m,n,o,q=[],s=typeof c,v;e=e||a;if(s==="undefined"||s==="function"){b=!b.length&&c.length?["require","exports","module"]:b;for(o=0;o<b.length;o+=1){n=g(b[o],e),k=n.f;if(k==="require")q[o]=h.require(a);else if(k==="exports")q[o]=h.exports(a),v=!0;else if(k==="module")f=q[o]=h.module(a);else if(p(i,k)||p(j,k)||p(l,k))q[o]=u(k);else if(n.p)n.p.load(n.n,r(e,!0),t(k),{}),q[o]=i[k];else throw new Error(a+" missing "+k)}m=c?c.apply(i[a],q):undefined;if(a)if(f&&f.exports!==d&&f.exports!==i[a])i[a]=f.exports;else if(m!==d||!v)i[a]=m}else a&&(i[a]=c)},a=b=f=function(a,b,c,i,j){if(typeof a=="string")return h[a]?h[a](b):u(g(a,b).f);if(!a.splice){k=a,k.deps&&f(k.deps,k.callback);if(!b)return;b.splice?(a=b,b=c,c=null):a=d}return b=b||function(){},typeof c=="function"&&(c=i,i=j),i?e(d,a,b,c):setTimeout(function(){e(d,a,b,c)},4),f},f.config=function(a){return f(a)},a._defined=i,c=function(a,b,c){b.splice||(c=b,b=[]),!p(i,a)&&!p(j,a)&&(j[a]=[a,b,c])},c.amd={jQuery:!0}}(),c("../vendor/almond/almond",function(){}),c("browser",["require","exports","module"],function(a,b,c){function f(a){return a.test(window.navigator.userAgent.toLowerCase())}function g(){return!i()&&f(/safari/)}function h(){return g()&&f(/version\/7\.1/)}function i(){return f(/chrome/)}function j(){return f(/firefox/)}function k(){try{return window.hasOwnProperty("Audio")&&!!(new window.Audio).canPlayType("audio/mpeg")}catch(a){return!1}}function l(){try{var a=g()&&f(/version\/5\.0/),b=window.hasOwnProperty("Audio")&&(!!(new window.Audio).canPlayType('audio/x-mpegURL; codecs="mp3"')||!!(new window.Audio).canPlayType('vnd.apple.mpegURL; codecs="mp3"'));return!a&&b}catch(c){return!1}}function m(){return o(n())>=e}function n(){var a,b,c,d;if(typeof window.ActiveXObject!="undefined")try{d=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),d&&(a=d.GetVariable("$version"))}catch(e){}else window.navigator&&window.navigator.plugins&&window.navigator.plugins.length>0&&(c="application/x-shockwave-flash",b=window.navigator.mimeTypes,b&&b[c]&&b[c].enabledPlugin&&b[c].enabledPlugin.description&&(a=b[c].enabledPlugin.description));return a}function o(a){if(!a)return 0;var b=a.match(/\d\S+/)[0].replace(/,/g,".").split(".");return parseFloat([b[0],b[1]].join("."))||0}var d,e=9;d=c.exports={isSafari:g,isSafari71:h,isChrome:i,isFirefox:j,supportsHLSAudio:l,supportsHTML5Audio:k,supportsFlash:m}}),c("utils",["require","exports","module"],function(a,b,c){var d=c.exports={extend:function(a){var b=Array.prototype.slice.call(arguments,1);return b.forEach(function(b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}),a},each:function(a,b,c){Object.keys(a).forEach(function(d){b.call(c||null,a[d],d)})},find:function(a,b,c){var d;return a.some(function(a){if(b.call(c,a))return d=a,!0}),d},has:function(a,b){return Object.keys(a).indexOf(b)>-1},inherits:function(a,b){var c=this,e;a&&d.has(a,"constructor")?e=a.constructor:e=function(){return c.apply(this,arguments)},d.extend(e,c,b);var f=function(){this.constructor=e};return f.prototype=c.prototype,e.prototype=new f,a&&d.extend(e.prototype,a),e.__super__=c.prototype,e},without:function(a,b){var c=a.indexOf(b);c>-1&&a.splice(c,1)},result:function(a){var b=a;return d.isFunction(b)&&(b=a()),b},isFunction:function(a){return typeof a=="function"},after:function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}},isNull:function(a){return a===null}}}),c("protocols",["require","exports","module"],function(a,b,c){var d=c.exports={HTTP:"http",RTMP:"rtmp",HLS:"hls"}}),c("stream-urls",["require","exports","module","protocols","utils"],function(a,b,c){function i(a,b){if(!a)return!1;var c=a.issuedAt+j(a.protocol,a.duration);return k(a.protocol)?Date.now()+a.duration-(b||0)<c:Date.now()<c}function j(a,b){var c=k(a);return h+(c?f.result(b):0)}function k(a){return a===e.HTTP||a===e.HLS}function l(a,b){function q(a,b){return Math.abs(b-d)-Math.abs(a-d)}function r(a){return a*-1}var c={},d=b.maxBitrate,e=b.protocols,g=b.extensions,h,i,j,k,l,m,n,o,p;f.each(a,function(a,b){var d=b.split("_"),e=d[0],f=d[1],g=d[2];c[e]=c[e]||{},c[e][f]=c[e][f]||{},c[e][f][g]=a});for(l=0,m=e.length;l<m;++l){k=e[l];for(o=0,p=g.length;o<p;++o){n=g[o];if(c[k]&&c[k][n])return h=Object.keys(c[k][n]).map(Number).sort(r),i=d===Infinity,j=d===-Infinity,i||j?d=h[i?"pop":"shift"]():d=h.sort(q).pop(),{url:c[k][n][d],bitrate:d,protocol:k,extension:n,issuedAt:Date.now(),duration:f.result(b.duration)}}}return null}var d,e=a("protocols"),f=a("utils"),g=.9,h=Math.floor(12e4*g);d=c.exports={choosePreferredStream:l,streamValidForPlayingFrom:i}}),c("events",["require","exports","module"],function(a,b,c){var d=c.exports={CREATED:"created",STATE_CHANGE:"state-change",DESTROYED:"destroyed",PLAY:"play",PLAY_START:"play-start",PLAY_RESUME:"play-resume",METADATA:"metadata",PAUSE:"pause",FINISH:"finish",RESET:"reset",SEEK:"seek",SEEKED:"seeked",GEO_BLOCKED:"geo_blocked",BUFFERRING_START:"buffering_start",BUFFERRING_END:"buffering_end",FLASH_NOT_LOADED:"flash_not_loaded",FLASH_BLOCK:"flash_blocked",FLASH_UNBLOCK:"flash_unblocked",AUDIO_ERROR:"audio_error",TIME:"time",NO_STREAMS:"no_streams",STREAMS:"streams",NO_PROTOCOL:"no_protocol",NO_CONNECTION:"no_connection",REGISTERED:"registered"}}),c("audio-logger",["require","exports","module","events"],function(a,b,c){function f(a){this.listenTime+=a.from-this.currentTime,this.currentTime=a.to}function g(a){this.listenTime+=a.position-this.currentTime,this.currentTime=a.position}function h(a){this.currentTime=a.position}var d,e=a("events");d=c.exports=function(a){this.scAudio=a,this.listenTime=0,this.currentTime=0,this.scAudio.on(e.SEEK,f,this).on(e.PLAY_START,h,this).on(e.PAUSE,g,this)},d.prototype={constructor:d,getListenTime:function(){return this.listenTime+this.scAudio.currentTime()-this.currentTime}}}),c("observable",["require","exports","module"],function(a,b,c){function e(a,b,c,e){if(!c)return!0;if(typeof c=="object")for(var f in c)c.hasOwnProperty(f)&&a[b].apply(a,[f,c[f]].concat(e));else{if(!d.test(c))return!0;var g=c.split(d);for(var h=0,i=g.length;h<i;h++)a[b].apply(a,[g[h]].concat(e))}}function f(a,b){var c,d=-1,e=a.length;switch(b.length){case 0:while(++d<e)c=a[d],c.callback.call(c.ctx);return;case 1:while(++d<e)(c=a[d]).callback.call(c.ctx,b[0]);return;case 2:while(++d<e)(c=a[d]).callback.call(c.ctx,b[0],b[1]);return;case 3:while(++d<e)(c=a[d]).callback.call(c.ctx,b[0],b[1],b[2]);return;default:while(++d<e)(c=a[d]).callback.apply(c.ctx,b)}}var d=/\s+/;c.exports={on:function(a,b,c){if(!e(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},off:function(a,b,c){var d,f,g,h,i,j,k,l;if(!this._events||!e(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;h=a?[a]:Object.keys(this._events);for(i=0,j=h.length;i<j;i++){a=h[i];if(g=this._events[a]){this._events[a]=d=[];if(b||c)for(k=0,l=g.length;k<l;k++)f=g[k],(b&&b!==f.callback&&b!==f.callback._callback||c&&c!==f.context)&&d.push(f);d.length||delete this._events[a]}}return this},trigger:function(a){if(!this._events)return this;var b=Array.prototype.slice.call(arguments,1);if(!e(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&f(c,b),d&&f(d,arguments),this}}}),c("url",["require","exports","module"],function(a,b,c){var d=c.exports={getUrlParams:function(a){var b={},c=a.indexOf("?");return c>-1&&a.substr(c+1).split("&").forEach(function(a){var c=a.split("=");b[c[0]]=c[1]}),b},getUrlHost:function(a){var b=a.split("//"),c;return b[0]===a?c=b[0].split("/")[0]:c=b[1]?b[1].split("/")[0]:"",c}}}),c("audio-perf-monitor",["require","exports","module","events","observable","url","utils"],function(a,b,c){function i(a){return"AudioPerfMonitor ("+this.scAudio.getId()+") : "+a}function j(){if(!this.scAudio.controller){this.printWarning("Can´t initialize when controller is null");return}if(this.controller){this.printWarning(i.call(this,"Setup was called while it was already initialized (returned with a no-op)"));return}this.scAudio.options.debug&&window.console.info(i.call(this,"Initialized for instance %s"),this.scAudio.getId()),this.controller=this.scAudio.controller,this.protocol=this.scAudio.streamInfo.protocol,this.host=g.getUrlHost(this.scAudio.streamInfo.url)}function k(){if(!this.controller){this.printWarning(i.call(this,"Reset was called while it was already de-initialized (returned with a no-op)"));return}this.scAudio.options.debug&&window.console.info(i.call(this,"Reset for instance %s"),this.scAudio.getId()),this.controller=null,this.protocol=null,this.host=null,this.timeToPlayMeasured=!1}function l(a){var b=this.scAudio.getAudioManagerStates();a===b.LOADING?this.timeToPlayMeasured&&s.call(this):h.isNull(this.bufferingStartTime)||t.call(this)}function m(){this.metadataLoadStartTime=Date.now()}function n(){if(h.isNull(this.metadataLoadStartTime)){this.printWarning(i.call(this,"onMetadataEnd was called without onMetadataStart being called before."));return}this.log({type:"metadata",latency:Date.now()-this.metadataLoadStartTime}),this.metadataLoadStartTime=null}function o(){this.playClickTime=Date.now()}function p(){if(this.timeToPlayMeasured)return;if(h.isNull(this.playClickTime)){this.printWarning(i.call(this,"onPlayResume was called without onPlayStart being called before."));return}this.log({type:"play",latency:Date.now()-this.playClickTime}),this.playClickTime=null,this.timeToPlayMeasured=!0}function q(){if(this.scAudio.isPaused())return;this.seekStartTime=Date.now()}function r(){if(this.scAudio.isPaused())return;if(h.isNull(this.seekStartTime)){this.printWarning(i.call(this,"onSeekEnd was called without onSeekStart being called before."));return}this.log({type:"seek",latency:Date.now()-this.seekStartTime}),this.seekStartTime=null}function s(){if(this.bufferingStartTime)return;this.bufferingStartTime=Date.now()}function t(){if(h.isNull(this.bufferingStartTime)){this.printWarning(i.call(this,"onBufferingEnd was called without onBufferingStart being called before."));return}u.call(this),this.bufferingStartTime=null}function u(){h.isNull(this.bufferingStartTime)||(h.isNull(this.bufferingTimeAccumulated)&&(this.bufferingTimeAccumulated=0),this.bufferingTimeAccumulated+=Date.now()-this.bufferingStartTime)}function v(){u.call(this);if(h.isNull(this.bufferingTimeAccumulated))return;this.log({type:"buffer",latency:this.bufferingTimeAccumulated}),this.bufferingStartTime=this.bufferingTimeAccumulated=null}var d,e=a("events"),f=a("observable"),g=a("url"),h=a("utils");d=c.exports=function(a,b){this.scAudio=a,this.logFn=b,this.controller=null,this.reset(),a.on(e.CREATED,j,this).on(e.RESET,k,this).on(e.DESTROYED,k,this).on(e.SEEK,q,this).on(e.SEEKED,r,this).on(e.PLAY,o,this).on(e.PLAY_START,m,this).on(e.PLAY_RESUME,p,this).on(e.PAUSE,v,this).on(e.FINISH,v,this).on(e.STATE_CHANGE,l,this).on(e.METADATA,n,this)},h.extend(d.prototype,f,{constructor:d,log:function(a){if(!this.controller){this.printWarning(i.call(this,"Monitor log was called while controller is null (returned with a no-op)"));return}h.extend(a,{protocol:this.protocol,host:this.host,playertype:this.controller.getType()}),this.scAudio.options.debug&&window.console.info(i.call(this,"%s latency: %d protocol: %s host: %s playertype: %s"),a.type,a.latency,a.protocol,a.host,a.playertype),this.logFn(a)},reset:function(){this.bufferingStartTime=this.bufferingTimeAccumulated=this.playClickTime=this.seekStartTime=this.metadataLoadStartTime=null,this.timeToPlayMeasured=!1},printWarning:function(a){this.scAudio.options.debug&&window.console.warn(a)}})}),c("extensions",["require","exports","module"],function(a,b,c){var d=c.exports={AAC:"aac",MP3:"mp3",OGG:"ogg",OPUS:"opus",WAV:"wav"}}),c("protocol-selector",["require","exports","module","protocols","browser"],function(a,b,c){function i(a){var b=!1;switch(a){case e.RTMP:b=f.supportsFlash();break;case e.HTTP:b=f.supportsHTML5Audio()||f.supportsFlash();break;case e.HLS:b=(g&&f.isSafari()||!g)&&(f.supportsHLSAudio()||h&&f.supportsFlash())}return b}var d,e=a("protocols"),f=a("browser"),g=!0,h=!1;d=c.exports={isProtocolSupported:i}}),c("scaudio",["require","exports","module","browser","utils","stream-urls","audio-logger","audio-perf-monitor","events","extensions","observable","protocols","protocol-selector"],function(a,b,c){function A(a){var b=this.options,c;return c={id:this.getId(),src:a.url,duration:f.result(b.duration),mimeType:a.mimeType,forceSingle:b.useSinglePlayer},o.createAudioPlayer(c)}function B(a,b){var c=b?"on":"off";a[c]("stateChange",S,this)[c]("positionChange",D,this)[c]("loadedmetadata",C,this)}function C(){this.trigger(j.METADATA)}function D(){this._prevPosition!==this.currentTime()&&(this.trigger(j.TIME),this._prevPosition=this.currentTime())}function E(){this._initAudioDefer&&(this._initAudioDefer.reject(),this._initAudioDefer=null,this.streamInfo=null)}function F(){E.call(this),this.controller&&(this._storedPosition=this.currentTime(),this.controller.kill(),this.controller=null,this.trigger(j.RESET))}function G(){this._registerPlays=!0,this.pause(),this.trigger(j.FINISH)}function H(){var a=$.Deferred();return this.streamInfo?a.resolve(this.streamInfo):I.call(this).done(function(b){var c=g.choosePreferredStream(b,this.options);c?a.resolve(c):(this.trigger(j.NO_PROTOCOL),this.options.debug&&window.console.warn(V("SCAudio (%s): Could not match a protocol of given media descriptor to one of the supported protocols ("+this.options.protocols+"), aborting attempt to play."),this.getId()),a.reject())}.bind(this)).fail(function(b){this.options.debug&&window.console.warn(V("Stream request failed with status: %d"),b.status),J.call(this,b),K.call(this,b),a.reject()}.bind(this)),a}function I(){if(this.options.streamUrls&&!this._usedPrefetchUrls){this._usedPrefetchUrls=!0;var a=typeof this.options.streamUrls=="function"?this.options.streamUrls():this.options.streamUrls;return $.Deferred().resolve(a)}return $.ajax({async:this.options.asyncFetch,dataType:"json",timeout:this.options.asyncFetch?t:s,url:f.result(this.options.streamUrlsEndpoint)})}function J(a){var b=a.status>=400&&(a.responseText||"").indexOf("geo_blocked")!==-1;b&&this.trigger(j.GEO_BLOCKED)}function K(a){a.status===0&&this.trigger(j.NO_CONNECTION)}function L(a){var b=this._initAudioDefer&&this._initAudioDefer.state(),c=g.streamValidForPlayingFrom(this.streamInfo,a);return b&&(b==="pending"||b==="resolved"&&c)}function M(a){a&&!this._bufferingTimeout?this._bufferingTimeout=setTimeout(function(){this._isBuffering=!0,this.trigger(j.BUFFERRING_START)}.bind(this),u):a||(this._bufferingTimeout&&(clearTimeout(this._bufferingTimeout),this._bufferingTimeout=null),this._isBuffering&&(this._isBuffering=!1,this.trigger(j.BUFFERRING_END)))}function N(){this.off(j.TIME,this.seekTimeEventHandler),this.trigger(j.SEEKED),this.seekTimeEventHandler=null}function O(){this._errorRecoveryFlagsResetTimeout=setTimeout(function(){this._errorRecoveryTime=null,this._errorRecoveryCounts=0}.bind(this),y)}function P(){this._errorRecoveryFlagsResetTimeout&&clearTimeout(this._errorRecoveryFlagsResetTimeout)}function Q(){var a,b=Date.now(),c=this.isPlaying(),d=o.Errors,e=function(){P.call(this);if(this._errorRecoveryTime&&this._errorRecoveryTime+w>b&&this._errorRecoveryCounts>x){this.trigger(j.AUDIO_ERROR,this);return}this._errorRecoveryTime=Date.now(),this._errorRecoveryCounts++,F.call(this),c&&this.play({seek:this.currentTime()})};if(!this.controller){this.options.debug&&window.console.error(V("SCAudio: controller is null, aborting error handler ("+this.getId()+")."),this),e.call(this);return}a=this.controller.getErrorID();switch(a){case d.FLASH_PROXY_CANT_LOAD_FLASH:this.trigger(j.FLASH_NOT_LOADED);break;case d.FLASH_PROXY_FLASH_BLOCKED:this.trigger(j.FLASH_BLOCK);break;case d.FLASH_RTMP_CONNECT_FAILED:f.without(this.options.protocols,m.RTMP);case d.FLASH_RTMP_CANNOT_PLAY_STREAM:case d.FLASH_RTMP_CONNECT_CLOSED:case d.HTML5_AUDIO_NETWORK:case d.HTML5_AUDIO_ABORTED:case d.HTML5_AUDIO_DECODE:case d.HTML5_AUDIO_SRC_NOT_SUPPORTED:case d.HTML5_AUDIO_ENDED_EARLY:e.call(this);break;case d.HTML5_AUDIO_OVERRUN:G.call(this);break;default:throw new Error("SCAudio: Unhandled audio error code: "+a)}this.options.debug&&typeof this.controller.getErrorMessage!="undefined"&&window.console.error(V("SCAudio error ("+this.getId+"): "+this.controller.getErrorMessage()),this)}function R(a){this.options.debug&&U.call(this,a);switch(a){case j.PAUSE:this._isPlaying=!1,this._isPlayActionQueued=!1;break;case j.PLAY:this._isPlaying=!1,this._isPlayActionQueued=!0;break;case j.PLAY_START:this._isPlaying=!0,this._isPlayActionQueued=!1,this._registerPlays&&this.registerPlay();break;case j.BUFFERRING_START:case j.SEEK:this._isPlaying&&(this._isPlaying=!1,this._isPlayActionQueued=!0);break;case j.BUFFERRING_END:case j.SEEKED:this._isPlayActionQueued&&(this._isPlaying=!0,this._isPlayActionQueued=!1)}}function S(a){var b=o.States,c=o.Errors;switch(a){case b.IDLE:this._initAudioDefer&&this._initAudioDefer.resolve(),this.controller.getErrorID()===c.FLASH_PROXY_FLASH_BLOCKED&&this.trigger(j.FLASH_UNBLOCK);break;case b.PAUSED:M.call(this,!1),this.seekTimeEventHandler&&this.isPaused()&&N.call(this);break;case b.PLAYING:M.call(this,!1),O.call(this),this.trigger(j.PLAY_RESUME);break;case b.LOADING:case b.SEEKING:M.call(this,!0);break;case b.ENDED:G.call(this);break;case b.ERROR:M.call(this,!1),Q.call(this)}this.trigger(j.STATE_CHANGE,a)}function T(){if(e.isSafari71()||e.isFirefox())this.options.protocols=[m.HTTP,m.HLS,m.RTMP];this.options.protocols=this.options.protocols.filter(n.isProtocolSupported)}function U(a){var b=window.console.log,c;a!==j.TIME?(c=[V("SCAudio event ("+this.getId()+"):")],c.push.apply(c,arguments),b.apply(window.console,c),this._loggedTime=!1):this._loggedTime||(b.call(window.console,V("SCAudio time (%s): %d ms"),this.getId(),this.currentTime()),this._loggedTime=!0)}function V(a){return(new Date).toString()+" | "+a}var d,e=a("browser"),f=a("utils"),g=a("stream-urls"),h=a("audio-logger"),i=a("audio-perf-monitor"),j=a("events"),k=a("extensions"),l=a("observable"),m=a("protocols"),n=a("protocol-selector"),o,p={},q={muted:!1,volume:1},r={soundId:p,duration:p,registerEndpoint:p,streamUrlsEndpoint:p,resourceId:!1,debug:!1,asyncFetch:!0,useSinglePlayer:!0,protocols:[m.HLS,m.RTMP,m.HTTP],extensions:[k.MP3],maxBitrate:Infinity},s=6e3,t=6e3,u=400,v=6e4,w=6e3,x=3,y=3e4,z=[];d=c.exports=function(a,b){arguments.length===1?b=a:d.setAudioManager(a);if(!o)throw new Error("SCAudio: AudioManager instance must be set with `SCAudio.setAudioManager()` or passed via the constructor");this.options=f.extend({},r,b);var c=Object.keys(this.options).filter(function(a){return this.options[a]===p},this);if(c.length)throw new Error("SCAudio: pass into constructor the following options: "+c.join(", "));T.call(this),this.controller=null,this.streamInfo=null,this._registerPlays=!0,this._registerCounts=this._errorRecoveryCounts=0,this._isPlayActionQueued=this._usedPrefetchUrls=this._isPlaying=this._isBuffering=!1,this._initAudioDefer=this._expirationTimeout=this._bufferingTimeout=this._errorRecoveryTime=this._errorRecoveryFlagsResetTimeout=this._storedPosition=this._prevPosition=null,b.debug&&(this._loggedTime=!1),this.on("all",R,this),this.audioPerfMonitor=new i(this,this.logAudioPerformance.bind(this)),this.audioLogger=new h(this)},f.extend(d.prototype,l,{constructor:d,initAudio:function(){return this._initAudioDefer||(this._initAudioDefer=$.Deferred(),H.call(this).done(function(a){var b=!0;this.streamInfo&&(b=!1),this.streamInfo=a,b&&this.trigger(j.STREAMS),this.controller=A.call(this,a),B.call(this,this.controller,!0),S.call(this,this.controller.getState())}.bind(this)).fail(function(){this.trigger(j.NO_STREAMS)}.bind(this)),this._initAudioDefer.done(function(){this.trigger(j.CREATED)}.bind(this))),this._initAudioDefer},registerPlay:function(){var a=this.options.soundId,b=!1;return z.indexOf(a)===-1&&(z.push(a),setTimeout(function(){var b=z.indexOf(a);b>-1&&z.splice(b,1)},v),$.ajax({type:"POST",dataType:"json",statusCode:{429:$.noop},url:f.result(this.options.registerEndpoint)}),this._registerCounts++,this._registerPlays=!1,this.trigger(j.REGISTERED),b=!0),b},toggle:function(){this[this.isPaused()?"play":"pause"]()},play:function(a){var b=a&&a.seek!=null?a.seek:this.currentTime();a=f.extend({},a,{position:b}),this.trigger(j.PLAY,a),L.call(this,b)||F.call(this),this.initAudio().done(function(){this._isPlayActionQueued&&(this._storedPosition=null,this.trigger(j.PLAY_START,a),this.controller.play(b))}.bind(this)),M.call(this,!0)},pause:function(a){if(this.isPaused())return;a=f.extend({},a,{position:this.currentTime()}),this.trigger(j.PAUSE,a),this.controller&&this.controller.pause(),M.call(this,!1)},getListenTime:function(){return this.audioLogger?this.audioLogger.getListenTime():0},dispose:function(){this.audioLogger=null,this.audioPerfMonitor=null,this.off(),f.without(z,this.options.soundId),clearTimeout(this._bufferingTimeout),E.call(this),this.controller&&(this.controller.kill(),this.controller=null),delete this.controller,this.trigger(j.DESTROYED)},seek:function(a){if(!this.controller)return;if(a>=f.result(this.options.duration)){G.call(this);return}this.seekTimeEventHandler&&this.off(j.TIME,this.seekTimeEventHandler),this.seekTimeEventHandler=f.after(2,function(){N.call(this)}.bind(this)),this.on(j.TIME,this.seekTimeEventHandler),this.trigger(j.SEEK,{from:this.currentTime(),to:a});if(this.isPlaying()&&!L.call(this,a)){F.call(this),this.play({seek:a});return}this.controller.seek(a)},seekRelative:function(a){this.controller&&this.seek(this.currentTime()+a)},currentTime:function(){return this._storedPosition?this._storedPosition:this.controller?this.controller.getCurrentPosition():0},loadProgress:function(){var a=0;return this.controller&&(a=this.controller.getLoadedPosition()/this.controller.getDuration(),a=a>=.99?1:a),a},buffered:function(){return this.controller&&this.controller.getDuration()||0},isPaused:function(){return!this.isPlaying()},isBuffering:function(){return this._isBuffering},isPlaying:function(){return this._isPlayActionQueued||this._isPlaying},isLoading:function(){return!!this.controller&&this.controller.getState()===o.States.LOADING},toggleMute:function(a){d.toggleMute(a)},isMuted:function(){return d.isMuted()},setVolume:function(a){d.setVolume(a)},getVolume:function(){return d.getVolume()},logAudioPerformance:function(){},getAudioManagerStates:function(){return o.States},getId:function(){return this.options.resourceId||this.options.soundId}}),f.extend(d,{extend:f.inherits,getSettings:function(){return q},setSettings:function(a){f.extend(q,a)},setAudioManager:function(a){o=a,a&&(d.AudioManagerStates=a.States,this.toggleMute(q.muted),this.setVolume(q.volume))},toggleMute:function(a){q.muted=a===undefined?!q.muted:!!a,o&&o.setVolume(q.muted?0:1)},isMuted:function(){return q.muted},setVolume:function(a){q.volume=a===undefined?1:a,o&&o.setVolume(q.volume)},getVolume:function(){return q.volume},Extensions:k,Protocols:m,Events:j,BUFFER_DELAY:u,PLAY_REGISTRATION_TIMEOUT:v})}),b("scaudio")})}),
define("lib/helpers/a11y-helper",["require","exports","module","vendor/handlebars-runtime"],function(a,b,c){var d=a("vendor/handlebars-runtime"),e=c.exports={getAccessibleMarkup:function(a){return'<span class="sc-visuallyhidden">'+d.Utils.escapeExpression(a.screenreader)+"</span>"+(a.visible?'<span aria-hidden="true">'+d.Utils.escapeExpression(a.visible)+"</span>":"")}}}),
define("lib/helpers/number-helper",["require","exports","module"],function(a,b,c){function e(a){var b=a<100?10:1;return Math.floor(a*b)/b}var d=c.exports={format:function(a){return typeof a!="number"&&(a=parseInt(a,10)),a!==a?"":a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},shorten:function(a){var b=1e3,c;return[{limit:Math.pow(b,1),unit:""},{limit:Math.pow(b,2),unit:"K"},{limit:Math.pow(b,3),unit:"M"},{limit:Math.pow(b,4),unit:"B"}].some(function(d){return a<d.limit&&(c=e(a/(d.limit/b))+d.unit),!!c}),c}}}),
define("lib/helpers/image-helper",["require","exports","module","lib/helpers/name-helper","_","lib/math","lib/browser","lib/support","lib/html-helper"],function(a,b,c){function s(a){var b,c,d;return l.lastIndex=0,b=a.replace(l,function(a,b,f,g,h){return e.find(n,function(a,b){if(a[1]===h)return c=b,!0}),d=b,f}),d?{index:c,key:parseInt(b,10),type:d}:null}function t(a,b){var c=e.find(n,function(a){return a[0]>=b})||e.last(n);return c[1]==="t20x20"&&a==="artworks"?"tiny":c[1]}function u(a){l.lastIndex=0;var b=l.exec(a),c;return b&&(c=b[3].charCodeAt(0)%4+1,c!==1&&(a=a.replace("//i1.","//i"+c+"."))),a}function v(a){m[a.type]||(m[a.type]={}),m[a.type][a.key]|=1<<a.index}var d=a("lib/helpers/name-helper"),e=a("_"),f=a("lib/math"),g=a("lib/browser"),h=a("lib/support"),i=a("lib/html-helper"),j,k=/default/,l=/^.*\/([a-z0-9]+)-0*([a-z0-9]+)-([a-z0-9]+)-([a-z0-9]+)\.jpg.*$/i,m={},n=[[20,"t20x20"],[50,"t50x50"],[120,"t120x120"],[200,"t200x200"],[500,"t500x500"]],o=["alt","class","height","src","title","width"],p={whitelist:["style","title","class","aria-label","aria-role","aria-hidden"],closingTag:!0},q={cloud:{40:"/player/assets/images/default/cloudx40-d1068b51.png",50:"/player/assets/images/default/cloudx50-d1068b51.png",80:"/player/assets/images/default/cloudx80-d1068b51.png",120:"/player/assets/images/default/cloudx120-d1068b51.png",200:"/player/assets/images/default/cloudx200-d1068b51.png",500:"/player/assets/images/default/cloudx500-d1068b51.png"},group:{40:"/player/assets/images/default/groupx40-377f1b9e.png",50:"/player/assets/images/default/groupx50-377f1b9e.png",80:"/player/assets/images/default/groupx80-377f1b9e.png",120:"/player/assets/images/default/groupx120-377f1b9e.png",200:"/player/assets/images/default/groupx200-377f1b9e.png",500:"/player/assets/images/default/groupx500-3d2db348.png"},user:{40:"/player/assets/images/default/userx40-377f1b9e.png",50:"/player/assets/images/default/userx50-377f1b9e.png",80:"/player/assets/images/default/userx80-377f1b9e.png",120:"/player/assets/images/default/userx120-377f1b9e.png",200:"/player/assets/images/default/userx200-377f1b9e.png",500:"/player/assets/images/default/userx500-3d2db348.png"}},r=c.exports={load:function(a,b){var c=new Image,d=$.Deferred();return $(c).on("load",function(){d.resolve(c)}).on("error",function(){d.reject(c)}),b&&h.corsImg&&(c.crossOrigin=!0),c.src=a,d},isLoaded:function(a){return!!(a.complete&&a.width&&a.height)},markup:function(a,b){var c,d,f,g;return a&&a.attributes&&(a=a.attributes),c=b.src||this.urlFrom(a,b.size),c=this.isDefaultImage(c)?null:"url("+c+")",g=b.placeholderId||a,f=b.stretch?"100%":b.size+"px",d=e.extend({style:{"background-image":c,width:f,height:f},"class":"sc-artwork "+this.getPlaceholderClass(g)+" "+(b.class||""),"aria-label":this.getAltText(a),"aria-role":"img"},e.omit(b,"stretch","size","class")),i.getMarkup("span",d,p)},getMarkup:function(a){var b=[],c;return e.each(a,function(a,c){e.indexOf(o,c)!==-1&&b.push(c+'="'+a+'"')}),c=s(a.src),c&&v(c),"<img "+b.join(" ")+">"},getAltText:function(a){return a.username?d.get(a,!0)+" avatar":d.get(a)},getPlaceholderUrl:function(a,b){var c,d,f,g,h;f=s(r.setFormat(a,b));if(f){c=f.key,m[f.type]||(m[f.type]={});if(m[f.type][c]){d=e.find(n,function(a,c){return h=c,b<=a[0]});while(h>=0){if(m[f.type][c]&1<<h){g=n[h];break}--h}}if(d&&g===d)return!1;if(g)return r.setFormat(a,g[0])}return null},urlFrom:function(a,b){var c=a&&(a.artwork_url||a.avatar_url||a.user&&a.user.avatar_url)||"";return b&&g.isHiDPI&&(b*=2),r.isDefaultImage(c)?c:(c=u(c).replace(/^https?\:\/\//,"//"),b?r.setFormat(c,b):c)},isDefaultImage:function(a){return!a||k.test(a)},getDefaultImage:function(a,b){return(q[a]||q.cloud)[j(b)]},setFormat:function(a,b,c){if(this.isDefaultImage(a))return"";l.lastIndex=0;var d=l.exec(a);if(d){var e=d[1],f=d[4],g=t(e,b);return g&&(a=a.replace(f,g)),c?u(a):a}return a},flagCachedImage:function(a){var b=s(a);b&&v(b)},getMainColor:function(a,b){var c=a.data,d=c.length,e={},g=0,h=1,i=d/4,j,k,l;b=f.clamp(b||0,h,i);for(l=0;l<d;l+=b*4)k=[c[l],c[l+1],c[l+2]],k=k.join(","),e[k]=e.hasOwnProperty(k)?++e[k]:1;for(k in e)if(e.hasOwnProperty(k)){if(e[k]<g)continue;g=e[k],j=k}return j?j.split(",").map(function(a){return parseInt(a,10)}):null},getPlaceholderClass:function(a){var b=12,c=typeof a=="number"?a:a&&a.id||0;return"sc-artwork-placeholder-"+c%b}};j=function(){var a=Object.keys(q.cloud),b;return a.sort(function(a,b){return a-b}),b=e.last(a),e.memoize(function(c){var d,e;for(d=0;e=a[d];++d)if(e>=c)return e;return b})}()}),
define("lib/helpers/i18n-helper",["require","exports","module"],function(a,b,c){var d=/\r?\n/g,e=/\s+/g;c.exports={cleanBlockText:function(a){return a.trim().replace(d," ").replace(e," ")}}}),
define("vendor/usertext/usertext",["require","exports","module"],function(a,b,c){(function(){var a,b,d,e,f,g,h,i=/\b((?:https?:\/\/|www\d{0,3}\.|(?:[a-z0-9\-]+\.)+[a-z]{2,4}\/)\S*[^\s`!()\[\]{};:'".,<>?«»“”‘’])/ig,j=/([a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,6})/gi,k=/(\s|[^\w]|^)@([\w\-]+)/g,l=/\{\{\b((?:https?:\/\/|www\d{0,3}\.|(?:[a-z0-9\-]+\.)+[a-z]{2,4}\/)\S*[^\s`!()\[\]{};:'".,<>?«»“”‘’])\}\}/ig,m=/\{\{(?:mailto:)?([a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,6})\}\}/gi,n=/\{\{@([\w\-]+)\}\}/gi,o=/^((?:https?:\/\/)?(?:www\.|m\.)?soundcloud\.(?:com|dev))\/?/i,p=/^(?:ht|f)tps?:\/\//i,q=/(?:[ \t]*\r?\n[ \t]*){2,}/,r=/[ \t][ \t]+/g;b={paragraphs:!0,links:!0,externalLinks:!0,internalLinks:!0,userLinks:!0,whitelist:["b","i","em"],internalLinksBaseUrl:"/",isOpeningNewWindow:!1,maxLength:null},d=function(a){var b,c,d,e,f,g;f=[].slice.call(arguments,1);for(b=0,c=f.length;b<c;++b){e=f[b];for(g in e)e[g]!==d&&(a[g]=e[g])}return a},e=function(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")},f=function(a){return a.textContent||a.innerText||""},h=function s(a,b){b(a),a=a.firstChild;while(a)s(a,b),a=a.nextSibling},g=function(a,b){if(a.length<b)return a;var c=document.createElement("div"),d,e;return d=function(a){if(b>0){var c=a.data.length;b-=c,b<=0&&(a.data=a.substringData(0,a.data.length+b))}else a.data=""},e=function(a,c){var d=a.firstChild,f;do d.nodeType===3?c(d):d.nodeType===1&&e(d,c);while((d=d.nextSibling)&&b>0);while(d)f=d,d=d.nextSibling,a.removeChild(f)},c.innerHTML=a,e(c,d),c.innerHTML===a?c.innerHTML:c.innerHTML+"&hellip;"},a=function(a,c){var f=d({},b,c),s,t,u=document.createElement("div");if(typeof a!="string")return"";f.links?!f.userLinks&&!f.internalLinks&&!f.externalLinks?f.links=!1:f.whitelist.push("a"):f.userLinks=f.internalLinks=f.externalLinks=!1,i.lastIndex=k.lastIndex=j.lastIndex=0,a=a.replace(/<\/p>/g,"\n\n").replace(/<br\s*\/?>/g,"\n").replace(r," "),f.whitelist&&f.whitelist.length&&(a=a.replace(new RegExp("<(?!\\s*\\/?("+f.whitelist.join("|")+")\\b)[^>]*>","ig"),"")),u.innerHTML=a,f.links&&h(u,function(a){a.nodeType===3&&a.parentNode.nodeName.toLowerCase()!=="a"&&(a.nodeValue=a.nodeValue.replace(i,"{{$1}}").replace(j,"{{mailto:$1}}").replace(k,"$1{{@$2}}"))}),a=u.innerHTML,f.links&&(a=a.replace(l,function(a,b){return f.internalLinks&&o.test(b)?'<a href="'+b.replace(o,f.internalLinksBaseUrl)+'">'+b+"</a>":f.externalLinks?'<a href="'+(p.test(b)?b:"http://"+b)+'" rel="nofollow" target="_blank">'+b+"</a>":b}).replace(m,'<a href="mailto:$1">$1</a>').replace(n,'@<a href="'+f.internalLinksBaseUrl+'$1"'+(f.isOpeningNewWindow?' target="_blank"':"")+">$1</a>")),f.maxLength&&(a=g(a,f.maxLength));if(f.paragraphs){a=a.split(q);for(s=0,t=a.length;s<t;s++)a[s]=e(a[s]),a[s]=a[s].replace(/\r?\n/g,"<br>"),a[s]="<p>"+a[s]+"</p>";a=a.join("")}else a=a.replace(/[\r\n]+/g," ").replace(r," ");return a},a.withDefaults=function(c){var e=d({},b,c);return function(b,c){var f=c?d({},e,c):e;return a.call(this,b,f)}},typeof c!="undefined"&&c.exports?c.exports=a:(global=function(){return this}(),global.SC=global.SC||{},global.SC.usertext=a)})()}),
define("lib/mixins/usage-counting",["require","exports","module","lib/mixin"],function(a,b,c){var d=a("lib/mixin"),e=c.exports=new d({onCleanup:null,onIncrement:null,onDecrement:null,after:{initialize:function(a){this._counts={},this._needsGC=!1,a=a||{},this._autoCleanup=!!a.autoCleanup,this.onCleanup=a.onCleanup,this.onIncrement=a.onIncrement,this.onDecrement=a.onDecrement},reset:function(){this._counts={},this._needsGC=!1},set:function(a,b){this._counts[a]||(this._counts[a]=1,this.onIncrement&&this.onIncrement(b,a,1))},unset:function(a){delete this._counts[a]}},before:{reset:function(){this.onCleanup&&this.forEach(this.onCleanup)}},countFor:function(a){return this._counts[a]||0},increment:function(a,b){return this.has(a)&&(b=typeof b=="number"?b:1,b>0?(this._counts[a]=(this._counts[a]||0)+b,this.onIncrement&&this.onIncrement(this.get(a),a,b)):b<0&&this.decrement(a,-b)),this},decrement:function(a,b){return this.has(a)&&(b=typeof b=="number"?b:1,b>0?(this._counts[a]=(this._counts[a]||1)-b,this.onDecrement&&this.onDecrement(this.get(a),a,b),this._counts[a]<=0&&(this._needsGC=!0,this._autoCleanup&&this.cleanup())):b<0&&this.increment(a,-b)),this},cleanup:function(){var a,b=this.onCleanup;if(this._needsGC){for(a in this._counts)this._counts.hasOwnProperty(a)&&this._counts[a]===0&&(b&&b(this.get(a),a),this.unset(a));this._needsGC=!1}},changeKey:function(a,b){if(a===b)return;var c=this.get(a),d=this.countFor(a);this.unset(a),this.set(b,c),this.increment(b,d-1)}})}),
define("models/sound-visual",["require","exports","module","lib/model"],function(a,b,c){var d=a("lib/model"),e=c.exports=d.extend({resource_type:"soundVisual",hasDataForView:function(){return!0},baseUrl:$.noop})}),
define("lib/helpers/urn-helper",["require","exports","module"],function(a,b,c){var d={playlists:"playlist",sounds:"track",tracks:"track",users:"user"},e={playlists:"playlist",sounds:"sound",tracks:"sound",users:"user"},f={playlist:"playlists",sound:"tracks",user:"users"},g=c.exports={getAsAttributes:function(a){var b=a.split(":"),c=b[2],f=e[b[1]];return/\D/.test(c)||(c=parseInt(c,10)),f==="user"&&c==="system"&&(c=193),{id:c,kind:d[b[1]],resource_type:f}},generate:function(a,b){var c=f[a];return c?"soundcloud:"+c+":"+b:null}}}),
define("vendor/audiomanager/audiomanager",["require","exports","module"],function(a,b,c){(function(a,b){typeof c!="undefined"&&c.exports?c.exports=b():a.AudioManager=b()})(this,function(){var a,b,c;return function(d){function o(a,b){return m.call(a,b)}function p(a,b){var c,d,e,f,g,h,i,j,l,m,n=b&&b.split("/"),o=k.map,p=o&&o["*"]||{};if(a&&a.charAt(0)===".")if(b){n=n.slice(0,n.length-1),a=n.concat(a.split("/"));for(j=0;j<a.length;j+=1){m=a[j];if(m===".")a.splice(j,1),j-=1;else if(m==="..")if(j!==1||a[2]!==".."&&a[0]!=="..")j>0&&(a.splice(j-1,2),j-=2);else break}a=a.join("/")}else a.indexOf("./")===0&&(a=a.substring(2));if((n||p)&&o){c=a.split("/");for(j=c.length;j>0;j-=1){d=c.slice(0,j).join("/");if(n)for(l=n.length;l>0;l-=1){e=o[n.slice(0,l).join("/")];if(e){e=e[d];if(e){f=e,g=j;break}}}if(f)break;!h&&p&&p[d]&&(h=p[d],i=j)}!f&&h&&(f=h,g=i),f&&(c.splice(0,g,f),a=c.join("/"))}return a}function q(a,b){return function(){return f.apply(d,n.call(arguments,0).concat([a,b]))}}function r(a){return function(b){return p(b,a)}}function s(a){return function(b){i[a]=b}}function t(a){if(o(j,a)){var b=j[a];delete j[a],l[a]=!0,e.apply(d,b)}if(!o(i,a)&&!o(l,a))throw new Error("No "+a);return i[a]}function u(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function v(a){return function(){return k&&k.config&&k.config[a]||{}}}var e,f,g,h,i={},j={},k={},l={},m=Object.prototype.hasOwnProperty,n=[].slice;g=function(a,b){var c,d=u(a),e=d[0];return a=d[1],e&&(e=p(e,b),c=t(e)),e?c&&c.normalize?a=c.normalize(a,r(b)):a=p(a,b):(a=p(a,b),d=u(a),e=d[0],a=d[1],e&&(c=t(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},h={require:function(a){return q(a)},exports:function(a){var b=i[a];return typeof b!="undefined"?b:i[a]={}},module:function(a){return{id:a,uri:"",exports:i[a],config:v(a)}}},e=function(a,b,c,e){var f,k,m,n,p,r=[],u;e=e||a;if(typeof c=="function"){b=!b.length&&c.length?["require","exports","module"]:b;for(p=0;p<b.length;p+=1){n=g(b[p],e),k=n.f;if(k==="require")r[p]=h.require(a);else if(k==="exports")r[p]=h.exports(a),u=!0;else if(k==="module")f=r[p]=h.module(a);else if(o(i,k)||o(j,k)||o(l,k))r[p]=t(k);else if(n.p)n.p.load(n.n,q(e,!0),s(k),{}),r[p]=i[k];else throw new Error(a+" missing "+k)}m=c.apply(i[a],r);if(a)if(f&&f.exports!==d&&f.exports!==i[a])i[a]=f.exports;else if(m!==d||!u)i[a]=m}else a&&(i[a]=c)},a=b=f=function(a,b,c,i,j){return typeof a=="string"?h[a]?h[a](b):t(g(a,b).f):(a.splice||(k=a,b.splice?(a=b,b=c,c=null):a=d),b=b||function(){},typeof c=="function"&&(c=i,i=j),i?e(d,a,b,c):setTimeout(function(){e(d,a,b,c)},4),f)},f.config=function(a){return k=a,k.deps&&f(k.deps,k.callback),f},c=function(a,b,c){b.splice||(c=b,b=[]),!o(i,a)&&!o(j,a)&&(j[a]=[a,b,c])},c.amd={jQuery:!0}}(),c("vendor/almond",function(){}),function(a){function L(){return d.pop()||[]}function M(){return e.pop()||{args:"",array:null,bottom:"",cache:null,"false":!1,firstArg:"",init:"",loop:"","null":!1,number:null,object:null,push:null,shadowedProps:null,string:null,top:"","true":!1,"undefined":!1,useHas:!1,useKeys:!1}}function N(a){return typeof a.toString!="function"&&typeof (a+"")=="string"}function O(){}function P(a){a.length=0,d.length<j&&d.push(a)}function Q(a){var b=a.cache;b&&Q(b),a.array=a.cache=a.object=a.number=a.string=null,e.length<j&&e.push(a)}function bs(){}function by(a,b,c,d){function i(){var d=arguments,j=f?this:b;e||(a=b[g]),c.length&&(d=d.length?(d=bo.call(d),h?d.concat(c):c.concat(d)):c);if(this instanceof i){j=bA(a.prototype);var k=a.apply(j,d);return bM(k)?k:j}return a.apply(j,d)}var e=bL(a),f=!c,g=b;if(f){var h=d;c=b}else if(!e){if(!d)throw new TypeError;b=a}return i}function bz(){var a=M();a.shadowedProps=w,a.array=a.bottom=a.loop=a.top="",a.init="iterable",a.useHas=!0,a.useKeys=!!bE;for(var b,c=0;b=arguments[c];c++)for(var d in b)a[d]=b[d];var e=a.args;a.firstArg=/^[^,]+/.exec(e)[0];var f=Function("errorClass, errorProto, hasOwnProperty, isArguments, isArray, isString, keys, lodash, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+e+") {\n"+bu(a)+"\n}");return Q(a),f(C,S,ba,bB,bC,bN,bE,bs,T,I,br,H,U,be)}function bA(a){return bM(a)?bg(a):{}}function bB(a){return be.call(a)==y}function bJ(a){var b=[];return bI(a,function(a,c){bL(a)&&b.push(c)}),b.sort()}function bK(a,b,c,d,e,f){var h=c===g;if(typeof c=="function"&&!h){c=bs.createCallback(c,d,2);var i=c(a,b);if(typeof i!="undefined")return!!i}if(a===b)return a!==0||1/a==1/b;var j=typeof a,k=typeof b;if(a===a&&(!a||j!="function"&&j!="object")&&(!b||k!="function"&&k!="object"))return!1;if(a==null||b==null)return a===b;var l=be.call(a),m=be.call(b);l==y&&(l=F),m==y&&(m=F);if(l!=m)return!1;switch(l){case A:case B:return+a==+b;case E:return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case G:case H:return a==String(b)}var n=l==z;if(!n){if(ba.call(a,"__wrapped__ ")||ba.call(b,"__wrapped__"))return bK(a.__wrapped__||a,b.__wrapped__||b,c,d,e,f);if(l!=F||!bt.nodeClass&&(N(a)||N(b)))return!1;var o=!bt.argsObject&&bB(a)?Object:a.constructor,p=!bt.argsObject&&bB(b)?Object:b.constructor;if(o!=p&&!(bL(o)&&o instanceof o&&bL(p)&&p instanceof p))return!1}var q=!e;e||(e=L()),f||(f=L());var r=e.length;while(r--)if(e[r]==a)return f[r]==b;var s=0;i=!0,e.push(a),f.push(b);if(n){r=a.length,s=b.length,i=s==a.length;if(!i&&!h)return i;while(s--){var t=r,u=b[s];if(h){while(t--)if(i=bK(a[t],u,c,d,e,f))break}else if(!(i=bK(a[s],u,c,d,e,f)))break}return i}return bI(b,function(b,g,h){if(ba.call(h,g))return s++,i=ba.call(a,g)&&bK(a[g],b,c,d,e,f)}),i&&!h&&bI(a,function(a,b,c){if(ba.call(c,b))return i=--s>-1}),q&&(P(e),P(f)),i}function bL(a){return typeof a=="function"}function bM(a){return!!a&&!!I[typeof a]}function bN(a){return typeof a=="string"||be.call(a)==H}function bO(a,b,c){var d={};if(typeof b!="function"){var e=-1,f=Z.apply(R,bo.call(arguments,1)),g=bM(a)?f.length:0;while(++e<g){var h=f[e];h in a&&(d[h]=a[h])}}else b=bs.createCallback(b,c),bI(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d}function bP(a){var b=-1,c=bE(a),d=c.length,e=Array(d);while(++b<d)e[b]=a[c[b]];return e}function bQ(a,b,c){if(b&&typeof c=="undefined"&&bC(a)){var d=-1,e=a.length;while(++d<e)if(b(a[d],d,a)===!1)break}else bF(a,b,c);return a}function bR(a,b){var c=bo.call(arguments,2),d=-1,e=typeof b=="function",f=a?a.length:0,g=Array(typeof f=="number"?f:0);return bQ(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g}function bS(a,b){return bt.fastBind||bf&&arguments.length>2?bf.call.apply(bf,arguments):by(a,b,bo.call(arguments,2))}function bT(a){var b=arguments.length>1?Z.apply(R,bo.call(arguments,1)):bJ(a),c=-1,d=b.length;while(++c<d){var e=b[c];a[e]=bS(a[e],a)}return a}function bU(a,b,c){if(a==null)return bW;var d=typeof a;if(d!="function"){if(d!="object")return function(b){return b[a]};var e=bE(a);return function(b){var c=e.length,d=!1;while(c--)if(!(d=bK(b[e[c]],a[e[c]],g)))break;return d}}return typeof b=="undefined"||s&&!s.test(_.call(a))?a:c===1?function(c){return a.call(b,c)}:c===2?function(c,d){return a.call(b,c,d)}:c===4?function(c,d,e,f){return a.call(b,c,d,e,f)}:function(c,d,e){return a.call(b,c,d,e)}}function bV(a){var b,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function bW(a){return a}function bX(a){var b=++f;return String(a==null?"":a)+b}var b,d=[],e=[],f=0,g={},h=+(new Date)+"",i=75,j=40,l=/\b__p \+= '';/g,m=/\b(__p \+=) '' \+/g,n=/(__e\(.*?\)|\b__t\)) \+\n'';/g,o=/&(?:amp|lt|gt|quot|#39);/g,p=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,q=/\w*$/,r=/<%=([\s\S]+?)%>/g,s=(s=/\bthis\b/)&&s.test(function(){return this})&&s,t=/($^)/,u=/[&<>"']/g,v=/['\n\r\t\u2028\u2029\\]/g,w=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],x=0,y="[object Arguments]",z="[object Array]",A="[object Boolean]",B="[object Date]",C="[object Error]",D="[object Function]",E="[object Number]",F="[object Object]",G="[object RegExp]",H="[object String]",I={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,"undefined":!1},J={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},K=I[typeof global]&&global;K&&(K.global===K||K.window===K)&&(a=K);var R=[],S=Error.prototype,T=Object.prototype,U=String.prototype,V=a._,W=RegExp("^"+String(T.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),X=Math.ceil,Y=a.clearTimeout,Z=R.concat,$=Math.floor,_=Function.prototype.toString,ba=T.hasOwnProperty,bb=R.push,bc=T.propertyIsEnumerable,bd=a.setTimeout,be=T.toString,bf=W.test(bf=be.bind)&&bf,bg=W.test(bg=Object.create)&&bg,bh=W.test(bh=Array.isArray)&&bh,bi=a.isFinite,bj=a.isNaN,bk=W.test(bk=Object.keys)&&bk,bl=Math.max,bm=Math.min,bn=Math.random,bo=R.slice,bp=W.test(a.attachEvent),bq=bf&&!/\n|true/.test(bf+bp),br={};br[z]=br[B]=br[E]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},br[A]=br[H]={constructor:!0,toString:!0,valueOf:!0},br[C]=br[D]=br[G]={constructor:!0,toString:!0},br[F]={constructor:!0},function(){var a=w.length;while(a--){var b=w[a];for(var c in br)ba.call(br,c)&&!ba.call(br[c],b)&&(br[c][b]=!1)}}();var bt=bs.support={};(function(){var a=function(){this.x=1},b=[];a.prototype={valueOf:1,y:1};for(var c in new a)b.push(c);for(c in arguments);bt.argsObject=arguments.constructor==Object&&!(arguments instanceof Array),bt.argsClass=bB(arguments),bt.enumErrorProps=bc.call(S,"message")||bc.call(S,"name"),bt.enumPrototypes=bc.call(a,"prototype"),bt.fastBind=bf&&!bq,bt.nonEnumArgs=c!=0,bt.nonEnumShadows=!/valueOf/.test(b),bt.unindexedChars="x"[0]+Object("x")[0]!="xx";try{bt.nodeClass=be.call(document)!=F||!!({toString:0}+"")}catch(d){bt.nodeClass=!0}})(1);var bu=function(a){var b="var index, iterable = "+a.firstArg+", result = "+a.init+";\nif (!iterable) return result;\n"+a.top+";";a.array?(b+="\nvar length = iterable.length; index = -1;\nif ("+a.array+") {  ",bt.unindexedChars&&(b+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),b+="\n  while (++index < length) {\n    "+a.loop+";\n  }\n}\nelse {  "):bt.nonEnumArgs&&(b+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+a.loop+";\n    }\n  } else {  "),bt.enumPrototypes&&(b+="\n  var skipProto = typeof iterable == 'function';\n  "),bt.enumErrorProps&&(b+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var c=[];bt.enumPrototypes&&c.push('!(skipProto && index == "prototype")'),bt.enumErrorProps&&c.push('!(skipErrorProps && (index == "message" || index == "name"))');if(a.useHas&&a.useKeys)b+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",c.length&&(b+="    if ("+c.join(" && ")+") {\n  "),b+=a.loop+";    ",c.length&&(b+="\n    }"),b+="\n  }  ";else{b+="\n  for (index in iterable) {\n",a.useHas&&c.push("hasOwnProperty.call(iterable, index)"),c.length&&(b+="    if ("+c.join(" && ")+") {\n  "),b+=a.loop+";    ",c.length&&(b+="\n    }"),b+="\n  }    ";if(bt.nonEnumShadows){b+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ";for(k=0;k<7;k++)b+="\n    index = '"+a.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",a.useHas||(b+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),b+=") {\n      "+a.loop+";\n    }      ";b+="\n  }    "}}if(a.array||bt.nonEnumArgs)b+="\n}";return b+=a.bottom+";\nreturn result",b},bv={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},bw={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : lodash.createCallback(callback, thisArg)",array:"typeof length == 'number'",loop:"if (callback(iterable[index], index, collection) === false) return result"},bx={top:"if (!objectTypes[typeof iterable]) return result;\n"+bw.top,array:!1};if(!bg)var bA=function(a){if(bM(a)){O.prototype=a;var b=new O;O.prototype=null}return b||{}};bt.argsClass||(bB=function(a){return a?ba.call(a,"callee"):!1});var bC=bh||function(a){return a?typeof a=="object"&&be.call(a)==z:!1},bD=bz({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),bE=bk?function(a){return bM(a)?bt.enumPrototypes&&typeof a=="function"||bt.nonEnumArgs&&a.length&&bB(a)?bD(a):bk(a):[]}:bD,bF=bz(bw),bG=bz(bv,{top:bv.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = lodash.createCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),bH=bz(bv),bI=bz(bw,bx,{useHas:!1});bL(/x/)&&(bL=function(a){return typeof a=="function"&&be.call(a)==D}),bs.assign=bG,bs.bind=bS,bs.bindAll=bT,bs.createCallback=bU,bs.defaults=bH,bs.forEach=bQ,bs.forIn=bI,bs.functions=bJ,bs.invoke=bR,bs.keys=bE,bs.once=bV,bs.pick=bO,bs.values=bP,bs.each=bQ,bs.extend=bG,bs.methods=bJ,bs.identity=bW,bs.isArguments=bB,bs.isArray=bC,bs.isEqual=bK,bs.isFunction=bL,bs.isObject=bM,bs.isString=bN,bs.uniqueId=bX,bs.VERSION="1.3.1",typeof c=="function"&&typeof c.amd=="object"&&c.amd&&c("underscore",[],function(){return bs})}(this),c("browserutils",{supportHTML5Audio:function(){var a;try{if(window.HTMLAudioElement&&typeof Audio!="undefined")return a=new Audio,!0}catch(b){return!1}},createAudioElement:function(){var a=document.createElement("audio");return a.setAttribute("msAudioCategory","BackgroundCapableMedia"),a.mozAudioChannelType="content",a},supportSourceSwappingWithPreload:function(){return/Firefox/i.test(navigator.userAgent)},isMobile:function(a){var b=window.navigator.userAgent,c=["mobile","iPhone","iPad","iPod","Android","Skyfire"];return c.some(function(a){return a=new RegExp(a,"i"),a.test(b)})},isIE10Mobile:function(){return/IEmobile\/10\.0/gi.test(navigator.userAgent)},canPlayType:function(a){var b=document.createElement("audio");return!b||!b.canPlayType?!1:b.canPlayType(a).match(/maybe|probably/i)?!0:!1},isNativeHlsSupported:function(){var a=navigator.userAgent,b=["iPhone","iPad","iPod"],c,d,e;return c=function(b){return b.test(a)},d=!c(/chrome/i)&&!c(/opera/i)&&c(/safari/i),e=b.some(function(a){return c(new RegExp(a,"i"))}),e||d},isMSESupported:function(){return!!window.MediaSource||!!window.WebKitMediaSource},isMSESupportMPEG:function(){var a=window.MediaSource||window.WebKitMediaSource;return a?a.isTypeSupported("audio/mpeg"):!1}}),c("errors",{FLASH_HLS_PLAYLIST_NOT_FOUND:"HLS_PLAYLIST_NOT_FOUND",FLASH_HLS_PLAYLIST_SECURITY_ERROR:"HLS_SECURITY_ERROR",FLASH_HLS_NOT_VALID_PLAYLIST:"HLS_NOT_VALID_PLAYLIST",FLASH_HLS_NO_TS_IN_PLAYLIST:"HLS_NO_TS_IN_PLAYLIST",FLASH_HLS_NO_PLAYLIST_IN_MANIFEST:"HLS_NO_PLAYLIST_IN_MANIFEST",FLASH_HLS_TS_IS_CORRUPT:"HLS_TS_IS_CORRUPT",FLASH_HLS_FLV_TAG_CORRUPT:"HLS_FLV_TAG_CORRUPT",FLASH_HTTP_FILE_NOT_FOUND:"HTTP_FILE_NOT_FOUND",FLASH_RTMP_CONNECT_FAILED:"RTMP_CONNECT_FAILED",FLASH_RTMP_CONNECT_CLOSED:"RTMP_CONNECT_CLOSED",FLASH_RTMP_CANNOT_PLAY_STREAM:"RTMP_CANNOT_PLAY_STREAM",FLASH_PROXY_CANT_LOAD_FLASH:"CANT_LOAD_FLASH",FLASH_PROXY_FLASH_BLOCKED:"FLASH_PROXY_FLASH_BLOCKED",HTML5_AUDIO_ABORTED:"HTML5_AUDIO_ABORTED",HTML5_AUDIO_NETWORK:"HTML5_AUDIO_NETWORK",HTML5_AUDIO_DECODE:"HTML5_AUDIO_DECODE",HTML5_AUDIO_SRC_NOT_SUPPORTED:"HTML5_AUDIO_SRC_NOT_SUPPORTED",HTML5_AUDIO_ENDED_EARLY:"HTML5_AUDIO_ENDED_EARLY",HTML5_AUDIO_OVERRUN:"HTML5_AUDIO_OVERRUN",MSE_NOT_SUPPORTED:"MSE_NOT_SUPPORTED",MSE_MP3_NOT_SUPPORTED:"MSE_MP3_NOT_SUPPORTED",MSE_HLS_NOT_VALID_PLAYLIST:"MSE_HLS_NOT_VALID_PLAYLIST",MSE_HLS_PLAYLIST_NOT_FOUND:"MSE_HLS_PLAYLIST_NOT_FOUND",MSE_HLS_SEGMENT_NOT_FOUND:"MSE_HLS_SEGMENT_NOT_FOUND"}),c("vendor/events",["require","exports","module","underscore"],function(a,b,c){var d=a("underscore"),e=[],f=e.push,g=e.slice,h=e.splice,i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if(typeof c=="object")for(var e in c)a[b].apply(a,[e,c[e]].concat(d));else{if(!i.test(c))return!0;var f=c.split(i);for(var g=0,h=f.length;g<h;g++)a[b].apply(a,[f[g]].concat(d))}},k=function(a,b){var c,d=-1,e=a.length;switch(b.length){case 0:while(++d<e)c=a[d],c.callback.call(c.ctx);return;case 1:while(++d<e)(c=a[d]).callback.call(c.ctx,b[0]);return;case 2:while(++d<e)(c=a[d]).callback.call(c.ctx,b[0],b[1]);return;case 3:while(++d<e)(c=a[d]).callback.call(c.ctx,b[0],b[1],b[2]);return;default:while(++d<e)(c=a[d]).callback.apply(c.ctx,b)}},l={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!j(this,"once",a,[b,c])||!b)return this;var e=this,f=d.once(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,c)},off:function(a,b,c){var e,f,g,h,i,k,l,m;if(!this._events||!j(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;h=a?[a]:d.keys(this._events);for(i=0,k=h.length;i<k;i++){a=h[i];if(g=this._events[a]){this._events[a]=e=[];if(b||c)for(l=0,m=g.length;l<m;l++)f=g[l],(b&&b!==f.callback&&b!==f.callback._callback||c&&c!==f.context)&&e.push(f);e.length||delete this._events[a]}}return this},trigger:function(a,b){if(!this._events)return this;var b=g.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;typeof b=="object"&&(c=this),a&&((d={})[a._listenerId]=a);for(var f in d)d[f].off(b,c,this),e&&delete this._listeners[f];return this}},m={listenTo:"on",listenToOnce:"once"};d.each(m,function(a,b){l[b]=function(b,c,e){var f=this._listeners||(this._listeners={}),g=b._listenerId||(b._listenerId=d.uniqueId("l"));return f[g]=b,typeof c=="object"&&(e=this),b[a](c,e,this),this}}),l.bind=l.on,l.unbind=l.off,c.exports=l}),c("logger",["require","exports","module"],function(a,b,c){var d;c.exports=d=function(a,b,c){this.enabled=c.debug,this.type=a,this.id=b},d.prototype.log=function(a){if(!this.enabled)return;window.console.log("#"+this.type+" "+this.id+"# "+a)}}),c("states",{PLAYING:"playing",LOADING:"loading",SEEKING:"seeking",PAUSED:"paused",ERROR:"error",IDLE:"idle",INITIALIZE:"initialize",ENDED:"ended",DEAD:"dead"}),c("vendor/swfobject",[],function(){function C(){if(u||!document.getElementsByTagName("body")[0])return;try{var a,b=T("span");b.style.display="none",a=i.getElementsByTagName("body")[0].appendChild(b),a.parentNode.removeChild(a),a=null,b=null}catch(c){return}u=!0;var d=m.length;for(var e=0;e<d;e++)m[e]()}function D(a){u?a():m[m.length]=a}function E(b){if(typeof h.addEventListener!=a)h.addEventListener("load",b,!1);else if(typeof i.addEventListener!=a)i.addEventListener("load",b,!1);else if(typeof h.attachEvent!=a)V(h,"onload",b);else if(typeof h.onload=="function"){var c=h.onload;h.onload=function(){c(),b()}}else h.onload=b}function F(){var c=i.getElementsByTagName("body")[0],d=T(b);d.setAttribute("style","visibility: hidden;"),d.setAttribute("type",e);var f=c.appendChild(d);if(f){var g=0;(function h(){if(typeof f.GetVariable!=a)try{var b=f.GetVariable("$version");b&&(b=b.split(" ")[1].split(","),A.pv=[U(b[0]),U(b[1]),U(b[2])])}catch(e){A.pv=[8,0,0]}else if(g<10){g++,setTimeout(h,10);return}c.removeChild(d),f=null,G()})()}else G()}function G(){var b=n.length;if(b>0)for(var c=0;c<b;c++){var d=n[c].id,e=n[c].callbackFn,f={success:!1,id:d};if(A.pv[0]>0){var g=S(d);if(g)if(W(n[c].swfVersion)&&!(A.wk&&A.wk<312))Y(d,!0),e&&(f.success=!0,f.ref=H(d),f.id=d,e(f));else if(n[c].expressInstall&&I()){var h={};h.data=n[c].expressInstall,h.width=g.getAttribute("width")||"0",h.height=g.getAttribute("height")||"0",g.getAttribute("class")&&(h.styleclass=g.getAttribute("class")),g.getAttribute("align")&&(h.align=g.getAttribute("align"));var i={},j=g.getElementsByTagName("param"),k=j.length;for(var l=0;l<k;l++)j[l].getAttribute("name").toLowerCase()!="movie"&&(i[j[l].getAttribute("name")]=j[l].getAttribute("value"));J(h,i,d,e)}else K(g),e&&e(f)}else{Y(d,!0);if(e){var m=H(d);m&&typeof m.SetVariable!=a&&(f.success=!0,f.ref=m,f.id=m.id),e(f)}}}}function H(c){var d=null,e=S(c);return e&&e.nodeName.toUpperCase()==="OBJECT"&&(typeof e.SetVariable!==a?d=e:d=e.getElementsByTagName(b)[0]||e),d}function I(){return!v&&W("6.0.65")&&(A.win||A.mac)&&!(A.wk&&A.wk<312)}function J(b,c,d,e){var g=S(d);d=R(d),v=!0,s=e||null,t={success:!1,id:d};if(g){g.nodeName.toUpperCase()=="OBJECT"?(q=L(g),r=null):(q=g,r=d),b.id=f;if(typeof b.width==a||!/%$/.test(b.width)&&U(b.width)<310)b.width="310";if(typeof b.height==a||!/%$/.test(b.height)&&U(b.height)<137)b.height="137";var j=A.ie?"ActiveX":"PlugIn",k="MMredirectURL="+encodeURIComponent(h.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+j+"&MMdoctitle="+encodeURIComponent(i.title.slice(0,47)+" - Flash Player Installation");typeof c.flashvars!=a?c.flashvars+="&"+k:c.flashvars=k;if(A.ie&&g.readyState!=4){var l=T("div");d+="SWFObjectNew",l.setAttribute("id",d),g.parentNode.insertBefore(l,g),g.style.display="none",P(g)}N(b,c,d)}}function K(a){if(A.ie&&a.readyState!=4){a.style.display="none";var b=T("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(L(a),b),P(a)}else a.parentNode.replaceChild(L(a),a)}function L(a){var c=T("div");if(A.win&&A.ie)c.innerHTML=a.innerHTML;else{var d=a.getElementsByTagName(b)[0];if(d){var e=d.childNodes;if(e){var f=e.length;for(var g=0;g<f;g++)(e[g].nodeType!=1||e[g].nodeName!="PARAM")&&e[g].nodeType!=8&&c.appendChild(e[g].cloneNode(!0))}}}return c}function M(a,b){var c=T("div");return c.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+a+"'>"+b+"</object>",c.firstChild}function N(c,d,f){var g,h=S(f);f=R(f);if(A.wk&&A.wk<312)return g;if(h){var i=A.ie?T("div"):T(b),j,k,l;typeof c.id==a&&(c.id=f);for(l in d)d.hasOwnProperty(l)&&l.toLowerCase()!=="movie"&&O(i,l,d[l]);A.ie&&(i=M(c.data,i.innerHTML));for(j in c)c.hasOwnProperty(j)&&(k=j.toLowerCase(),k==="styleclass"?i.setAttribute("class",c[j]):k!=="classid"&&k!=="data"&&i.setAttribute(j,c[j]));A.ie?o[o.length]=c.id:(i.setAttribute("type",e),i.setAttribute("data",c.data)),h.parentNode.replaceChild(i,h),g=i}return g}function O(a,b,c){var d=T("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function P(a){var b=S(a);b&&b.nodeName.toUpperCase()=="OBJECT"&&(A.ie?(b.style.display="none",function c(){if(b.readyState==4){for(var a in b)typeof b[a]=="function"&&(b[a]=null);b.parentNode.removeChild(b)}else setTimeout(c,10)}()):b.parentNode.removeChild(b))}function Q(a){return a&&a.nodeType&&a.nodeType===1}function R(a){return Q(a)?a.id:a}function S(a){if(Q(a))return a;var b=null;try{b=i.getElementById(a)}catch(c){}return b}function T(a){return i.createElement(a)}function U(a){return parseInt(a,10)}function V(a,b,c){a.attachEvent(b,c),p[p.length]=[a,b,c]}function W(a){a+="";var b=A.pv,c=a.split(".");return c[0]=U(c[0]),c[1]=U(c[1])||0,c[2]=U(c[2])||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function X(b,c,d,e){var f=i.getElementsByTagName("head")[0];if(!f)return;var g=typeof d=="string"?d:"screen";e&&(w=null,x=null);if(!w||x!=g){var h=T("style");h.setAttribute("type","text/css"),h.setAttribute("media",g),w=f.appendChild(h),A.ie&&typeof i.styleSheets!=a&&i.styleSheets.length>0&&(w=i.styleSheets[i.styleSheets.length-1]),x=g}w&&(typeof w.addRule!=a?w.addRule(b,c):typeof i.createTextNode!=a&&w.appendChild(i.createTextNode(b+" {"+c+"}")))}function Y(a,b){if(!y)return;var c=b?"visible":"hidden",d=S(a);u&&d?d.style.visibility=c:typeof a=="string"&&X("#"+a,"visibility:"+c)}function Z(b){var c=/[\\\"<>\.;]/,d=c.exec(b)!=null;return d&&typeof encodeURIComponent!=a?encodeURIComponent(b):b}var a="undefined",b="object",c="Shockwave Flash",d="ShockwaveFlash.ShockwaveFlash",e="application/x-shockwave-flash",f="SWFObjectExprInst",g="onreadystatechange",h=window,i=document,j=navigator,k,l=!1,m=[],n=[],o=[],p=[],q,r,s,t,u=!1,v=!1,w,x,y=!0,z=!1,A=function(){var f=typeof i.getElementById!=a&&typeof i.getElementsByTagName!=a&&typeof i.createElement!=a,g=j.userAgent.toLowerCase(),k=j.platform.toLowerCase(),m=k?/win/.test(k):/win/.test(g),n=k?/mac/.test(k):/mac/.test(g),o=/webkit/.test(g)?parseFloat(g.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,p=j.appName==="Microsoft Internet Explorer",q=[0,0,0],r=null;if(typeof j.plugins!=a&&typeof j.plugins[c]==b)r=j.plugins[c].description,r&&typeof j.mimeTypes!=a&&j.mimeTypes[e]&&j.mimeTypes[e].enabledPlugin&&(l=!0,p=!1,r=r.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),q[0]=U(r.replace(/^(.*)\..*$/,"$1")),q[1]=U(r.replace(/^.*\.(.*)\s.*$/,"$1")),q[2]=/[a-zA-Z]/.test(r)?U(r.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof h.ActiveXObject!=a)try{var s=new ActiveXObject(d);s&&(r=s.GetVariable("$version"),r&&(p=!0,r=r.split(" ")[1].split(","),q=[U(r[0]),U(r[1]),U(r[2])]))}catch(t){}return{w3:f,pv:q,wk:o,ie:p,win:m,mac:n}}(),B=function(){if(!A.w3)return;(typeof i.readyState!=a&&(i.readyState==="complete"||i.readyState==="interactive")||typeof i.readyState==a&&(i.getElementsByTagName("body")[0]||i.body))&&C(),u||(typeof i.addEventListener!=a&&i.addEventListener("DOMContentLoaded",C,!1),A.ie&&(i.attachEvent(g,function b(){i.readyState=="complete"&&(i.detachEvent(g,b),C())}),h==top&&function c(){if(u)return;try{i.documentElement.doScroll("left")}catch(a){setTimeout(c,0);return}C()}()),A.wk&&function d(){if(u)return;if(!/loaded|complete/.test(i.readyState)){setTimeout(d,0);return}C()}())}();m[0]=function(){l?F():G()};var $=function(){A.ie&&window.attachEvent("onunload",function(){var a=p.length;for(var b=0;b<a;b++)p[b][0].detachEvent(p[b][1],p[b][2]);var c=o.length;for(var d=0;d<c;d++)P(o[d]);for(var e in A)A[e]=null;A=null;for(var f in k)k[f]=null;k=null})}();return k={registerObject:function(a,b,c,d){if(A.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,n[n.length]=e,Y(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(A.w3)return H(a)},embedSWF:function(c,d,e,f,g,h,i,j,k,l){var m=R(d),n={success:!1,id:m};A.w3&&!(A.wk&&A.wk<312)&&c&&d&&e&&f&&g?(Y(m,!1),D(function(){e+="",f+="";var o={};if(k&&typeof k===b)for(var p in k)o[p]=k[p];o.data=c,o.width=e,o.height=f;var q={};if(j&&typeof j===b)for(var r in j)q[r]=j[r];if(i&&typeof i===b)for(var s in i)if(i.hasOwnProperty(s)){var t=z?encodeURIComponent(s):s,u=z?encodeURIComponent(i[s]):i[s];typeof q.flashvars!=a?q.flashvars+="&"+t+"="+u:q.flashvars=t+"="+u}if(W(g)){var v=N(o,q,d);o.id==m&&Y(m,!0),n.success=!0,n.ref=v,n.id=v.id}else{if(h&&I()){o.data=h,J(o,q,d,l);return}Y(m,!0)}l&&l(n)})):l&&l(n)},switchOffAutoHideShow:function(){y=!1},enableUriEncoding:function(b){z=typeof b===a?!0:b},ua:A,getFlashPlayerVersion:function(){return{major:A.pv[0],minor:A.pv[1],release:A.pv[2]}},hasFlashPlayerVersion:W,createSWF:function(a,b,c){return A.w3?N(a,b,c):undefined},showExpressInstall:function(a,b,c,d){A.w3&&I()&&J(a,b,c,d)},removeSWF:function(a){A.w3&&P(a)},createCSS:function(a,b,c,d){A.w3&&X(a,b,c,d)},addDomLoadEvent:D,addLoadEvent:E,getQueryParamValue:function(a){var b=i.location.search||i.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(a==null)return Z(b);var c=b.split("&");for(var d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return Z(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(v){var a=S(f);a&&q&&(a.parentNode.replaceChild(q,a),r&&(Y(r,!0),A.ie&&(q.style.display="block")),s&&s(t)),v=!1}},version:"2.3"}}),c("flashaudioproxy",["require","exports","module","underscore","errors","vendor/events","logger","states","vendor/swfobject"],function(a,b,c){var d,e=a("underscore"),f=a("errors"),g=a("vendor/events"),h=a("logger"),i=a("states"),j=a("vendor/swfobject");c.exports=d=function(a,b){this._descriptor=a,this._id=a.id,this._autoPlay=a.autoPlay||!1,d.players[a.id]=this,this._errorMessage=null,this._errorID=null,this._state=i.INITIALIZE,this._settings=b,this._volume=1,this._muted=!1,this._logger=new h(this.getType(),this._id,b),d.creatingFlashAudio||(d.flashAudio?this._createFlashAudio():d.createFlashObject(b))},d.createFlashObject=function(a){d.creatingFlashAudio=!0,d.containerElement=document.createElement("div"),d.containerElement.setAttribute("id",a.flashObjectID+"-container"),d.flashElementTarget=document.createElement("div"),d.flashElementTarget.setAttribute("id",a.flashObjectID+"-target"),d.containerElement.appendChild(d.flashElementTarget),document.body.appendChild(d.containerElement);var b=function(b){if(!b.success){for(var c in d.players)d.players.hasOwnProperty(c)&&(d.players[c]._errorID=f.FLASH_PROXY_CANT_LOAD_FLASH,d.players[c]._errorMessage="Cannot create flash object",d.players[c]._setState(i.ERROR));return}d.flashAudio=document.getElementById(a.flashObjectID),setTimeout(function(){if(d.flashAudio&&!("PercentLoaded"in d.flashAudio))for(var a in d.players)d.players.hasOwnProperty(a)&&(d.players[a]._errorID=f.FLASH_PROXY_FLASH_BLOCKED,d.players[a]._errorMessage="Flash object blocked",d.players[a]._setState(i.ERROR),d.players[a]._logger.type=d.players[a].getType(),d.players[a]._logger.log(d.players[a]._errorMessage))},a.flashLoadTimeout),d.flashAudio.triggerEvent=function(a,b){d.players[a]._triggerEvent(b)},d.flashAudio.onPositionChange=function(a,b,c,e){d.players[a]._onPositionChange(b,c,e)},d.flashAudio.onDebug=function(a,b,c){d.players[a]._logger.type=b,d.players[a]._logger.log(c)},d.flashAudio.onStateChange=function(a,b){d.players[a]._setState(b),b===i.DEAD&&delete d.players[a]},d.flashAudio.onInit=function(a){d.creatingFlashAudio=!1,e.invoke(e.values(d.players),"_createFlashAudio")}};document.getElementById(a.flashObjectID)||j.embedSWF(a.flashAudioPath,a.flashObjectID+"-target","1","1","9.0.24","",{json:encodeURIComponent(JSON.stringify(a))},{allowscriptaccess:"always"},{id:a.flashObjectID,tabIndex:"-1"},b)},d._ready=function(){return d.flashAudio&&!d.creatingFlashAudio},e.extend(d.prototype,g),d.players={},d.prototype._createFlashAudio=function(){d.flashAudio.createAudio(this._descriptor),this._state=d.flashAudio.getState(this._id),this.setVolume(this._volume),this.setMute(this._muted),this._autoPlay&&this.play()},d.prototype._triggerEvent=function(a){this._logger.log("Flash element triggered event: "+a),this.trigger(a,this)},d.prototype._setState=function(a){if(this._state===a)return;this._state=a,this.trigger("stateChange",a,this)},d.prototype._onPositionChange=function(a,b,c){this.trigger("positionChange",a,b,c,this)},d.prototype.getId=function(){return this._id},d.prototype.getType=function(){return d._ready()?d.flashAudio.getType(this._id):"Flash ..."},d.prototype.getContainerElement=function(){return d.containerElement},d.prototype.play=function(a){if(!d._ready())return;if(this.getState()===i.PAUSED){this.resume();return}a=a===undefined?0:a,d.flashAudio.playAudio(this._id,a)},d.prototype.pause=function(){if(!d._ready())return;d.flashAudio.pauseAudio(this._id)},d.prototype.seek=function(a){if(!d._ready())return;d.flashAudio.seekAudio(this._id,a)},d.prototype.resume=function(){if(!d._ready())return;d.flashAudio.resumeAudio(this._id)},d.prototype.setVolume=function(a){this._volume=a;if(!d._ready())return;d.flashAudio.setVolume(this._id,a)},d.prototype.getVolume=function(){return d._ready()?d.flashAudio.getVolume(this._id):this._volume},d.prototype.setMute=function(a){this._muted=a;if(!d._ready())return;d.flashAudio.setMute(this._id,a)},d.prototype.getMute=function(){return d._ready()?d.flashAudio.getMute(this._id):this._muted},d.prototype.getState=function(){return this._state},d.prototype.getCurrentPosition=function(){return d._ready()?d.flashAudio.getCurrentPosition(this._id):0},d.prototype.getLoadedPosition=function(){return d._ready()?d.flashAudio.getLoadedPosition(this._id):0},d.prototype.getDuration=function(){return d._ready()?d.flashAudio.getDuration(this._id):0},d.prototype.kill=function(){if(!d._ready())return 0;d.flashAudio.killAudio(this._id)},d.prototype.getErrorMessage=function(){return this._errorMessage?this._errorMessage:d.flashAudio.getErrorMessage(this._id)},d.prototype.getErrorID=function(){return this._errorID?this._errorID:d.flashAudio.getErrorID(this._id)},d.prototype.getLevelNum=function(){return d._ready()?d.flashAudio.getLevelNum(this._id):0},d.prototype.getLevel=function(){return d._ready()?d.flashAudio.getLevel(this._id):0},d.prototype.setLevel=function(a){return d._ready()?d.flashAudio.setLevel(this._id,a):0},d.prototype.preload=function(){return!1}}),c("html5audioplayer",["require","exports","module","underscore","vendor/events","states","errors","logger","browserutils"],function(a,b,c){var d,e=a("underscore"),f=a("vendor/events"),g=a("states"),h=a("errors"),i=a("logger"),j=a("browserutils");c.exports=d=function(a,b){this._id=a.id,this._descriptor=a,this._isLoaded=!1,this._settings=b,this._bufferingTimeout=null,this._currentPosition=0,this._loadedPosition=0,this._prevCurrentPosition=0,this._prevCheckTime=0,this._positionUpdateTimer=0,this._playRequested=!1,this._startFromPosition=0,a.duration&&(this._duration=a.duration),e.bindAll(this,"_onPositionChange","_onHtml5AudioStateChange","_onLoaded","_onLoadedMetadata","_onBuffering"),this._init(),this._toggleEventListeners(!0),this._descriptor.preload&&this._preload(),a.autoPlay?this.play():this._setState(g.IDLE)},e.extend(d.prototype,f),d.prototype.getId=function(){return this._id},d.prototype.getType=function(){return"HTML5 audio"},d.prototype.play=function(a){if(this._isInOneOfStates(g.ERROR,g.DEAD))return;if(this._isInOneOfStates(g.PAUSED,g.ENDED)){this.resume();return}this._logger.log("play"),this._startFromPosition=a||0,this._setState(g.LOADING),this._playRequested=!0,this._isLoaded?this._playAfterLoaded():(this._preload(),this.once("loaded",this._playAfterLoaded))},d.prototype.pause=function(){this._playRequested=!1;if(this._isInOneOfStates(g.ERROR,g.DEAD))return;this._logger.log("pause"),this._html5Audio.pause(),clearTimeout(this._bufferingTimeout),clearInterval(this._positionUpdateTimer)},d.prototype.seek=function(a){var b=!1,c=a/1e3,d=this._html5Audio.seekable,e;if(this._isInOneOfStates(g.ERROR,g.DEAD))return;if(!this._isLoaded){this.once("loaded",function(){this.seek(a)});return}if(j.isIE10Mobile)b=!0;else for(e=0;e<d.length;e++)if(c<=d.end(e)&&c>=d.start(e)){b=!0;break}if(!b)return;this._logger.log("seek"),this._setState(g.SEEKING),this._html5Audio.currentTime=c,this._currentPosition=a,clearTimeout(this._bufferingTimeout)},d.prototype.resume=function(){if(this._isInOneOfStates(g.ERROR,g.DEAD))return;this._logger.log("resume"),this.getState()===g.PAUSED?(this._setState(g.LOADING),this._html5Audio.play(this._html5Audio.currentTime)):this.getState()===g.ENDED&&(this._setState(g.LOADING),this._html5Audio.play(0)),clearInterval(this._positionUpdateTimer),this._positionUpdateTimer=setInterval(this._onPositionChange,this._settings.updateInterval)},d.prototype.setVolume=function(a){if(!this._html5Audio)return;this._html5Audio.volume=a},d.prototype.getVolume=function(){return this._html5Audio?this._html5Audio.volume:1},d.prototype.setMute=function(a){if(!this._html5Audio)return;this._html5Audio.muted=a},d.prototype.getMute=function(){return this._html5Audio?this._html5Audio.muted:!1},d.prototype.getState=function(){return this._state},d.prototype.getCurrentPosition=function(){return this._currentPosition},d.prototype.getLoadedPosition=function(){return this._loadedPosition},d.prototype.getDuration=function(){return this._duration},d.prototype.kill=function(){if(this._state===g.DEAD)return;clearInterval(this._positionUpdateTimer),clearTimeout(this._bufferingTimeout),this._playRequested=!1,this._toggleEventListeners(!1),this._html5Audio.pause(),this._html5Audio.src=null,delete this._html5Audio,this._setState(g.DEAD)},d.prototype.getErrorMessage=function(){return this._errorMessage},d.prototype.getErrorID=function(){return this._errorID},d.prototype._init=function(){this._html5Audio=j.createAudioElement(),this._html5Audio.id=this._settings.audioObjectID+"_"+this._descriptor.id,this._html5Audio.preload="none",this._logger=new i(this.getType(),this._id,this._settings)},d.prototype._preload=function(){this._html5Audio.preload!=="auto"&&(this._logger.log("setting up preload"),this._html5Audio.preload="auto",this._html5Audio.type=this._descriptor.mimeType,this._html5Audio.src=this._descriptor.src,this._html5Audio.load())},d.prototype._playAfterLoaded=function(){if(!this._playRequested)return;this._trySeekToStartPosition(),this._html5Audio.play(),clearInterval(this._positionUpdateTimer),this._positionUpdateTimer=setInterval(this._onPositionChange,this._settings.updateInterval)},d.prototype._setState=function(a){if(this._state===a)return;this._logger.log('state changed "'+a+'"'),this._logger.log("_currentPosition = "+this._currentPosition+", _loadedPosition = "+this._loadedPosition),this._state=a,this.trigger("stateChange",a,this)},d.prototype._isInOneOfStates=function(){for(var a in arguments)if(arguments[a]===this._state)return!0;return!1},d.prototype._toggleEventListeners=function(a){if(!this._html5Audio)return;var b=a?"addEventListener":"removeEventListener";["ended","play","playing","pause","seeking","waiting","seeked","error"].forEach(function(a){this._html5Audio[b](a,this._onHtml5AudioStateChange)},this),this._html5Audio[b]("loadeddata",this._onLoaded),this._html5Audio[b]("loadedmetadata",this._onLoadedMetadata)},d.prototype._updatePositions=function(){this._currentPosition=this._html5Audio.currentTime*1e3,this._html5Audio.seekable.length>0&&(this._loadedPosition=this._html5Audio.seekable.end(0)*1e3)},d.prototype._trySeekToStartPosition=function(){var a;if(this._startFromPosition>0){this._logger.log("seek to start position="+this._startFromPosition),a=this._startFromPosition/1e3,this._html5Audio.currentTime=a;if(this._html5Audio.currentTime===a)return this._startFromPosition=0,!0}return!1},d.prototype._onBuffering=function(){this._setState(g.LOADING)},d.prototype._onLoaded=function(a){this._logger.log('html5 audio event (loaded handler) "'+a.type+'"');if(this._duration===undefined||this._duration===0)this._duration=this._html5Audio.duration*1e3;this._isLoaded=!0,this.trigger("loaded",this)},d.prototype._onLoadedMetadata=function(a){this._logger.log('html5 audio event (loadedmetadata handler) "'+a.type+'"'),this.trigger("loadedmetadata",this)},d.prototype._onPositionChange=function(a){this._updatePositions();var b=this._currentPosition-this._prevCurrentPosition,c,d,e;this.trigger("positionChange",this.getCurrentPosition(),this._loadedPosition,this._duration,this);if(!this._isInOneOfStates(g.PLAYING,g.LOADING)){this._state===g.SEEKING&&b>0&&this._setState(g.PLAYING);return}this._duration!==0&&(this._currentPosition>this._duration||this._currentPosition>this._loadedPosition&&!j.isIE10Mobile)&&this._onHtml5AudioStateChange({type:"ended"}),c=(new Date).valueOf(),d=c-this._prevCheckTime;if(d===0)return;e=b/d,e>.7?(clearTimeout(this._bufferingTimeout),this._setState(g.PLAYING),this._bufferingTimeout=null):this._state===g.PLAYING&&this._bufferingTimeout==null&&(this._bufferingTimeout=setTimeout(this._onBuffering,this._settings.bufferingDelay)),this._prevCurrentPosition=this._currentPosition,this._prevCheckTime=c},d.prototype._onHtml5AudioStateChange=function(a){this._logger.log('html5 audio event (state change handler) "'+a.type+'"'),clearTimeout(this._bufferingTimeout);switch(a.type){case"playing":if(this._trySeekToStartPosition())return;this._updatePositions(),this._setState(g.PLAYING);break;case"pause":this._setState(g.PAUSED);break;case"ended":this._currentPosition=this._loadedPosition=this._duration,this.trigger("positionChange",this.getCurrentPosition(),this._loadedPosition,this._duration,this),clearInterval(this._positionUpdateTimer),this._setState(g.ENDED);break;case"waiting":if(this.getState()===g.SEEKING)break;this._setState(g.LOADING);break;case"seeking":this._setState(g.SEEKING);break;case"seeked":this._updatePositions(),this._html5Audio.paused?this._setState(g.PAUSED):this._setState(g.PLAYING);break;case"error":this._error(this._html5AudioErrorCodeToErrorId(),!0)}},d.prototype._html5AudioErrorCodeToErrorId=function(){return{1:h.HTML5_AUDIO_ABORTED,2:h.HTML5_AUDIO_NETWORK,3:h.HTML5_AUDIO_DECODE,4:h.HTML5_AUDIO_SRC_NOT_SUPPORTED}[this._html5Audio.error.code]},d.prototype._error=function(a,b){var c="error: ";b&&(c="error (native): "),this._errorID=a,this._errorMessage=this._getErrorMessage(this._errorID),this._logger.log(c+this._errorID+" "+this._errorMessage),this._setState(g.ERROR),this._toggleEventListeners(!1)},d.prototype._getErrorMessage=function(a){var b={};return b[h.HTML5_AUDIO_ABORTED]="The fetching process was aborted by the user.",b[h.HTML5_AUDIO_NETWORK]="A network connection lost.",b[h.HTML5_AUDIO_DECODE]="An error occurred while decoding the media resource.",b[h.HTML5_AUDIO_SRC_NOT_SUPPORTED]="The media resource is not suitable.",b[h.HTML5_AUDIO_ENDED_EARLY]="Audio playback ended before the indicated duration of the track.",b[h.HTML5_AUDIO_OVERRUN]="Audio playback continued past end of the track.",b[a]}}),c("hlsaudioplayer",["require","exports","module","underscore","errors","vendor/events","html5audioplayer","logger","states"],function(a,b,c){var d,e=a("underscore"),f=a("errors"),g=a("vendor/events"),h=a("html5audioplayer"),i=a("logger"),j=a("states"),k=1;c.exports=d=function(a,b){h.apply(this,arguments),this._seekPosition=0},e.extend(d.prototype,h.prototype),d.prototype.getType=function(){return"HTML5 HLS audio"},d.prototype.seek=function(a){h.prototype.seek.apply(this,arguments),this._isInOneOfStates(j.LOADING,j.SEEKING)&&(this._seekPosition=a)},d.prototype.getCurrentPosition=function(){if(this._isInOneOfStates(j.LOADING)&&this._seekPosition>0)return this._seekPosition;if(this._isInOneOfStates(j.PLAYING,j.SEEKING)){if(this._seekPosition>=this._currentPosition)return this._seekPosition;this._seekPosition=0}return h.prototype.getCurrentPosition.apply(this,arguments)},d.prototype._onStateChange=function(a){this._logger.log('hls html5 audio event "'+a.type+'"'),clearTimeout(this._bufferingTimeout);switch(a.type){case"playing":if(this._trySeekToStartPosition())return;this.updatePositions(),this._setState(j.PLAYING);break;case"pause":this._setState(j.PAUSED);break;case"ended":if(this._currentPosition+k<this._duration){this._errorID=f.HTML5_AUDIO_ENDED_EARLY,this._errorMessage=this._getErrorMessage(this._errorID),this._logger.log("hls html5 audio error: "+this._errorID+" "+this._errorMessage),this._setState(j.ERROR),this.toggleEventListeners(!1);break}this._currentPosition=this._loadedPosition=this._duration,this.trigger("positionChange",this._currentPosition,this._loadedPosition,this._duration,this),this._setState(j.ENDED),clearInterval(this._positionUpdateTimer);break;case"waiting":if(this.getState()===j.SEEKING)break;this._setState(j.LOADING);break;case"seeking":this._setState(j.SEEKING);break;case"seeked":this.updatePositions(),this._html5Audio.paused&&this._setState(j.PAUSED);break;case"error":this._errorID={1:f.HTML5_AUDIO_ABORTED,2:f.HTML5_AUDIO_NETWORK,3:f.HTML5_AUDIO_DECODE,4:f.HTML5_AUDIO_SRC_NOT_SUPPORTED}[this._html5Audio.error.code],this._errorMessage=this._getErrorMessage(this._errorID),this._logger.log("hls html5 audio error: "+this._errorID+" "+this._errorMessage),this._setState(j.ERROR),this.toggleEventListeners(!1)}}}),c("singleaudioplayer",["require","exports","module","underscore","browserutils","errors","vendor/events","html5audioplayer","logger","states"],function(a,b,c){var d,e=a("underscore"),f=a("browserutils"),g=a("errors"),h=a("vendor/events"),i=a("html5audioplayer"),j=a("logger"),k=a("states"),l={};c.exports=d=function(a,b){i.apply(this,arguments)},e.extend(d.prototype,i.prototype),d.prototype._init=function(){if(!d._html5Audio){var a=f.createAudioElement();a.id=this._settings.audioObjectID+"_Single",a.preload="none",d._html5Audio=a,this._preloadAudio=a,this._addGlobalListeners()}this._html5Audio=d._html5Audio,this._playRequested=!1,this._logger=new j(this.getType(),this._id,this._settings)},d.prototype._toggleEventListeners=function(a){a?l[this._id]=this:delete l[this._id]},d.prototype._addGlobalListeners=function(){var a=d._html5Audio,b=function(b,c){var d=l[a._playerId];Object.keys(l).forEach(function(a){var b=l[a];b!==d&&b._isInOneOfStates(k.PLAYING,k.LOADING,k.SEEKING)&&b.pause()}),d&&d[b](c)},c=b.bind(null,"_onHtml5AudioStateChange"),e=b.bind(null,"_onLoaded"),f=b.bind(null,"_onLoadedMetadata");["ended","play","playing","pause","seeking","waiting","seeked","error"].forEach(function(b){a.addEventListener(b,c)}),a.addEventListener("loadeddata",e),a.addEventListener("loadedmetadata",f)},d.prototype.getType=function(){return"HTML5 single audio"},d.prototype.play=function(a){this._playRequested=!0;if(this._html5Audio._playerId===this._descriptor.id&&this._isInOneOfStates(k.PAUSED,k.ENDED)){i.prototype.resume.apply(this,arguments);return}this._isInOneOfStates(k.PAUSED)&&(a=this._currentPosition),this._startFromPosition=a||0,this._html5Audio._playerId=this._descriptor.id,this._toggleEventListeners(!0),this._setState(k.LOADING);var b=function(){if(!this._playRequested)return;this._logger.log("play after loaded"),this._trySeekToStartPosition(),this._html5Audio.play(),clearInterval(this._positionUpdateTimer),this._positionUpdateTimer=setInterval(this._onPositionChange,this._settings.updateInterval)};this._html5Audio.readyState>0&&this._descriptor.src===this._html5Audio.src?b.apply(this):(this.once("loaded",b),this._html5Audio.type=this._descriptor.mimeType,this._html5Audio.src=this._descriptor.src,this._html5Audio.preload="auto",this._html5Audio.load())},d.prototype.pause=function(){this._playRequested=!1;if(this._isInOneOfStates(k.ERROR,k.DEAD))return;this._logger.log("pause"),this._html5Audio._playerId===this._descriptor.id?this._html5Audio.pause():(this._toggleEventListeners(!1),this._setState(k.PAUSED)),clearTimeout(this._bufferingTimeout),clearInterval(this._positionUpdateTimer)},d.prototype.seek=function(a){if(this._html5Audio._playerId!==this._descriptor.id){this._currentPosition=a,this.trigger("positionChange",this._currentPosition,this._loadedPosition,this._duration,this);return}i.prototype.seek.apply(this,arguments)},d.prototype.kill=function(){if(this._state===k.DEAD)return;this._playRequested=!1,clearInterval(this._positionUpdateTimer),clearTimeout(this._bufferingTimeout),this._toggleEventListeners(!1),this._setState(k.DEAD)},d.prototype.resume=function(){if(this._isInOneOfStates(k.ERROR,k.DEAD))return;if(this._html5Audio._playerId!==this._descriptor.id){this.play(this._currentPosition);return}i.prototype.resume.apply(this,arguments)},d.prototype.preload=function(){!this._preloadAudio&&f.supportSourceSwappingWithPreload()&&(this._preloadAudio=new Audio,this._preloadAudio.preload="none");var a=this._preloadAudio;a&&a.preload!=="auto"&&(this._logger.log("preload"),a.preload="auto",a._playerId=this._id,a.type=this._descriptor.mimeType,a.src=this._descriptor.src,a.load())}}),c("hlssingleaudioplayer",["require","exports","module","underscore","errors","vendor/events","hlsaudioplayer","logger","singleaudioplayer","states"],function(a,b,c){var d,e=a("underscore"),f=a("errors"),g=a("vendor/events"),h=a("hlsaudioplayer"),i=a("logger"),j=a("singleaudioplayer"),k=a("states");c.exports=d=function(a,b){j.apply(this,arguments)},e.extend(d.prototype,j.prototype),e.extend(d.prototype,e.pick(h.prototype,"_seekPosition","getCurrentPosition","_onStateChange")),d.prototype.seek=function(a){j.prototype.seek.apply(this,arguments),this._isInOneOfStates(k.LOADING,k.SEEKING)&&(this._seekPosition=a)},d.prototype.getType=function(){return"HTML5 HLS single audio"}}),c("mimetypes",{AAC:"audio/aac",M3U8:"application/x-mpegURL",MP4:"audio/mp4",MPEG:"audio/mpeg",OGG:"audio/ogg",WAV:"audio/wav",WEBM:"audio/webm",getTypeByExtension:function(a){var b={mp1:this.MPEG,mp2:this.MPEG,mp3:this.MPEG,mpeg:this.MPEG,mpg:this.MPEG,aac:this.AAC,mp4:this.MP4,ogg:this.OGG,oga:this.OGG,opus:this.OGG,webm:this.WEBM,wav:this.WAV,m3u8:this.M3U8};return b[a]||null}}),c("hls_mse/hls_toolkit",["require","exports","module","underscore","vendor/events","errors"],function(a,b,c){var d,e=a("underscore"),f=null,g=a("vendor/events"),h=a("errors"),i={NEW:0,REQUESTED:1,COMPLETE:2,FAILED:400},j={FIRST:"#EXTM3U",PLAYLIST:"#EXT-X-STREAM-INF:",SEGMENT:"#EXTINF:",END_TAG:"#EXT-X-ENDLIST",ENCRYPTION:"#EXT-X-KEY:"};c.exports=d=function(a,b){var c;this._descriptor=a,this._logger=b,c=a.src,c.indexOf("?")>-1&&(c=c.substr(0,c.indexOf("?"))),this._baseURI=c.substr(0,c.lastIndexOf("/")+1)},e.extend(d.prototype,g),d.Segment=function(a,b,c,d){e.extend(this,{uri:a,startPosition:b,endPosition:b+c,duration:c,index:d,data:null,status:i.NEW})},d.prototype.updatePlaylist=function(){var a=new XMLHttpRequest;a.open("GET",this._descriptor.src,!0),a.responseType="text",a.send(),this._logger.log("Downloading playlist "),a.onload=e.bind(function(b){if(a.status!==200){this.trigger("playlist_failed",h.MSE_HLS_PLAYLIST_NOT_FOUND);return}this._segments=[],this._parsePlaylist(a.responseText),this._segments.length>0?(this._logger.log("Playlist download complete"),this._retrieveEncryptionKey(function(){this.trigger("playlist_complete",this._segments)})):this.trigger("playlist_failed",h.MSE_HLS_NOT_VALID_PLAYLIST)},this),a.onerror=e.bind(function(a){this.trigger("playlist_failed",h.MSE_HLS_PLAYLIST_NOT_FOUND)},this)},d.prototype._parsePlaylist=function(a){var b=a.split("\n"),c,e,f,g=0,h=0;this._duration=0;while(g<b.length)c=b[g++],c.indexOf(j.SEGMENT)===0?(f=1e3*Number(c.substr(8,c.indexOf(",")-8)),e=this._createSegmentURL(b[g]),this._appendSegment(new d.Segment(e,this._duration,f,h++)),g++):c.indexOf(j.ENCRYPTION)===0&&this._parsePlaylistEncryptionHeader(c)},d.prototype._appendSegment=function(a){this._segments.push(a),this._duration+=a.duration},d.prototype._parsePlaylistEncryptionHeader=function(a){var b=a.substr(j.ENCRYPTION.length).split(","),c,d,f;e.each(b,function(a){a.indexOf("METHOD")>=0?d=a.split("=")[1]:a.indexOf("URI")>=0?c=a.split("=")[1]:a.indexOf("IV")>=0&&(f=a.split("=")[1])});if(d&&c&&d.length&&c.length)d=d.trim(),c=c.trim().replace(/"/g,"");else throw new Error("Failed to parse M3U8 encryption header");this._encryptionMethod=d,this._encryptionKeyUri=c,f&&f.length?(this._encryptionIvHexString=f.trim(),this._parseEncryptionIvHexString()):this._encryptionIv=null},d.prototype._parseEncryptionIvHexString=function(){var a=this._encryptionIvHexString.replace("0x",""),b=new Uint16Array(8),c,d=0;if(a.length%4!==0)throw new Error("Failed to parse M3U8 encryption IV (length is not multiple of 4)");for(;d<a.length;d+=4){c=parseInt(a.substr(d,4),16);if(!isNaN(c))b[d/4]=c;else throw new Error("Failed to parse hex number in IV string")}this._encryptionIv=b},d.prototype._encryptionIvForSegment=function(a){var b=new DataView(new ArrayBuffer(16));return b.setUint32(0,a.index,!0),b.buffer},d.prototype._retrieveEncryptionKey=function(a){if(!a)return;if(!this._encryptionKeyUri){a.call(this);return}var b=this._encryptionKeyUri,c=new XMLHttpRequest;c.open("GET",b,!0),c.responseType="arraybuffer",c.onload=e.bind(function(d){c.status===200?this._encryptionKey=new Uint8Array(c.response):this._logger.log("Failed to retrieve encryption key from "+b+", returned status "+c.status),a.call(this)},this),c.send(),this._logger.log("Downloading encryption key from "+b)},d.prototype._removeEncryptionPaddingBytes=function(a){var b=a.data[a.data.byteLength-1];b?(this._logger.log("Detected PKCS7 padding length of "+b+" bytes, slicing segment."),a.data=a.data.subarray(0,a.data.byteLength-b)):this._logger.log("No padding detected (last byte is zero)")},d.prototype.decryptSegmentAES128=function(a){this._logger.log("Decrypting AES-128 cyphered segment ...");if(!f)throw new Error("AES decryption not built-in");var b=f.cipher.createDecipher("AES-CBC",f.util.createBuffer(this._encryptionKey)),c=0,d=a.data.byteLength,e;this._encryptionIv?e=this._encryptionIv:e=this._encryptionIvForSegment(a),this._logger.log("Using IV ->"),b.start({iv:f.util.createBuffer(e)}),b.update(f.util.createBuffer(a.data)),b.finish(),a.data=new Uint8Array(d);for(;c<d;c++)a.data[c]=b.output.getByte();this._removeEncryptionPaddingBytes(a)},d.prototype.isAES128Encrypted=function(){return this._encryptionMethod==="AES-128"},d.prototype.getEncryptionKeyUri=function(){return this._encryptionKeyUri},d.prototype.getEncryptionIv=function(){return this._encryptionIv},d.prototype.getEncryptionKey=function(){return this._encryptionKey},d.prototype.getSegmentIndexForTime=function(a){var b,c;if(a>this._duration||a<0||!this._segments||this._segments.length===0)return-1;b=Math.floor(this._segments.length*(a/this._duration)),c=this._segments[b];while(!(c.startPosition<=a&&c.startPosition+c.duration>a))c.startPosition+c.duration>=a?b--:b++,c=this._segments[b];return b},d.prototype.getSegmentForTime=function(a){var b=this.getSegmentIndexForTime(a);return b>=0?this._segments[b]:null},d.prototype._createSegmentURL=function(a){return a.substr(0,7)==="http://"||a.substr(0,8)==="https://"||a.substr(0,1)==="/"?a:this._baseURI+a},d.prototype.loadSegment=function(a){var b,c,d,f;d=this._segments[a];if(d.status===i.REQUESTED||d.status===i.COMPLETE)return;c=d.uri,b=new XMLHttpRequest,b.open("GET",c,!0),b.responseType="arraybuffer",b.send(),this._logger.log("Downloading segment "+a+" from "+c),d.downloadStartTime=Date.now(),d.status=i.REQUESTED,b.onload=e.bind(function(c){if(b.status!==200){this.trigger("segment_failed",h.MSE_HLS_SEGMENT_NOT_FOUND),d.status=i.FAILED;return}this._logger.log("Download of segment "+a+" complete"),d.data=new Uint8Array(b.response),d.downloadTime=Date.now()-d.downloadStartTime,d.status=i.COMPLETE,this.trigger("segment_complete",d)},this),b.onerror=e.bind(function(a){d.status=i.FAILED,this.trigger("segment_failed",h.MSE_HLS_SEGMENT_NOT_FOUND)},this)},d.prototype.getSegment=function(a){return this._segments[a]?this._segments[a]:null},d.prototype.getDuration=function(){return this._duration?this._duration:0},d.prototype.getNumSegments=function(){return this._segments.length}}),c("hlsmseplayer",["require","exports","module","underscore","browserutils","vendor/events","errors","logger","html5audioplayer","hls_mse/hls_toolkit","states"],function(a,b,c){var d,e=a("underscore"),f=a("browserutils"),g=a("vendor/events"),h=a("errors"),i=a("logger"),j=a("html5audioplayer"),k=a("hls_mse/hls_toolkit"),l=a("states");c.exports=d=function(a,b){var c;this._id=a.id,this._descriptor=a,this._isLoaded=!1,this._settings=b,this._bufferingTimeout=null,this._currentPosition=0,this._loadedPosition=0,this._prevCurrentPosition=0,this._prevCheckTime=0,this._prevComparison=0,this._positionUpdateTimer=0,this._playRequested=!1,this._startFromPosition=0,this._sourceBufferPtsOffset=0,this._state=l.INITIALIZE,this._minPreBufferLengthForPlayback=5e3,this._maxBufferLength=3e4,this._segmentsAwaitingAppendance=[],this._html5Audio=f.createAudioElement(),this._logger=new i(this.getType(),this._id,this._settings),c=window.MediaSource||window.WebKitMediaSource;if(!c){this._error(h.MSE_NOT_SUPPORTED);return}e.bindAll(this,"_onPositionChange","_onPlaylistLoaded","_onMSEInit","_onSegmentLoaded","_onHtml5AudioStateChange","_onLoaded","_onLoadedMetadata","_onBuffering","_onSourceBufferUpdate","_onSourceBufferUpdateLastSegment"),this._toggleEventListeners(!0),this._mediaSource=new c,this._mediaSource.addEventListener("sourceopen",this._onMSEInit,!1),this._mediaSource.addEventListener("webkitsourceopen",this._onMSEInit,!1),this._html5Audio.src=window.URL.createObjectURL(this._mediaSource),this._hls_toolkit=new k(a,this._logger),this._hls_toolkit.on("segment_complete",this._onSegmentLoaded)},e.extend(d.prototype,j.prototype),d.prototype._onMSEInit=function(){this._logger.log("source open handler"),this._mediaSource.removeEventListener("sourceopen",this._onMSEInit,!1),this._mediaSource.removeEventListener("webkitsourceopen",this._onMSEInit,!1),this._sourceBuffer=this._mediaSource.addSourceBuffer("audio/mpeg"),this._descriptor.duration&&(this._setDuration(this._descriptor.duration),this._logger.log("duration set from descriptor metadata to "+this._duration)),this._sourceBuffer.addEventListener("update",this._onSourceBufferUpdate),this._descriptor.preload&&this.preload(),this._descriptor.autoPlay?this.play():this._setState(l.IDLE)},d.prototype.getType=function(){return"HLS MSE audio"},d.prototype.play=function(a){if(this._isInOneOfStates(l.ERROR,l.DEAD))return;if(this._isInOneOfStates(l.PAUSED,l.ENDED)){this.resume();return}this._logger.log("play"),this._startFromPosition=a||0,clearInterval(this._positionUpdateTimer),this._positionUpdateTimer=setInterval(this._onPositionChange,this._settings.updateInterval),this._hls_toolkit.once("playlist_complete",this._onPlaylistLoaded),this._hls_toolkit.updatePlaylist(),this._setState(l.LOADING)},d.prototype._inspectEncryptionData=function(){this._hls_toolkit.isAES128Encrypted()&&(this._logger.log("got key of byte length "+this._hls_toolkit.getEncryptionKey().byteLength),this._hls_toolkit.getEncryptionIv()?this._logger.log("got IV of byte length "+this._hls_toolkit.getEncryptionIv().byteLength):this._logger.log("no IV found in header, will use per-segment-index IV"))},d.prototype._onLoadedMetadata=function(){},d.prototype._onPlaylistLoaded=function(){this._logger.log("playlist loaded handler"),this._inspectEncryptionData(),this._setDuration(this._hls_toolkit.getDuration()),this._logger.log("duration set from playlist info to "+this._duration),this.trigger("loadedmetadata",this),this._requestSegment(this._hls_toolkit.getSegmentForTime(this._startFromPosition).index)},d.prototype._setDuration=function(a){this._duration=a,this._mediaSource.duration=this._duration/1e3},d.prototype._onSegmentLoaded=function(a){this._decryptSegment(a),this._tryAppendNextSegment(a),this._checkForNextSegmentToLoad()},d.prototype._decryptSegment=function(a){this._hls_toolkit.isAES128Encrypted()&&this._hls_toolkit.decryptSegmentAES128(a)},d.prototype._prepareBuffer=function(a){this._logger.log("Preparing buffer for non-zero timestamp offset ...");var b=0,c=setInterval(function(){if(this._sourceBuffer.updating)return;if(this._sourceBuffer.timestampOffset<a.startPosition){this._sourceBuffer.timestampOffset=b,this._sourceBuffer.appendBuffer(a.data),b+=a.duration,this._logger.log("Appended dummy fill data to buffer up to timestamp: "+this._sourceBuffer.timestampOffset);return}clearInterval(c),this._logger.log("Will retry to append segment "+a.index),this._tryAppendNextSegment(a)}.bind(this),1)},d.prototype._tryAppendNextSegment=function(a){if(this._sourceBuffer.updating){this._segmentsAwaitingAppendance.unshift(a);return}if(!this._sourceBuffer.buffered.length&&a.startPosition>0){this._prepareBuffer(a);return}this._sourceBuffer.timestampOffset=a.startPosition/1e3,this._sourceBuffer.appendBuffer(a.data),a.data=null,this._logger.log("Appending segment "+a.index),a.endPosition===this._duration&&this._sourceBuffer.addEventListener("update",this._onSourceBufferUpdateLastSegment),this._state===l.LOADING&&this._isTimeBuffered(this._html5Audio.currentTime+this._minPreBufferLengthForPlayback/1e3)&&(this._logger.log("Triggering playback after appending enough segments"),this._html5Audio.play())},d.prototype._onSourceBufferUpdateLastSegment=function(){this._sourceBuffer.removeEventListener("update",this._onSourceBufferUpdateLastSegment),this._mediaSource.endOfStream()},d.prototype._onSourceBufferUpdate=function(){this.trigger("loadeddata",this),this._segmentsAwaitingAppendance.length&&this._tryAppendNextSegment(this._segmentsAwaitingAppendance.pop())},d.prototype.pause=function(){this._playRequested=!1;if(this._isInOneOfStates(l.ERROR,l.DEAD))return;this._logger.log("pause"),this._html5Audio.pause(),clearTimeout(this._bufferingTimeout),clearInterval(this._positionUpdateTimer)},d.prototype.seek=function(a){var b=!1,c,d=this._html5Audio.seekable,e,f;if(this._isInOneOfStates(l.ERROR,l.DEAD))return;if(!this._isLoaded){this.once("loaded",function(){this.seek(a)});return}c=a/1e3;for(e=0;e<d.length;e++)if(c<=d.end(e)&&c>=d.start(e)){b=!0;break}if(!b)return;this._logger.log("seek"),this._setState(l.SEEKING),this._isTimeBuffered(a)||(f=this._hls_toolkit.getSegmentForTime(a),this._requestSegment(f.index)),this._html5Audio.currentTime=a/1e3,clearTimeout(this._bufferingTimeout)},d.prototype.resume=function(){if(this._isInOneOfStates(l.ERROR,l.DEAD))return;this._logger.log("resume"),this.getState()===l.PAUSED?(this._setState(l.LOADING),this._html5Audio.play(this._html5Audio.currentTime)):this.getState()===l.ENDED&&(this._setState(l.LOADING),this._html5Audio.play(0)),clearInterval(this._positionUpdateTimer),this._positionUpdateTimer=setInterval(this._onPositionChange,this._settings.updateInterval)},d.prototype.kill=function(){if(this._state===l.DEAD)return;clearInterval(this._positionUpdateTimer),clearTimeout(this._bufferingTimeout),this._playRequested=!1,this._toggleEventListeners(!1),this._html5Audio.pause(),this._html5Audio.src=null,delete this._html5Audio,this._setState(l.DEAD)},d.prototype.preload=function(){var a=this._html5Audio;a.preload!=="auto"&&(this._logger.log("preload"),a.preload="auto",a.type=this._descriptor.mimeType,a.src=this._descriptor.src,a.load())},d.prototype._checkForNextSegmentToLoad=function(){var a=this._currentPosition+this._maxBufferLength,b=this._lastSegmentRequested+1,c=null;if(this._hls_toolkit.getSegment(this._lastSegmentRequested).endPosition<a&&!this._isTimeBuffered(a))do{if(b>=this._hls_toolkit.getNumSegments())break;this._requestSegment(b),c=this._hls_toolkit.getSegment(b++)}while(c.endPosition<a)},d.prototype._requestSegment=function(a){this._lastSegmentRequested=a,this._hls_toolkit.loadSegment(this._lastSegmentRequested)},d.prototype._onPositionChange=function(a){j.prototype._onPositionChange.apply(this,arguments),isNaN(this._lastSegmentRequested)||this._checkForNextSegmentToLoad()},d.prototype._getErrorMessage=function(a){var b={};return b[h.MSE_NOT_SUPPORTED]="The browsed does not support Media Source Extensions yet",b[h.MSE_HLS_NOT_VALID_PLAYLIST]="Playlist is invalid",b[h.MSE_HLS_SEGMENT_NOT_FOUND]="Failed to load media segment",b[h.MSE_HLS_PLAYLIST_NOT_FOUND]="Failed to load HLS playlist",b[h.MSE_MP3_NOT_SUPPORTED]="Browser does not support MPEG streams in Media Source Extension",b[a]?b[a]:j.prototype._getErrorMessage.apply(this,arguments)},d.prototype._isTimeBuffered=function(a){var b=this._html5Audio.buffered,c;for(c=0;c<b.length;c++)if(a<b.end(c)&&a>=b.start(c))return!0;return!1}}),c("factory",["require","exports","module","underscore","browserutils","flashaudioproxy","hlsaudioplayer","hlssingleaudioplayer","html5audioplayer","mimetypes","singleaudioplayer","hlsmseplayer","vendor/swfobject"],function(a,b,c){var d,e=a("underscore"),f=a("browserutils"),g=a("flashaudioproxy"),h=a("hlsaudioplayer"),i=a("hlssingleaudioplayer"),j=a("html5audioplayer"),k=a("mimetypes"),l=a("singleaudioplayer"),m=a("hlsmseplayer"),n=a("vendor/swfobject");c.exports=d=function(){},d.createAudioPlayer=function(a,b){var c,e,n;c=a.src.split(":")[0];if((c==="rtmp"||c==="rtmpt"||a.forceFlash)&&!a.forceHTML5)n=new g(a,b);else{a.mimeType=d.getMimeType(a);if(a.mimeType===k.M3U8)f.isNativeHlsSupported()?f.isMobile()||a.forceSingle?n=new i(a,b):n=new h(a,b):f.isMSESupported()&&f.isMSESupportMPEG()?n=new m(a,b):n=new g(a,b);else if(f.supportHTML5Audio()&&f.canPlayType(a.mimeType)||a.forceHTML5)f.isMobile()||a.forceSingle?n=new l(a,b):n=new j(a,b);else if(a.mimeType===k.MPEG)n=new g(a,b);else return null}return n},d.getMimeType=function(a){if(a.mimeType)return a.mimeType;var b=a.src.split("?")[0];return b=b.substring(b.lastIndexOf(".")+1,b.length),k.getTypeByExtension(b)}}),c("audiomanager",["require","exports","module","underscore","factory","states","errors","browserutils"],function(a,b,c){var d,e=a("underscore"),f=a("factory"),g=a("states"),h=a("errors"),i=a("browserutils");c.exports=d=function(a){a=a||{},this._players={},this._volume=1,this._mute=!1,this._settings=e.defaults(a,d.defaults)},d.States=g,d.Errors=h,d.BrowserUtils=i,d.defaults={flashAudioPath:"flashAudio.swf",flashLoadTimeout:2e3,flashObjectID:"flashAudioObject",audioObjectID:"html5AudioObject",updateInterval:300,bufferTime:8e3,bufferingDelay:800,debug:!1},d.prototype.getAudioPlayer=function(a){return this._players[a]},d.prototype.hasAudioPlayer=function(a){return this._players[a]!==undefined},d.prototype.removeAudioPlayer=function(a){this.hasAudioPlayer(a)&&delete this._players[a]},d.prototype.setVolume=function(a){a=Math.min(1,a),this._volume=Math.max(0,a);for(var b in this._players)this._players.hasOwnProperty(b)&&this._players[b].setVolume(this._volume)},d.prototype.getVolume=function(){return this._volume},d.prototype.setMute=function(a){this._muted=a;for(var b in this._players)this._players.hasOwnProperty(b)&&this._players[b].setMute(this._muted)},d.prototype.getMute=function(){return this._muted},d.prototype.createAudioPlayer=function(a){var b,c,d;a.id||(a.id=Math.floor(Math.random()*1e10).toString()+(new Date).getTime().toString());if(!a.src)throw new Error("AudioManager: You need to pass a valid src");return this._players[a.id]||(this._players[a.id]=f.createAudioPlayer(a,this._settings)),this._players[a.id].setVolume(this._volume),this._players[a.id].setMute(this._muted),this._players[a.id].on("stateChange",this._onStateChange,this),this._players[a.id]},d.prototype._onStateChange=function(a,b){b.getState()===g.DEAD&&this.removeAudioPlayer(b.getId())}}),b(["audiomanager"]),b("audiomanager")})}),
define("lib/helpers/name-helper",["require","exports","module","vendor/handlebars-runtime","lib/helpers/lang-helper"],function(a,b,c){var d=a("vendor/handlebars-runtime"),e=a("lib/helpers/lang-helper"),f=c.exports={get:function(a,b){var c=d.Utils.escapeExpression(a.username||a.title||a.name);return b===!0&&(c=e.possessive(c)),c}}}),
define("lib/html-helper",["require","exports","module","_","vendor/handlebars-runtime"],function(a,b,c){var d=a("_"),e=a("vendor/handlebars-runtime"),f=c.exports={getMarkup:function(a,b,c){if(Array.isArray(b))return b.map(function(b){return f.getMarkup(a,b,c)}).join("");c=c||{};var g=[],h=c.whitelist,i=c.closingTag==="self"?"/":"",j=c.closingTag===!0?"</"+a+">":"";return d.each(b,function(a,b){b==="style"&&typeof a=="object"&&(a=this.getStyleAttr(a)),(!h||h.indexOf(b)!==-1)&&g.push(" "+b+'="'+e.Utils.escapeExpression(a)+'"')},this),"<"+a+g.join("")+i+">"+j},getStyleAttr:function(a){return d.map(a,function(a,b){return a!=null&&a!==""?b+":"+a+";":""}).join("")}}}),
define("lib/helpers/lang-helper",["require","exports","module"],function(a,b,c){var d=c.exports={possessive:function(a){return a+"’s"}}})